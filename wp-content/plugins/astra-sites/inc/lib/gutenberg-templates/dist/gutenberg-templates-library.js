!function(){"use strict";var e={2948:function(e,t,r){r.d(t,{L:function(){return Ee}});var a={};r.r(a),r.d(a,{DYNAMIC_CONTENT_FLAGS_RESET:function(){return D},DYNAMIC_CONTENT_FLAG_SET:function(){return R},DYNAMIC_CONTENT_RESYNC_STATUS:function(){return N},DYNAMIC_CONTENT_SYNC_COMPLETE:function(){return L},DYNAMIC_CONTENT_SYNC_MESSAGE:function(){return H},DYNAMIC_CONTENT_SYNC_START:function(){return v},FETCH_FROM_API:function(){return Q},RESET_KEYWORDS_IMAGES_AI_STEP:function(){return A},RESET_ONBOARDING_AI_STEPS:function(){return b},SET_ALL_SITES:function(){return q},SET_CREDITS_DETAILS:function(){return W},SET_CURRENT_CATEGORY:function(){return G},SET_DYNAMIC_CONTENT:function(){return h},SET_FILTER_SITES_BY_CATEGORY:function(){return x},SET_FILTER_SITES_BY_SEARCH_TERM:function(){return Z},SET_HIDE_NOTICE:function(){return z},SET_IMPORT_IN_PROGRESS:function(){return w},SET_IS_NEW_USER_ONBOARDING:function(){return K},SET_LOADING_BLOCKS_AND_SITES:function(){return ee},SET_NEXT_AI_STEP:function(){return B},SET_NEXT_ONBOARDING_PAGE_AI_STEP:function(){return Y},SET_OPEN_AI_API_KEY_AI_STEP:function(){return u},SET_PREVIOUS_AI_STEP:function(){return f},SET_PREVIOUS_ONBOARDING_PAGE_AI_STEP:function(){return U},SET_SHOW_PAGES_ONBOARDING:function(){return F},SET_WEBSITE_CONTACT_AI_STEP:function(){return I},SET_WEBSITE_DETAILS_AI_STEP:function(){return p},SET_WEBSITE_DETAILS_HISTORY_AI_STEP:function(){return E},SET_WEBSITE_IMAGES_AI_STEP:function(){return T},SET_WEBSITE_IMAGES_PRE_SELECTED_AI_STEP:function(){return d},SET_WEBSITE_KEYWORDS_AI_STEP:function(){return P},SET_WEBSITE_NAME_AI_STEP:function(){return S},SET_WEBSITE_TYPE_AI_STEP:function(){return y},SET_WEBSITE_TYPE_LIST_AI_STEP:function(){return $},TOGGLE_ADAPTIVE_MODE:function(){return O},TOGGLE_CONNECT_ZIP_AI:function(){return J},TOGGLE_DISABLE_AI_CONTENT:function(){return m},TOGGLE_DISABLE_LIVE_PREVIEW:function(){return k},TOGGLE_ONBOARDING_AI_STEP:function(){return C},TOGGLE_ONBOARDING_PAGE_AI:function(){return M},TOGGLE_SKIP_ZIP_AI_ONBOARDING:function(){return j},TOGGLE_UPDATE_ONBOARDING_IMAGES:function(){return V},UPDATE_LICENSE_STATUS:function(){return X}});var n=r(9818),o=r(2819),l=r(5622);const s=(e,t,r,a,n,o)=>_(t,r,a,n,e,o,"block"),i=(e,t,r,a,n,o)=>_(t,r,a,n,e,o,"page"),c=(e,t,r,a)=>_(e,t,r,a,(0,l.st)()),_=(e,t,r,a,n,l,s)=>{n||(n=ast_block_template_vars.allBlocks);let i=[];e&&(i=n.filter((t=>t.title.toLowerCase().includes(e.toLowerCase()))));let c=[];if(r&&(c=n.filter((e=>{const t=Object.values(e.tag);if(t.length){for(const e in t)if(t[e].toLowerCase().includes(r.toLowerCase()))return!0;return!1}return!1}))),(e||r)&&(n=(0,o.unionBy)(i,c,"ID")),t)if("favorite"===t){const e=l[s];n=n.filter((t=>e.includes(parseInt(+t.ID))))}else n=n.filter((e=>parseInt(t)===parseInt(e.category)));return a&&(n=n.filter((e=>a===e.filter))),n},g=e=>{let t=[];for(const e in ast_block_template_vars.allSites){const r=ast_block_template_vars.allSites[e],a=r.pages||{};if(Object.values(a).length)for(const e in a)a[e]["site-ID"]=r.ID,a[e]["site-title"]=r.title,t.push(a[e])}let r=[];e&&(r=t.filter((t=>t.title.toLowerCase().includes(e.toLowerCase()))));let a=[];e&&(a=t.filter((t=>t["site-title"].toLowerCase().includes(e.toLowerCase()))));let n=[];return e&&(n=t.filter((t=>{if("tag"in t){const r=Object.values(t.tag)||[];if(r.length)for(const t in r)if(r[t].toLowerCase().includes(e.toLowerCase()))return!0;return!1}return!0}))),e&&(t=(0,o.unionBy)(r,n,a,"ID")),t},u="SET_OPEN_AI_API_KEY_AI_STEP",y="SET_WEBSITE_TYPE_AI_STEP",S="SET_WEBSITE_NAME_AI_STEP",p="SET_WEBSITE_DETAILS_AI_STEP",E="SET_WEBSITE_DETAILS_HISTORY_AI_STEP",P="SET_WEBSITE_KEYWORDS_AI_STEP",T="SET_WEBSITE_IMAGES_AI_STEP",d="SET_WEBSITE_IMAGES_PRE_SELECTED_AI_STEP",A="RESET_KEYWORDS_IMAGES_AI_STEP",I="SET_WEBSITE_CONTACT_AI_STEP",f="SET_PREVIOUS_AI_STEP",B="SET_NEXT_AI_STEP",C="TOGGLE_ONBOARDING_AI_STEP",b="RESET_ONBOARDING_AI_STEPS",m="TOGGLE_DISABLE_AI_CONTENT",O="TOGGLE_ADAPTIVE_MODE",k="TOGGLE_DISABLE_LIVE_PREVIEW",v="DYNAMIC_CONTENT_SYNC_START",L="DYNAMIC_CONTENT_SYNC_COMPLETE",N="DYNAMIC_CONTENT_RESYNC_STATUS",R="DYNAMIC_CONTENT_FLAG_SET",D="DYNAMIC_CONTENT_FLAGS_RESET",h="SET_DYNAMIC_CONTENT",G="SET_CURRENT_CATEGORY",w="SET_IMPORT_IN_PROGRESS",F="SET_SHOW_PAGES_ONBOARDING",W="SET_CREDITS_DETAILS",M="TOGGLE_ONBOARDING_PAGE_AI",Y="SET_NEXT_ONBOARDING_PAGE_AI_STEP",U="SET_PREVIOUS_ONBOARDING_PAGE_AI_STEP",K="SET_IS_NEW_USER_ONBOARDING",V="TOGGLE_UPDATE_ONBOARDING_IMAGES",H="DYNAMIC_CONTENT_SYNC_MESSAGE",j="TOGGLE_SKIP_ZIP_AI_ONBOARDING",Z="SET_FILTER_SITES_BY_SEARCH_TERM",x="SET_FILTER_SITES_BY_CATEGORY",X="UPDATE_LICENSE_STATUS",q="SET_ALL_SITES",J="TOGGLE_CONNECT_ZIP_AI",z="SET_HIDE_NOTICE",$="SET_WEBSITE_TYPE_LIST_AI_STEP",Q="FETCH_FROM_API",ee="SET_LOADING_BLOCKS_AND_SITES";var te=r(1401);const re="gutenberg-templates/v1",ae=re+"/blocks",ne=`${re}/setup`,oe=ast_block_template_vars?.business_details,{selectedImages:le}=(0,te.Kk)("ast-block-templates",{}),se=!!ast_block_template_vars.skip_zip_ai_onboarding,ie={togglePopup:!1,loadingBlocksAndSites:!1,allPatternsAndPages:{patterns:[],pages:[]},allBlocks:[],allPatterns:[],allPatternsCategories:[],allBlocksPages:[],allPagesCategories:[],allWireframes:(0,l.st)(),allSites:[],allPages:[],dynamicContent:ast_block_template_vars.dynamic_content,allCategories:[],favorites:ast_block_template_vars.favorites,dynamicContentSyncStatus:{pages:!1,patterns:!1},dynamicContentReSyncStatus:!1,dynamicContentSyncMessage:null,dynamicContentSyncFlags:{patterns:{},pages:{}},currentCategory:{pages:{},patterns:{}},showPagesOnboarding:ast_block_template_vars.show_pages_onboarding,credits:{flatRates:(0,te.nr)(ast_block_template_vars.flat_rates),...ast_block_template_vars.spec_credit_details},currentScreen:"all-blocks-grid",previousScreen:"",filterSitesByCategory:"",filterSitesBySearchTerm:"",filterBlocksByCategory:"",filterBlocksByColor:"",filterBlocksBySearchTerm:"",filterBlocksPagesByCategory:"",filterBlocksPagesByColor:"",filterBlocksPagesBySearchTerm:"",filterPagesByPageType:"",filterPagesBySearchTerm:"",pagePreview:{},sitePreview:{},fullWidthPagePreview:{},fullWidthBlockPreview:{},notice:{},importItemInfo:{},displayDynamicPopup:!1,activeBlockPaletteSlug:"default",activePagePaletteSlug:"default",defaultBlockPalette:(0,l.US)(),defaultPagePalette:(0,l.EX)(),activeBlockPalette:{},activePagePalette:{},blockColorPaletteObj:ast_block_template_vars.block_color_palette,pageColorPaletteObj:ast_block_template_vars.page_color_palette,onboardingAI:{showOnboarding:!1,updateImages:!1,currentStep:oe?.token?2:1,isNewUser:!!ast_block_template_vars.is_new_user,stepData:{token:oe?.token||"",businessType:Number.isInteger(parseInt(oe?.business_category))?oe?.business_category_name:oe?.business_category,businessName:oe?.business_name||"",businessDetails:oe?.business_description||"",businessDetailsHistory:oe?.business_description?[oe?.business_description]:[],keywords:oe?.image_keyword||[],selectedImages:le?.length?le:oe?.images,imagesPreSelected:!!oe?.images?.length||!!oe?.images?.length||!1,businessContact:{phone:oe?.business_phone||"",email:oe?.business_email||"",address:oe?.business_address||"",socialMedia:oe?.social_profiles||[]}}},disableAi:!!ast_block_template_vars?.disable_ai,adaptiveMode:!!ast_block_template_vars?.adaptive_mode,disablePreview:!!ast_block_template_vars?.disable_preview,regeneratingContentCategory:null,importInProgress:!1,skipZipAIOnboarding:se,connectZipAI:!1,onboardingPageAI:{showOnboarding:!1,currentStep:1,stepData:{type:{},description:""},pageContent:{}},aiDesignCopilot:ast_block_template_vars.ai_design_copilot,aiAssistant:ast_block_template_vars.ai_assistant,licenseStatus:ast_block_template_vars.license_status?"active":"inactive",hideNotice:(0,te.nr)(ast_block_template_vars.hide_notice),isSyncBusinessDetails:ast_block_template_vars.is_sync_business_details};const ce={getTogglePopup(e){let{togglePopup:t}=e;return t},getAllWireframes(e){let{allWireframes:t}=e;return t},getAllPatternsAndPages(e){let{allPatternsAndPages:t}=e;return t},getAllPatterns(e){let{allPatterns:t}=e;return t},getAllPatternsCategories(e){let{allPatternsCategories:t}=e;return t},getAllPagesCategories(e){let{allPagesCategories:t}=e;return t},getDynamicContentSyncFlags(e){let{dynamicContentSyncFlags:t}=e;return t},getDynamicContentSyncStatus(e){let{dynamicContentSyncStatus:t}=e;return t},getDynamicContentReSyncStatus(e){let{dynamicContentReSyncStatus:t}=e;return t},getAllBlocksPages(e){let{allBlocksPages:t}=e;return t},getAllCategories(e){let{allCategories:t}=e;return t},getDynamicContent(e){let{dynamicContent:t}=e;return t},getCurrentCategory(e){let{currentCategory:t}=e;return t},getFavorites(e){let{favorites:t}=e;return t},getAllBlocks(e){let{allBlocks:t}=e;return t},getAllSites(e){let{allSites:t}=e;return t},getCount(e){let{count:t}=e;return t},getCurrentScreen(e){let{currentScreen:t}=e;return t},getPreviousScreen(e){let{previousScreen:t}=e;return t},getSearchTerm(e){let{searchTerm:t}=e;return t},getSitePreview(e){let{sitePreview:t}=e;return t},getNotice(e){let{notice:t}=e;return t},getImportItemInfo(e){let{importItemInfo:t}=e;return t},getPagePreview(e){let{pagePreview:t}=e;return t},getFullWidthPreview(e){let{fullWidthPreview:t}=e;return t},getFilterBlocksByCategory(e){let{filterBlocksByCategory:t}=e;return t},getFilterBlocksByColor(e){let{filterBlocksByColor:t}=e;return t},getDefaultBlockColorPalette(e){let{defaultBlockPalette:t}=e;return t},getActiveBlockPalette(e){let{activeBlockPalette:t}=e;return t},getActiveBlockPaletteSlug(e){let{activeBlockPaletteSlug:t}=e;return t},getDefaultPageColorPalette(e){let{defaultPagePalette:t}=e;return t},getActivePagePalette(e){let{activePagePalette:t}=e;return t},getActivePagePaletteSlug(e){let{activePagePaletteSlug:t}=e;return t},getFilterBlocksBySearchTerm(e){let{filterBlocksBySearchTerm:t}=e;return t},getFilterPagesByPageType(e){let{filterPagesByPageType:t}=e;return t},getFilterPagesBySearchTerm(e){let{filterPagesBySearchTerm:t}=e;return t},getFilterBlocksPagesByCategory(e){let{filterBlocksPagesByCategory:t}=e;return t},getFilterBlocksPagesByColor(e){let{filterBlocksPagesByColor:t}=e;return t},getFilterBlocksPagesBySearchTerm(e){let{filterBlocksPagesBySearchTerm:t}=e;return t},getFullWidthPagePreview(e){let{fullWidthPagePreview:t}=e;return t},getFullWidthBlockPreview(e){let{fullWidthBlockPreview:t}=e;return t},getAllPages(e){let{allPages:t}=e;return t},getBlockSearchInput(e){let{blockSearchInput:t}=e;return t},getDisplayDynamicPopup(e){let{displayDynamicPopup:t}=e;return t},getOnboardingAI(e){let{onboardingAI:t}=e;return t},getCurrentAIStep(e){let{onboardingAI:{currentStep:t}}=e;return t},getAIStepData(e){let{onboardingAI:{stepData:t}}=e;return t},getDisableAi(e){let{disableAi:t}=e;return t},getAdaptiveMode(e){let{adaptiveMode:t}=e;return t},getDisablePreview(e){let{disablePreview:t}=e;return t},getRegeneratingContentCategory(e){let{regeneratingContentCategory:t}=e;return t},getImportInProgress(e){let{importInProgress:t}=e;return t},getShowPagesOnboarding(e){let{showPagesOnboarding:t}=e;return t},getCreditsDetails(e){let{credits:t}=e;return t},getOnboardingPageAI(e){let{onboardingPageAI:t}=e;return t},getDynamicContentSyncMessage(e){let{dynamicContentSyncMessage:t}=e;return t},getSkipZipAIOnboarding(e){let{skipZipAIOnboarding:t}=e;return t},getAiDesignCopilotStatus(e){let{aiDesignCopilot:t}=e;return t},getAiAssistantStatus(e){let{aiAssistant:t}=e;return t},getFilterSitesBySearchTerm(e){let{filterSitesBySearchTerm:t}=e;return t},getFilterSitesByCategory(e){let{filterSitesByCategory:t}=e;return t},getLicenseStatus(e){let{licenseStatus:t}=e;return t},getBlockColorPaletteObj(e){let{blockColorPaletteObj:t}=e;return t},getPageColorPaletteObj(e){let{pageColorPaletteObj:t}=e;return t},getConnectZipAI(e){let{connectZipAI:t}=e;return t},getHideNotice(e){let{hideNotice:t}=e;return t},getLoadingBlocksAndSites(e){let{loadingBlocksAndSites:t}=e;return t},getIsSyncBusinessDetails(e){let{isSyncBusinessDetails:t}=e;return t}};var _e=ce;const ge={setTogglePopup(){return{type:"TOGGLE_POPUP"}},setOnboardingAiPopup(){return{type:"SET_ONBOARDING_AI_POPUP"}},setFullWidthPagePreview(e){return{type:"FULL_WIDTH_PAGE_PREVIEW",fullWidthPagePreview:e}},setFullWidthBlockPreview(e){return{type:"FULL_WIDTH_BLOCK_PREVIEW",fullWidthBlockPreview:e}},*setCurrentScreen(e){return(0,n.select)(Ee).getConnectZipAI()&&(yield ge.toggleConnectZipAI()),{type:"SET_CURRENT_SCREEN",currentScreen:e}},setPreviousScreen(e){return{type:"SET_PREVIOUS_SCREEN",previousScreen:e}},setSitePreview(e){return{type:"SET_SITE_PREVIEW",sitePreview:e}},setSearchPagePreview(e){return{type:"SET_SEARCH_PAGE_PREVIEW",item:e}},setNotice(e){return{type:"SET_NOTICE",notice:e}},setPagePreview(e){return{type:"SET_PAGE_PREVIEW",pagePreview:e}},setFullWidthPreview(e){return{type:"SET_FULL_PREVIEW",fullWidthPreview:e}},setSearchTerm(e){return{type:"SEARCH_TERM",searchTerm:e}},setFilterBlocksByCategory(e){return{type:"SET_FILTER_BLOCKS_BY_CATEGORY",filterBlocksByCategory:e}},setFilterBlocksByColor(e){return{type:"SET_FILTER_BLOCKS_BY_COLOR",filterBlocksByColor:e}},setDefaultBlockPalette(e){return{type:"SET_DEFAULT_BLOCK_PALETTE",defaultBlockPalette:e}},setActiveBlockPalette(e){return{type:"SET_ACTIVE_BLOCK_PALETTE",activeBlockPalette:e}},setActiveBlockPaletteSlug(e){return{type:"SET_ACTIVE_BLOCK_PALETTE_SLUG",activeBlockPaletteSlug:e}},setDefaultPagePalette(e){return{type:"SET_DEFAULT_PAGE_PALETTE",defaultPagePalette:e}},setActivePagePalette(e){return{type:"SET_ACTIVE_PAGE_PALETTE",activePagePalette:e}},setActivePagePaletteSlug(e){return{type:"SET_ACTIVE_PAGE_PALETTE_SLUG",activePagePaletteSlug:e}},setImportItemInfo(e){return{type:"SET_IMPORT_ITEM_INFO",importItemInfo:e}},setFilterBlocksBySearchTerm(e){return{type:"SET_FILTER_BLOCKS_BY_SEARCH_TERM",filterBlocksBySearchTerm:e}},setFilterBlocksPagesByCategory(e){return{type:"SET_FILTER_BLOCKS_PAGES_BY_CATEGORY",filterBlocksPagesByCategory:e}},setFilterBlocksPagesByColor(e){return{type:"SET_FILTER_BLOCKS_PAGES_BY_COLOR",filterBlocksPagesByColor:e}},setFilterBlocksPagesBySearchTerm(e){return{type:"SET_FILTER_BLOCKS_PAGES_BY_SEARCH_TERM",filterBlocksPagesBySearchTerm:e}},setFilterSitesByCategory(e){return{type:x,payload:e}},*setFilterSitesBySearchTerm(e){return yield ge.setFilterSitesByCategory(""),{type:Z,payload:e}},setFilterPagesByPageType(e){return{type:"SET_FILTER_PAGES_BY_PAGE_TYPE",filterPagesByPageType:e}},setFilterPagesBySearchTerm(e){return{type:"SET_FILTER_PAGES_BY_SEARCH_TERM",filterPagesBySearchTerm:e}},setAllPages(e){return{type:"SET_ALL_PAGES",allPages:e}},setAllSites(e){return{type:q,payload:e}},setAllPatterns(e){return{type:"SET_ALL_PATTERNS",allPatterns:e}},setCurrentCategory(e,t){return{type:"SET_CURRENT_CATEGORY",payload:{type:e,category:t}}},setAllCategories(e){return{type:"SET_ALL_CATEGORIES",allCategories:e}},setDynamicContent(e){return{type:"SET_DYNAMIC_CONTENT",dynamicContent:e}},setFavorites(e){return{type:"SET_FAVORITES",favorites:e}},setState(e){return{type:"SET_STATE",state:e}},setDisplayDynamicPopup(e){return{type:"SET_DISPLAY_DYNAMIC_POPUP",displayDynamicPopup:e}},toggleOnboardingAIStep(e){return{type:C,...!!e&&{payload:e}}},setNextAIStep(){return{type:B}},setPreviousAIStep(){return{type:f}},setTokenStep(e){return{type:u,payload:e}},setWebsiteTypeAIStep(e){return{type:y,payload:e}},setWebsiteNameAIStep(e){return{type:S,payload:e}},setWebsiteDetailsAIStep(e){return{type:p,payload:e}},setWebsiteDetailsHistoryAIStep(e){return{type:E,payload:e}},setWebsiteKeywordsAIStep(e){return{type:P,payload:e}},setWebsiteImagesAIStep(e){return{type:T,payload:e}},setWebsiteImagesPreSelectedAIStep(e){return{type:d,payload:e}},resetKeywordsImagesAIStep(){return{type:A}},setWebsiteContactAIStep(e){return{type:I,payload:e}},resetOnboardingAISteps(){return{type:b}},toggleDisableAiContent(e){return{type:m,...!!e&&{payload:e}}},toggleAdaptiveMode(e){return{type:O,...!!e&&{payload:e}}},toggleDisableLivePreview(e){return{type:k,...!!e&&{payload:e}}},*dynamicContentSyncStart(e){return(0,n.select)(Ee).getDynamicContentSyncMessage()&&(yield ge.setDynamicContentSyncMessage(null)),{type:v,payload:e}},dynamicContentSyncComplete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function*(){return t&&(yield ge.setDynamicContentSyncMessage(t)),{type:L,payload:e}}()},setDynamicContentSyncMessage(e){return{type:H,payload:e}},dynamicContentReSyncStatus(){return{type:N}},dynamicContentFlagSet(e,t){return{type:R,payload:{key:e,value:t}}},dynamicContentFlagReset(e,t){const r={type:e};return t&&(r.flags=t),{type:D,payload:r}},setAllBlocksData(e){return{type:"SET_ALL_BLOCKS",payload:e}},setRegeneratingContentCategory(e){return{type:"SET_REGENERATING_CONTENT_CATEGORY",regeneratingContentCategory:e}},setImportInProgress(e){return{type:w,payload:e}},setShowPagesOnboarding(){return{type:F}},setCreditsDetails(e){return{type:W,payload:(0,te.nr)(e)}},toggleOnboardingPageAI(){return{type:M}},setNextOnboardingPagesAIStep(){return{type:Y}},setPreviousOnboardingPagesAIStep(){return{type:U}},setIsNewUserOnboarding(){return{type:K}},toggleUpdateOnboardingImages(){return{type:V}},toggleSkipZipAIOnboarding(){return{type:j}},updateLicenseStatus(e){return{type:X,payload:e}},setBlockColorPaletteObj(e){return{type:"SET_BLOCK_COLOR_PALETTE_OBJ",blockColorPaletteObj:e}},setPageColorPaletteObj(e){return{type:"SET_PAGE_COLOR_PALETTE_OBJ",pageColorPaletteObj:e}},toggleConnectZipAI(){return{type:J}},setHideNotice(e){return{type:z,payload:e}},setLoadingBlocksAndSites(e){return{type:ee,payload:e}},setIsSyncBusinessDetails(e){return{type:"SET_IS_SYNC_BUSINESS_DETAILS",isSyncBusinessDetails:e}},fetchFromAPI(e){return{type:Q,path:e}},*initializeBlocksAndSites(){const e=(0,n.select)(Ee).getAllPatternsAndPages();if(!(e.patterns.length&&e.pages.length||(0,n.select)(Ee).getLoadingBlocksAndSites())){yield ge.setLoadingBlocksAndSites(!0);try{const e=yield ge.fetchFromAPI(ne);if(!e?.success)return ge.setLoadingBlocksAndSites(!0);const t=yield ge.fetchFromAPI(ae),{allBlocks:r,allBlocksPages:a,allSites:n,allCategories:o}=t;yield ge.setAllCategories(o),yield ge.setAllSites(n),yield ge.setAllBlocksData({blocks:r,blocks_pages:a})}catch(e){console.error(e)}finally{return ge.setLoadingBlocksAndSites(!1)}}},setBusinessTypeListAIStep(e){return{type:$,payload:e}}};var ue=ge,ye=r(6989),Se=r.n(ye),pe={FETCH_FROM_API(e){let{path:t}=e;return Se()({path:t,headers:{"X-WP-Nonce":ast_block_template_vars.rest_api_nonce}})}};const Ee="ast-block-templates",Pe=(0,n.createReduxStore)(Ee,{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;if("SET_DISPLAY_DYNAMIC_POPUP"===t.type)return{...e,displayDynamicPopup:t.displayDynamicPopup};if("SET_STATE"===t.type)return{...e,...t.state};if("FULL_WIDTH_PAGE_PREVIEW"===t.type)return{...e,fullWidthPagePreview:t.fullWidthPagePreview};if("SET_CURRENT_CATEGORY"===t.type){const{type:r,category:a}=t.payload,n={...e.currentCategory};return{...e,currentCategory:{...n,[r]:a}}}if("FULL_WIDTH_BLOCK_PREVIEW"===t.type)return{...e,fullWidthBlockPreview:t.fullWidthBlockPreview};if("SET_IMPORT_ITEM_INFO"===t.type)return{...e,importItemInfo:t.importItemInfo};if("SET_NOTICE"===t.type)return{...e,notice:t.notice};if("SET_SEARCH_PAGE_PREVIEW"===t.type){let r=[];const a=t.item["site-ID"]||"";return a&&(r=e.allSites.filter((e=>a===e.ID)),r&&(r=r[0])),{...e,sitePreview:r,pagePreview:t.item}}if("SET_CURRENT_SCREEN"===t.type){const r="all-sites-grid"===t.currentScreen||"all-blocks-grid"===t.currentScree?"":e.currentScreen;return{...e,currentScreen:t.currentScreen,previousScreen:r}}if("SET_PREVIOUS_SCREEN"===t.type)return{...e,previousScreen:t.previousScreen};if("TOGGLE_POPUP"===t.type){const t="gt-current-screen-"+ast_block_template_vars.site_host,r="all-single-site-pages"!==localStorage.getItem(t)?localStorage.getItem(t):"";return{...ie,currentScreen:r||ie.currentScreen,togglePopup:!e.togglePopup,filterBlocksByCategory:e.filterBlocksByCategory,filterBlocksByColor:e.filterBlocksByColor,allPatterns:e.allPatterns,allBlocksPages:e.allBlocksPages,allWireframes:e.allWireframes,allCategories:e.allCategories,filterBlocksBySearchTerm:e.filterBlocksBySearchTerm,activePalette:e.activePalette,filterBlocksPagesByCategory:e.filterBlocksPagesByCategory,filterBlocksPagesByColor:e.filterBlocksPagesByColor,filterBlocksPagesBySearchTerm:e.filterBlocksPagesBySearchTerm,dynamicContent:{...e.dynamicContent},onboardingAI:{...e.onboardingAI},disableAi:e.disableAi,adaptiveMode:e.adaptiveMode,disablePreview:e.disablePreview,showPagesOnboarding:e.showPagesOnboarding,credits:{...e.credits},dynamicContentSyncStatus:{...e.dynamicContentSyncStatus},dynamicContentReSyncStatus:e.dynamicContentReSyncStatus,dynamicContentSyncFlags:{...e.dynamicContentSyncFlags},currentCategory:{...e.currentCategory},regeneratingContentCategory:e.regeneratingContentCategory,skipZipAIOnboarding:e.skipZipAIOnboarding,licenseStatus:e.licenseStatus,hideNotice:{...e.hideNotice},allPagesCategories:e.allPagesCategories,allPatternsCategories:e.allPatternsCategories,allPatternsAndPages:e.allPatternsAndPages,allSites:e.allSites,loadingBlocksAndSites:e.loadingBlocksAndSites,isSyncBusinessDetails:e.isSyncBusinessDetails}}if("SET_ONBOARDING_AI_POPUP"===t.type){const t={...e.onboardingAI};return t.showOnboarding=!e.onboardingAI.showOnboarding,{...e,onboardingAI:t}}if("SET_SITE_PREVIEW"===t.type)return{...e,sitePreview:t.sitePreview};if("SET_PAGE_PREVIEW"===t.type)return{...e,pagePreview:t.pagePreview};if("SET_FULL_PREVIEW"===t.type)return{...e,fullWidthPreview:t.fullWidthPreview};if("SET_DEFAULT_BLOCK_PALETTE"===t.type)return{...e,defaultBlockPalette:t.defaultBlockPalette};if("SET_DEFAULT_PAGE_PALETTE"===t.type)return{...e,defaultPagePalette:t.defaultPagePalette};if("SET_ACTIVE_BLOCK_PALETTE"===t.type)return{...e,activeBlockPalette:t.activeBlockPalette};if("SET_ACTIVE_BLOCK_PALETTE_SLUG"===t.type)return{...e,activeBlockPaletteSlug:t.activeBlockPaletteSlug};if("SET_ACTIVE_PAGE_PALETTE"===t.type)return{...e,activePagePalette:t.activePagePalette};if("SET_ACTIVE_PAGE_PALETTE_SLUG"===t.type)return{...e,activePagePaletteSlug:t.activePagePaletteSlug};if("SET_FILTER_BLOCKS_BY_CATEGORY"===t.type){const r={...e,filterBlocksBySearchTerm:"",filterBlocksByCategory:t.filterBlocksByCategory};return"all-wireframe-grid"===e.currentScreen?r.allWireframes=c("",t.filterBlocksByCategory,"",e.filterBlocksByColor):r.allPatterns=_("",t.filterBlocksByCategory,"",e.filterBlocksByColor,e.allPatternsAndPages.patterns,e.favorites,"block"),r}if("SET_FILTER_BLOCKS_BY_COLOR"===t.type){const r={...e,filterBlocksBySearchTerm:"",filterBlocksByColor:t.filterBlocksByColor};return"all-wireframe-grid"===e.currentScreen?r.allWireframes=c("",e.filterBlocksByCategory,"",t.filterBlocksByColor):r.allPatterns=s("",e.filterBlocksByCategory,"",t.filterBlocksByColor,e.favorites),r}if(t.type===$)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessTypeList:t.payload}}};if("SET_FILTER_BLOCKS_BY_SEARCH_TERM"===t.type){const r={...e,filterBlocksByColor:"",filterBlocksByCategory:"",filterBlocksBySearchTerm:t.filterBlocksBySearchTerm};return"all-wireframe-grid"===e.currentScreen?r.allWireframes=c(t.filterBlocksBySearchTerm,"",t.filterBlocksBySearchTerm,""):r.allPatterns=_(t.filterBlocksBySearchTerm,r.filterBlocksByCategory,"","",e.allPatternsAndPages.patterns,e.favorites,"block"),r}if("SET_FILTER_BLOCKS_PAGES_BY_CATEGORY"===t.type){const r={...e,filterBlocksPagesBySearchTerm:"",filterBlocksPagesByCategory:t.filterBlocksPagesByCategory};return r.allBlocksPages=_(r.filterBlocksPagesBySearchTerm,t.filterBlocksPagesByCategory,"","",e.allPatternsAndPages.pages,e.favorites,"page"),r}if("SET_FILTER_BLOCKS_PAGES_BY_COLOR"===t.type){const r={...e,filterBlocksPagesBySearchTerm:"",filterBlocksPagesByColor:t.filterBlocksPagesByColor};return r.allBlocksPages=i("",e.filterBlocksPagesByCategory,"",t.filterBlocksPagesByColor,e.favorites),r}if("SET_FILTER_BLOCKS_PAGES_BY_SEARCH_TERM"===t.type){const r={...e,filterBlocksPagesByColor:"",filterBlocksPagesByCategory:"",filterBlocksPagesBySearchTerm:t.filterBlocksPagesBySearchTerm};return r.allBlocksPages=_(t.filterBlocksPagesBySearchTerm,r.filterBlocksPagesByCategory,"","",e.allPatternsAndPages.pages,e.favorites,"page"),r}if("SET_FILTER_PAGES_BY_SEARCH_TERM"===t.type)return t.filterPagesBySearchTerm.length?{...e,allPages:g(t.filterPagesBySearchTerm),filterPagesBySearchTerm:t.filterPagesBySearchTerm}:{...e,allPages:[],filterPagesBySearchTerm:t.filterPagesBySearchTerm};if(t.type===C)return{...e,onboardingAI:{...e.onboardingAI,showOnboarding:a?.payload??!e.onboardingAI.showOnboarding,currentStep:e.onboardingAI.stepData.token?2:1,updateImages:!1}};if(t.type===k)return{...e,disablePreview:a?.payload??!e.disablePreview};if(t.type===m)return{...e,disableAi:a?.payload??!e.disableAi};if(t.type===O)return{...e,adaptiveMode:a?.payload??!e.adaptiveMode};if(t.type===B){const t=6,r=e.onboardingAI.currentStep+1;return r>t?e:{...e,onboardingAI:{...e.onboardingAI,currentStep:r}}}if(t.type===f){const t=e.onboardingAI.currentStep-1;return t<0||0===t?e:{...e,onboardingAI:{...e.onboardingAI,currentStep:t}}}if(t.type===y)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessType:t.payload}}};if(t.type===S)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessName:t.payload}}};if(t.type===p)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessDetails:t.payload}}};if(t.type===E)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessDetailsHistory:t.payload}}};if(t.type===I)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,businessContact:t.payload}}};if(t.type===P)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,keywords:t.payload}}};if(t.type===T)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,selectedImages:t.payload}}};if(t.type===d)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,imagesPreSelected:t.payload}}};if(t.type===A)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,keywords:[],selectedImages:[],imagesPreSelected:!1}}};if(t.type===u)return{...e,onboardingAI:{...e.onboardingAI,stepData:{...e.onboardingAI.stepData,token:t.payload}}};if(t.type===b)return{...e,onboardingAI:{...e.onboardingAI,currentStep:1,stepData:{token:"",businessType:"",businessName:"",businessDetails:"",keywords:[],selectedImages:[],imagesPreSelected:!1,businessContact:{phone:"",email:"",address:"",socialMedia:[]}}}};if("SET_ALL_PAGES"===t.type)return{...e,allPages:t.allPages};if("SET_ALL_PATTERNS"===t.type)return{...e,allPatterns:t.allPatterns};if("SET_ALL_CATEGORIES"===t.type)return{...e,allCategories:t.allCategories};if("SET_DYNAMIC_CONTENT"===t.type)return{...e,dynamicContent:t.dynamicContent};if("SET_IS_SYNC_BUSINESS_DETAILS"===t.type)return{...e,isSyncBusinessDetails:t.isSyncBusinessDetails};if("SET_FAVORITES"===t.type){const{currentScreen:r,filterBlocksPagesByCategory:a,filterBlocksByCategory:n}=e,o={...e,favorites:t.favorites};return"favorite"!==n&&"favorite"!==a||("all-blocks-grid"===r&&(o.allPatterns=s(e.allPatterns,"","favorite","",e.filterBlocksByColor,t.favorites)),"all-block-pages-grid"===r&&(o.allBlocksPages=i(e.allBlocksPages,"","favorite","",e.filterBlocksPagesByColor,t.favorites))),o}if(t.type===v){let r={...e.dynamicContentSyncStatus};return t.payload?r[t.payload]=!0:r={pages:!0,patterns:!0},{...e,dynamicContentSyncStatus:r}}if(t.type===L){let r={...e.dynamicContentSyncStatus};return t.payload?r[t.payload]=!1:r={pages:!1,patterns:!1},{...e,dynamicContentSyncStatus:r}}if(t.type===H)return{...e,dynamicContentSyncMessage:t.payload};if(t.type===N)return{...e,dynamicContentReSyncStatus:!e.dynamicContentReSyncStatus};if(t.type===R){const r={...e.dynamicContentSyncFlags};return r.patterns?.hasOwnProperty(t.payload.key)&&(r.patterns[t.payload.key]=t.payload.value),r.pages?.hasOwnProperty(t.payload.key)&&(r.pages[t.payload.key]=t.payload.value),{...e,dynamicContentSyncFlags:r}}if(t.type===D){const{dynamicContentSyncFlags:r,allPatternsCategories:a,allPagesCategories:n}=e,o="patterns"===t.payload.type?a:n;return t.payload?.flags&&(r[t.payload.type]=Object.fromEntries(t.payload.flags.map((e=>[e,!1])))),t.payload.flags||o.length===r[t.payload.type]?.length||(r[t.payload.type]=Object.fromEntries(o.map((e=>[e.id,!1])))),Object.keys(r[t.payload.type]).forEach((e=>{r[t.payload.type][e]=!1})),{...e,dynamicContentSyncFlags:{...r}}}if("SET_ALL_BLOCKS"===t.type){let{blocks:r,blocks_pages:a}=t.payload;const n=(0,te.Iu)(r,e.allCategories),o=(0,te.FD)(a,e.allCategories);return r=(0,te.wq)(r,n.categories,"block"),a=(0,te.wq)(a,o.categories,"page"),{...e,allPatternsAndPages:{patterns:r,pages:a},allPatterns:_(e.filterBlocksBySearchTerm,e.filterBlocksByCategory,"","",r,e.favorites,"block"),allBlocksPages:_(e.filterBlocksPagesBySearchTerm,e.filterBlocksPagesByCategory,"","",a,e.favorites,"page"),allPatternsCategories:n.categories,allPagesCategories:o.categories,dynamicContentSyncFlags:{patterns:Object.fromEntries(n.categories.map((e=>[e.id,!1]))),pages:Object.fromEntries(o.categories.map((e=>[e.id,!1])))}}}if("SET_REGENERATING_CONTENT_CATEGORY"===t.type)return{...e,regeneratingContentCategory:t.regeneratingContentCategory};if(t.type===w)return{...e,importInProgress:t.payload};if(F===t.type)return{...e,showPagesOnboarding:!1};if(t.type===W)return{...e,credits:{...e.credits,...t.payload}};if(t.type===M){const t={...e.onboardingPageAI};return{...ie,onboardingPageAI:{...t,showOnboarding:!t.showOnboarding},togglePopup:!e.togglePopup}}if(t.type===Y){const t=3,r=e.onboardingPageAI.currentStep+1;return r>t?e:{...e,onboardingPageAI:{...e.onboardingPageAI,currentStep:r}}}if(t.type===U){const t=e.onboardingPageAI.currentStep-1;return t<0||0===t?e:{...e,onboardingPageAI:{...e.onboardingPageAI,currentStep:t}}}return t.type===K?{...e,onboardingAI:{...e.onboardingAI,isNewUser:!1}}:t.type===V?{...e,onboardingAI:{...e.onboardingAI,showOnboarding:!e.onboardingAI.showOnboarding,updateImages:!e.onboardingAI.updateImages,currentStep:e.onboardingAI.updateImages?1:6}}:t.type===j?{...e,skipZipAIOnboarding:!e.skipZipAIOnboarding}:Z===t.type?{...e,filterSitesBySearchTerm:t.payload}:x===t.type?{...e,filterSitesByCategory:t.payload}:t.type===X?{...e,licenseStatus:t.payload}:t.type===q?{...e,allSites:t.payload}:"SET_BLOCK_COLOR_PALETTE_OBJ"===t.type?{...e,blockColorPaletteObj:t.blockColorPaletteObj}:"SET_PAGE_COLOR_PALETTE_OBJ"===t.type?{...e,pageColorPaletteObj:t.pageColorPaletteObj}:t.type===J?{...e,connectZipAI:!e.connectZipAI}:t.type===z?{...e,hideNotice:{...e.hideNotice,...t.payload}}:t.type===ee?{...e,loadingBlocksAndSites:t.payload}:e},actions:ue,selectors:_e,controls:pe});(0,n.register)(Pe)},5622:function(e,t,r){r.d(t,{EX:function(){return o},US:function(){return n},st:function(){return a}}),r(2819),r(5736),r(6989);const a=()=>(()=>{const e={patterns:[],wireframes:[]},{allBlocks:t}=ast_block_template_vars;for(const r in t){const a=t[r].wireframe||{};Object.keys(a).length?e.wireframes.push(t[r]):e.patterns.push(t[r])}return e})().wireframes,n=()=>ast_block_template_vars.block_color_palette["style-1"],o=()=>ast_block_template_vars.page_color_palette["style-1"]},1401:function(e,t,r){r.d(t,{FD:function(){return n},Iu:function(){return a},Kk:function(){return l},nr:function(){return s},wq:function(){return o}});const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"block";const a=new Map,n=new Array;return t?.forEach((t=>{const o=e.find((e=>t.id===e.category)),l=e.filter((e=>t.id===e.category&&e.type===r));o?.category&&t&&(a.has(o.category)||a.set(o.category,t)),n.push(...l)})),{patterns:n,categories:Array.from(a.values())}},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"page";const a=new Map,n=new Array;return t?.forEach((t=>{const o=e.find((e=>t.id===e.category)),l=e.filter((e=>t.id===e.category&&e.type===r));o?.category&&t&&(a.has(o.category)||a.set(o.category,t)),n.push(...l)})),{pages:n,categories:Array.from(a.values())}},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"block";const a=[];return t?.forEach((t=>{const n=e.filter((e=>t.id===e.category&&e.type===r));a.push(...n)})),a},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r="undefined"!=typeof sessionStorage?sessionStorage:window.sessionStorage;try{const a=r.getItem(e);return a?JSON.parse(a):t}catch(e){return console.error(e),t}},s=e=>{const t={};for(const[r,a]of Object.entries(e))t[r.replace(/_([a-z])/g,((e,t)=>t.toUpperCase()))]=a;return t}},2819:function(e){e.exports=window.lodash},6989:function(e){e.exports=window.wp.apiFetch},9818:function(e){e.exports=window.wp.data},9307:function(e){e.exports=window.wp.element},5736:function(e){e.exports=window.wp.i18n}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};!function(){r.r(a);var e=window.wp.plugins,t=r(9307),n=r(9818),o=r(2948);(0,e.registerPlugin)("gutenberg-templates-library",{render:function(){const{setTogglePopup:e}=(0,n.useDispatch)(o.L),r=()=>React.createElement("button",{onClick:e,id:"ast-block-templates-button",className:"button components-button is-primary"},ast_block_template_vars.display_button_logo&&""===ast_block_template_vars.white_label_name?React.createElement("img",{src:"active"===ast_block_template_vars.astra_sites_status||"active"===ast_block_template_vars.astra_sites_pro_status?ast_block_template_vars.st_button_logo:ast_block_template_vars.button_logo,className:`logo ${ast_block_template_vars.button_class}`,alt:"Button Logo"}):"",ast_block_template_vars.white_label_name?ast_block_template_vars.white_label_name:ast_block_template_vars.button_text);return(0,n.subscribe)((()=>{setTimeout((()=>{const e=document.querySelector(".edit-post-header-toolbar");e&&(e.querySelector("#ast-block-templates-button")||(e=>{const a=document.createElement("div");a.id="#ast-block-templates-button-wrap",e.appendChild(a),(0,t.render)(React.createElement(r,null),a)})(e))}),100)})),null}})}(),(this["gt-library"]=this["gt-library"]||{})["gutenberg-templates-library"]=a}();