import{r as t,h as i,g as r,c as o,H as s}from"./p-d7399561.js";import{t as e,l,p as a,b as p,r as n,s as d,d as h,f as c,a as _}from"./p-7dedb08f.js";import{f as u}from"./p-57535382.js";const v=class{constructor(e){t(this,e),this.player=void 0,this.config=void 0,this.direction=void 0,this.youtube=void 0,this.currentTime=void 0,this.duration=void 0,this.ended=void 0}componentWillLoad(){this.player&&(this.player.on("ended",(()=>this.setEnded())),this.player.on("timeupdate",(t=>this.setCurrentTime(t))))}setEnded(){this.ended=!0}setCurrentTime(t){var e,r;this.currentTime=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.plyr.currentTime,this.duration=null===(r=null==t?void 0:t.detail)||void 0===r?void 0:r.plyr.duration}disconnectedCallback(){this.player&&(this.player.off("ended",this.setEnded),this.player.off("timeupdate",this.setCurrentTime))}render(){return i("presto-action-bar-controller",{ended:this.ended,config:this.config,currentTime:this.currentTime,duration:this.duration,direction:this.direction,youtube:this.youtube})}get el(){return r(this)}};v.style=":host{display:block}";const y=class{constructor(e){t(this,e),this.actionBarStateChange=o(this,"actionBarStateChange",7),this.ended=void 0,this.config=void 0,this.currentTime=void 0,this.duration=void 0,this.direction=void 0,this.youtube=void 0,this.show=!1,this.youtubeRenderKey=1,this.percentagePassed=0}componentWillLoad(){this.handleDuration()}handleDuration(){this.handleTime()}handleEnded(t){var e;if(t){if(100!==(null===(e=null==this?void 0:this.config)||void 0===e?void 0:e.percentage_start))return;this.show=!0}}handlePercentagePassed(){this.percentagePassed=this.currentTime/this.duration*100}handleTime(){this.checkTime()}checkTime(){var t,r;this.show=!!(null===(t=null===window||void 0===window?void 0:window.wp)||void 0===t?void 0:t.blocks)||e({current:this.currentTime,duration:this.duration,showAfter:null===(r=this.config)||void 0===r?void 0:r.percentage_start})}handleButtonCountChange(t,e){(null==t?void 0:t.button_count)!==(null==e?void 0:e.button_count)&&this.youtubeRenderKey++,(null==t?void 0:t.enabled)&&this.handleDuration()}youtubeButton(){var t,e,r,o;if("youtube"===(null===(t=this.config)||void 0===t?void 0:t.button_type)&&(null===(e=this.youtube)||void 0===e?void 0:e.channelId))return i("presto-youtube-subscribe-button",{key:this.youtubeRenderKey,channel:null===(r=this.youtube)||void 0===r?void 0:r.channelId,showCount:null===(o=this.config)||void 0===o?void 0:o.button_count})}customButton(){var t,e,r,o,s,a,l,n,p,d,h;if("custom"===(null===(t=this.config)||void 0===t?void 0:t.button_type))return i("presto-player-button",{type:"primary",size:"small",href:null===(r=null===(e=this.config)||void 0===e?void 0:e.button_link)||void 0===r?void 0:r.url,target:(null===(s=null===(o=this.config)||void 0===o?void 0:o.button_link)||void 0===s?void 0:s.opensInNewTab)?"_blank":"_self",style:Object.assign(Object.assign({"--presto-player-button-border-radius":`${null===(a=this.config)||void 0===a?void 0:a.button_radius}px`},(null===(l=this.config)||void 0===l?void 0:l.button_color)?{"--presto-player-button-color":`${null===(n=this.config)||void 0===n?void 0:n.button_color}`}:{}),(null===(p=this.config)||void 0===p?void 0:p.button_text_color)?{"--presto-player-button-text":`${null===(d=this.config)||void 0===d?void 0:d.button_text_color}`}:{})},null===(h=this.config)||void 0===h?void 0:h.button_text)}handleCtaStateChange(t){this.actionBarStateChange.emit(t)}render(){var t,e;return i("presto-action-bar-ui",{open:this.show,style:{"--presto-action-bar-background":(null===(t=this.config)||void 0===t?void 0:t.background_color)||"#1d1d1d"}},null===(e=this.config)||void 0===e?void 0:e.text,i("div",{slot:"button"},this.youtubeButton(),this.customButton()))}get el(){return r(this)}static get watchers(){return{duration:["handleDuration","handlePercentagePassed"],ended:["handleEnded"],currentTime:["handlePercentagePassed","handleTime"],config:["handleButtonCountChange"],show:["handleCtaStateChange"]}}};y.style=":host{display:block}";const m=class{constructor(e){t(this,e),this.playVideo=o(this,"playVideo",7),this.pauseVideo=o(this,"pauseVideo",7),this.getRef=void 0,this.autoplay=void 0,this.src=void 0,this.preload=void 0,this.poster=void 0,this.player=void 0,this.preset=void 0,this.tracks=void 0,this.provider=void 0,this.mediaTitle=void 0,this.audioAttributes=void 0,this.width=void 0}renderPosterImage(){if(this.poster)return i("div",{class:"presto-audio__poster"},i("img",{src:this.poster}))}hasPosterArea(){var t;return!!this.poster||!!(null===(t=this.preset)||void 0===t?void 0:t["play-large"])}renderMobilePoster(){var t;return i("div",{class:"presto-audio__poster-wrapper-mobile"},!!(null===(t=this.preset)||void 0===t?void 0:t["play-large"])&&this.renderLargePlay("presto-audio__large-play-button is-relative"),i("div",{class:"presto-audio__mobile-title"},this.mediaTitle))}renderLargePlay(t="presto-audio__large-play-button"){return i("div",{class:t,onClick:()=>{this.player.playing?this.pauseVideo.emit():this.playVideo.emit()}},i("svg",{class:"presto-audio__icon-play",width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M15.5588 9.00005L0.117662 17.915L0.117662 0.0850823L15.5588 9.00005Z"})),i("svg",{class:"presto-audio__icon-pause",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("rect",{width:"5",height:"17"}),i("rect",{x:"12",width:"5",height:"17"})))}componentDidLoad(){"ResizeObserver"in window&&new ResizeObserver((t=>{t.forEach((t=>this.width=t.contentRect.width))})).observe(this.el)}render(){var t,e,r,o,s;return i("div",{ref:t=>this.el=t,class:{"presto-audio__wrapper":!0,"has-poster":!!this.poster,"has-play-large":!!(null===(t=this.preset)||void 0===t?void 0:t["play-large"]),"is-playing":null===(e=this.player)||void 0===e?void 0:e.playing,"has-light-background":"light"===l(null===(r=this.preset)||void 0===r?void 0:r.background_color),"has-dark-background":"dark"===l(null===(o=this.preset)||void 0===o?void 0:o.background_color),"breakpoint-small":this.width<520,"skin-stacked":this.width<520,"breakpoint-large":this.width>=520}},this.hasPosterArea()&&i("div",{class:"presto-audio__poster-wrapper"},!!(null===(s=this.preset)||void 0===s?void 0:s["play-large"])&&i("div",{class:"presto-audio__large-play-wrapper"},this.renderLargePlay()),this.renderPosterImage()),this.hasPosterArea()&&this.renderMobilePoster(),i("div",{class:"presto-audio__controls-wrapper"},i("div",{class:"presto-audio__title"},this.mediaTitle),i("audio",Object.assign({part:"audio-player",ref:this.getRef,autoplay:this.autoplay,preload:this.preload,"data-poster":this.poster},this.audioAttributes),i("source",{src:this.src}),!!this.tracks&&!!this.tracks.length&&this.tracks.map((t=>i("track",{kind:"captions",label:(null==t?void 0:t.label)?t.label:"Captions",src:null==t?void 0:t.src,srclang:(null==t?void 0:t.srcLang)?null==t?void 0:t.srcLang:"en"}))))))}};m.style=":host{display:block}.presto-audio__wrapper{border-radius:var(--presto-player-border-radius, 0px)}.presto-audio__wrapper .plyr--audio .plyr__controls{padding:0}.presto-audio__wrapper .plyr--audio .plyr__control.plyr__tab-focus,.presto-audio__wrapper .plyr--audio .plyr__control:hover,.presto-audio__wrapper .plyr--audio .plyr__control[aria-expanded=true]{background:var(--plyr-audio-controls-background);color:var(--plyr-audio-control-color)}.presto-audio__wrapper{display:flex;background:var(--plyr-audio-controls-background, #fff)}.presto-audio__controls-wrapper{padding:calc(var(--plyr-control-spacing, 10px) * 2);flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}.has-poster .presto-audio__controls-wrapper{padding:calc(var(--plyr-control-spacing, 10px) * 3)}.has-play-large:not(.has-poster) .presto-audio__controls-wrapper{padding-left:0}.presto-audio__title,.presto-audio__mobile-title{font-size:18px;font-weight:500;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--plyr-audio-control-color)}.presto-audio__title{margin:calc(var(--plyr-control-spacing, 10px) / 2);margin-top:0;text-wrap:wrap}.presto-audio__poster-wrapper{position:relative;width:100px;min-height:100px;flex:0 0 100px}.presto-audio__poster-wrapper img{border-radius:var(--presto-player-border-radius, 0px) 0 0 var(--presto-player-border-radius, 0px);width:100%;height:100%;object-fit:cover;aspect-ratio:1;display:block}.has-poster .presto-audio__poster-wrapper{width:140px;height:140px;flex:0 0 140px}.presto-audio__poster{width:100%;height:100%}.presto-audio__large-play-button{user-select:none;cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;top:50%;left:50%;transform:translate(-50%, -50%);width:50px;height:50px;color:white;border-radius:100%;background:var(--plyr-audio-control-color);color:var(--plyr-audio-controls-background)}.presto-audio__large-play-button.is-relative{position:relative;top:auto;left:auto;transform:none}.has-light-background.has-poster .presto-audio__large-play-button{background:var(--plyr-audio-controls-background);color:var(--plyr-audio-control-color)}.has-dark-background.has-poster .presto-audio__large-play-button{background:var(--plyr-audio-control-color);color:var(--plyr-audio-controls-background)}.presto-audio__icon-play,.presto-audio__icon-pause{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);fill:currentColor;display:block;transition:opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;margin:0 auto;text-align:center}.presto-audio__icon-pause{opacity:0;visibility:hidden}.presto-audio__wrapper.is-playing .presto-audio__icon-pause{opacity:1;visibility:visible}.presto-audio__icon-play{margin-left:2px;opacity:1;visibility:visible}.presto-audio__wrapper.is-playing .presto-audio__icon-play{opacity:0;visibility:hidden}.presto-audio__poster-wrapper-mobile{display:none;min-width:0}.presto-audio__poster-wrapper-mobile .presto-audio__large-play-button{flex:0 0 50px}.presto-audio__wrapper.breakpoint-small{flex-direction:column}.presto-audio__wrapper.breakpoint-small .presto-audio__controls-wrapper{padding:calc(var(--plyr-control-spacing, 10px) * 2)}.presto-audio__wrapper.breakpoint-small.has-poster .presto-audio__title{text-align:center;margin:calc(var(--plyr-control-spacing, 10px) * 1.5)}.presto-audio__wrapper.breakpoint-small.has-poster .presto-audio__poster-wrapper{margin:30px auto auto auto;overflow:hidden;border-radius:var(--presto-player-border-radius, 0px);width:225px;height:225px;flex:0 0 225px}.presto-audio__wrapper.breakpoint-small.has-play-large:not(.has-poster) .presto-audio__poster-wrapper,.presto-audio__wrapper.breakpoint-small.has-play-large:not(.has-poster) .presto-audio__title{display:none}.presto-audio__wrapper.breakpoint-small.has-play-large:not(.has-poster) .presto-audio__poster-wrapper-mobile{display:flex;align-items:center;gap:1em;margin-bottom:calc(var(--plyr-control-spacing, 10px) * -1);padding:calc(var(--plyr-control-spacing, 10px) * 2) calc(var(--plyr-control-spacing, 10px) * 2) 0 calc(var(--plyr-control-spacing, 10px) * 2)}.skin-stacked.presto-sticky-audio .presto-audio__wrapper{height:115px}.skin-stacked.presto-sticky-audio .has-poster .presto-audio__controls-wrapper{padding:20px}.skin-stacked.presto-sticky-audio .has-poster .presto-audio__poster-wrapper{width:115px;height:115px;flex:0 0 115px}.presto-sticky-audio .presto-audio__wrapper{height:100px}.presto-sticky-audio .has-poster .presto-audio__controls-wrapper{padding:20px}.presto-sticky-audio .has-poster .presto-audio__poster-wrapper{width:100px;height:100px;flex:0 0 100px}.action-bar-active .presto-audio__wrapper{border-radius:var(--presto-player-border-radius) var(--presto-player-border-radius) 0px 0px}@media screen and (max-width: 782px){.presto-sticky-audio .presto-audio__poster-wrapper-mobile{display:flex;align-items:center;gap:1em;margin-bottom:calc(var(--plyr-control-spacing, 10px) * -1);padding:calc(var(--plyr-control-spacing, 10px) * 2) calc(var(--plyr-control-spacing, 10px) * 2) 0 calc(var(--plyr-control-spacing, 10px) * 2)}.presto-sticky-audio .presto-audio__poster-wrapper,.presto-sticky-audio .presto-audio__title{display:none}.presto-sticky-audio .presto-audio__wrapper{height:140px}.presto-sticky-audio .has-poster .presto-audio__controls-wrapper{padding:0px}.presto-sticky-audio .presto-audio__poster-wrapper-mobile .presto-audio__large-play-button{flex:0 0 40px;height:40px}}";const g=class{constructor(e){t(this,e),this.getRef=void 0,this.autoplay=void 0,this.src=void 0,this.preload=void 0,this.poster=void 0,this.player=void 0,this.tracks=void 0,this.playsinline=void 0,this.provider=void 0,this.thumbnail=void 0,this.previewUrl=void 0,this.videoAttributes=void 0}componentWillLoad(){this.poster=this.poster||this.thumbnail}render(){return i("presto-video",{getRef:this.getRef,player:this.player,autoplay:this.autoplay,preload:this.preload,poster:this.poster,playsinline:this.playsinline,src:this.src,tracks:this.tracks,videoAttributes:this.videoAttributes})}},b=class{constructor(e){t(this,e)}render(){return i(s,null,i("slot",null))}};b.style='.skin-business.presto-player__wrapper.rewind-inactive .plyr__controls .plyr__controls__item:nth-child(2)::before{border-radius:var(--plyr-control-radius, 3px) 0px 0px var(--plyr-control-radius, 3px)}.skin-business.presto-player__wrapper.caption-style-full .plyr:not(.plyr--hide-controls):not(.is-muted-overlay) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(calc(var(--plyr-control-spacing, 16px) * -4))}.skin-business.presto-player__wrapper .presto-player-progress__marker{border-radius:0;width:15px;height:15px;border-width:1px}.skin-business.presto-player__wrapper .plyr__control[data-plyr]:hover:not([role*=menuitem]):not(.plyr__control--back),.skin-business.presto-player__wrapper .plyr__control[data-plyr]:focus:not([role*=menuitem]):not(.plyr__control--back),.skin-business.presto-player__wrapper .plyr__control[data-plyr]:active:not([role*=menuitem]):not(.plyr__control--back){background-color:transparent;color:var(--plyr-color-main)}.skin-business.presto-player__wrapper .plyr__control[data-plyr]:hover:not([role*=menuitem]):not(.plyr__control--back)[data-plyr=play],.skin-business.presto-player__wrapper .plyr__control[data-plyr]:focus:not([role*=menuitem]):not(.plyr__control--back)[data-plyr=play],.skin-business.presto-player__wrapper .plyr__control[data-plyr]:active:not([role*=menuitem]):not(.plyr__control--back)[data-plyr=play]{background-color:var(--plyr-color-main);color:white}.skin-business.presto-player__wrapper .plyr__control--overlaid[data-plyr=play]{border-radius:4px;background:#000000;opacity:75%}.skin-business.presto-player__wrapper .plyr__control--overlaid[data-plyr=play]:hover{background-color:var(--plyr-color-main);color:white;opacity:100%}.skin-business.presto-player__wrapper .plyr__volume input[type=range]{cursor:pointer}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fast-forward]{border-radius:0px}.skin-business.presto-player__wrapper .plyr__progress{margin:0px 20px 0 5px}.skin-business.presto-player__wrapper .plyr__progress input[type=range]{height:32px;border-radius:0px;cursor:pointer}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not(.presto-player-progress__marker):first-child::before{border-radius:var(--plyr-control-radius, 3px) 0px 0px var(--plyr-control-radius, 3px)}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not(.presto-player-progress__marker):last-child::before{border-radius:0px var(--plyr-control-radius, 3px) var(--plyr-control-radius, 3px) 0px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item.plyr__control[data-plyr=play]{order:-1;margin-right:5px;padding:11px 20px 11px 20px;top:-4px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item.plyr__control[data-plyr=play]::before{border-radius:4px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=rewind]::before{border-radius:var(--plyr-control-radius, 3px) 0px 0px var(--plyr-control-radius, 3px)}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not([data-plyr=play]){margin:0}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fullscreen]{padding:4px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fullscreen] svg{height:24px;width:24px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not(.presto-player-progress__marker){position:relative}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not(.presto-player-progress__marker).plyr__time{height:32px;padding-top:4.5px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item:not(.presto-player-progress__marker)::before{content:"";background:#000000;position:absolute;top:0px;left:0;right:0;bottom:0px;opacity:0.76;z-index:-1}.skin-business.presto-player__wrapper .plyr--full-ui input[type=range]::-webkit-slider-runnable-track{box-shadow:none;color:var(--plyr-color-main);height:9px;outline:1px solid #878787a6;outline-offset:2px;border-radius:0px}.skin-business.presto-player__wrapper .plyr--full-ui input[type=range]::-webkit-slider-thumb{visibility:hidden}.skin-business.presto-player__wrapper .plyr__progress__buffer::-webkit-progress-value{position:relative;border-radius:0px;height:9px;top:-2px}.skin-business.presto-player__wrapper .plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background-color:transparent}@media screen and (max-width: 480px){.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item.plyr__time{padding:1.5%}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=play]{padding:8px;top:0px}.skin-business.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fullscreen] svg{width:22px}}';const k=class{constructor(e){t(this,e),this.player=void 0,this.direction=void 0,this.preset=void 0,this.i18n=void 0,this.provider=void 0,this.currentTime=void 0,this.duration=void 0,this.ended=void 0}componentWillLoad(){this.player&&(this.player.on("ended",(()=>this.setEnded())),this.player.on("timeupdate",(t=>this.setCurrentTime(t))))}setEnded(){this.ended=!0}setCurrentTime(t){var e,r;this.currentTime=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.plyr.currentTime,this.duration=null===(r=null==t?void 0:t.detail)||void 0===r?void 0:r.plyr.duration}disconnectedCallback(){this.player&&(this.player.off("ended",this.setEnded),this.player.off("timeupdate",this.setCurrentTime))}render(){var t;return i("presto-cta-overlay-controller",{ended:this.ended,currentTime:this.currentTime,duration:this.duration,direction:this.direction,cta:null===(t=this.preset)||void 0===t?void 0:t.cta,i18n:this.i18n,provider:this.provider})}};k.style=":host{display:block}";const w=class{constructor(e){t(this,e),this.playVideo=o(this,"playVideo",7),this.pauseVideo=o(this,"pauseVideo",7),this.restartVideo=o(this,"restartVideo",7),this.ctaStateChange=o(this,"ctaStateChange",7),this.ended=void 0,this.currentTime=void 0,this.duration=void 0,this.direction=void 0,this.cta=void 0,this.i18n=void 0,this.provider=void 0,this.enabled=void 0,this.show=void 0,this.loading=void 0,this.error=void 0,this.skipped=void 0,this.percentagePassed=0}componentWillLoad(){this.handleDuration()}handleEnded(t){var e;if(t){if(100!==(null===(e=null==this?void 0:this.cta)||void 0===e?void 0:e.percentage))return;this.show=!0}}handleDuration(){var t;this.enabled=!this.skipped&&(null===(t=null==this?void 0:this.cta)||void 0===t?void 0:t.enabled),this.handleTime()}handlePercentagePassed(){this.percentagePassed=this.currentTime/this.duration*100}handleEnabled(){this.show&&(this.skipped||this.pauseVideo.emit(!0))}handleTime(){var t;this.enabled&&(this.skipped||100!==(null===(t=null==this?void 0:this.cta)||void 0===t?void 0:t.percentage)&&this.checkTime())}checkTime(){var t;this.show=e({current:this.currentTime,duration:this.duration,showAfter:(null===(t=null==this?void 0:this.cta)||void 0===t?void 0:t.percentage)||0})}skip(){this.skipped=!0,this.show=!1,this.playVideo.emit()}rewatch(){this.ended=!1,this.show=!1,this.restartVideo.emit()}handleCtaStateChange(t){this.ctaStateChange.emit(t)}render(){var t,e,r,o,s,a,l,n,p,d,h,c,u,_;if(this.show)return i("presto-cta-overlay-ui",{style:Object.assign(Object.assign(Object.assign({"--presto-player-button-border-radius":`${null===(t=null==this?void 0:this.cta)||void 0===t?void 0:t.button_radius}px`},(null===(e=null==this?void 0:this.cta)||void 0===e?void 0:e.background_opacity)?{"--presto-player-cta-background-opacity":""+(null===(r=null==this?void 0:this.cta)||void 0===r?void 0:r.background_opacity)/100}:{}),(null===(o=null==this?void 0:this.cta)||void 0===o?void 0:o.button_color)?{"--presto-player-button-color":`${null===(s=null==this?void 0:this.cta)||void 0===s?void 0:s.button_color}`}:{}),(null===(a=null==this?void 0:this.cta)||void 0===a?void 0:a.button_text_color)?{"--presto-player-button-text":`${null===(l=null==this?void 0:this.cta)||void 0===l?void 0:l.button_text_color}`}:{}),direction:this.direction,class:"cta-overlay",i18n:this.i18n,headline:null===(n=null==this?void 0:this.cta)||void 0===n?void 0:n.headline,"bottom-text":null===(p=null==this?void 0:this.cta)||void 0===p?void 0:p.bottom_text,"show-button":null===(d=null==this?void 0:this.cta)||void 0===d?void 0:d.show_button,buttonLink:null===(h=null==this?void 0:this.cta)||void 0===h?void 0:h.button_link,allowSkip:!this.ended&&(null===(c=null==this?void 0:this.cta)||void 0===c?void 0:c.show_skip),allowRewatch:this.ended&&(null===(u=null==this?void 0:this.cta)||void 0===u?void 0:u.show_rewatch),"button-text":null===(_=null==this?void 0:this.cta)||void 0===_?void 0:_.button_text,onSkip:()=>this.skip(),onRewatch:()=>this.rewatch(),provider:this.provider})}static get watchers(){return{ended:["handleEnded"],duration:["handleDuration","handlePercentagePassed"],currentTime:["handlePercentagePassed","handleEnabled","handleTime"],show:["handleCtaStateChange"]}}};w.style=":host{display:block}";const x=class{constructor(e){t(this,e),this.href=void 0,this.target=void 0,this.position="top-right"}closestElement(t,e){return e&&e!=document&&e!=window&&e.closest(t)||e&&this.closestElement(t,e.getRootNode().host)}componentDidLoad(){let t=this.closestElement("presto-player",this.el);u(this.text,3,{maxFontSize:16,minFontSize:10,container:t})}render(){return i(this.href?"a":"span",{class:{"overlay-text":!0,"overlay--top-left":"top-left"===this.position,"overlay--top-right":"top-right"===this.position},href:this.href,target:this.target,part:"overlay-text",ref:t=>this.text=t},i("slot",null))}get el(){return r(this)}};x.style=":host{display:block}.overlay-text{text-decoration:none;display:inline-block;user-select:none;line-height:1;opacity:var(--presto-dynamic-overlay-opacity, 1);font-size:var(--presto-dynamic-overlay-font-size, 18px);padding:var(--presto-dynamic-overlay-padding, 0.65em 0.85em);font-weight:var(--presto-dynamic-overlay-font-weight, 500);border-radius:var(--presto-dynamic-overlay-radius, 0.25em);background:var(--presto-dynamic-overlay-background, rgba(0, 0, 0, 0.8));color:var(--presto-dynamic-overlay-color, #fff);opacity:var(--presto-dynamic-overlay-opacity, 1);word-break:break-word}a.overlay-text{cursor:pointer}";const f=class{constructor(e){t(this,e),this.reloadComponent=o(this,"reloadComponent",7),this.watermarkRef={left:null,right:null},this.refs={},this.overlays=void 0,this.player=void 0,this.preset=void 0,this.enabled=void 0,this.currentTime=void 0,this.destroy=!1}componentDidLoad(){this.player&&this.player.on("timeupdate",(t=>{this.currentTime=t.detail.plyr.currentTime,this.checkValidity()}))}checkValidity(){var t,e,r,i,o,s,a,l,n,p;this.player.playing&&((null===(t=null==this?void 0:this.overlays)||void 0===t?void 0:t.length)||(null===(r=null===(e=this.preset)||void 0===e?void 0:e.watermark)||void 0===r?void 0:r.enabled))&&((null===(i=this.container)||void 0===i?void 0:i.offsetParent)&&(null===(o=this.topLeft)||void 0===o?void 0:o.offsetParent)&&(null===(s=this.topRight)||void 0===s?void 0:s.offsetParent)||this.reloadComponent.emit(),Object.keys(this.refs||{}).forEach((t=>{const{overlay:e,component:r}=this.refs[t];this.checkComponent(r,e.text,(()=>this.reloadComponent.emit()))})),this.shouldShowWatermark("top-left")&&this.watermarkRef.left&&this.checkComponent(this.watermarkRef.left,null===(l=null===(a=this.preset)||void 0===a?void 0:a.watermark)||void 0===l?void 0:l.text,(()=>this.reloadComponent.emit())),this.shouldShowWatermark("top-right")&&this.watermarkRef.right&&this.checkComponent(this.watermarkRef.right,null===(p=null===(n=this.preset)||void 0===n?void 0:n.watermark)||void 0===p?void 0:p.text,(()=>this.reloadComponent.emit())))}checkComponent(t,e,r){if(!(null==t?void 0:t.offsetParent))return r();if(!t.shadowRoot.querySelector("slot"))return r();if(this.player&&this.player.playing){const i=t.shadowRoot.querySelector("slot").assignedNodes()[0];if(i){if(i.parentElement.innerHTML!=e)return r();const t=getComputedStyle(i.parentElement.shadowRoot.querySelector(".overlay-text"));if(parseInt(t.fontSize,10)<10)return r();const o=a(t.color);if("1"!==(null==o?void 0:o[3]))return r()}}}shouldShowOverlay(t){if(void 0!==this.currentTime)return!(this.currentTime<p(null==t?void 0:t.startTime)||this.currentTime>p(null==t?void 0:t.endTime))}renderOverlay(t){var e,r;return i("presto-dynamic-overlay-ui",{class:{visible:this.shouldShowOverlay(t)},ref:e=>this.refs[t.id]={overlay:t,component:e},key:t.id,position:t.position,href:null===(e=null==t?void 0:t.link)||void 0===e?void 0:e.url,target:(null===(r=null==t?void 0:t.link)||void 0===r?void 0:r.opensInNewTab)?"_blank":"_self",innerHTML:this.shouldShowOverlay(t)?t.text:"",style:{"--presto-dynamic-overlay-color":(null==t?void 0:t.color)||"#fff","--presto-dynamic-overlay-background":(null==t?void 0:t.backgroundColor)||"#333","--presto-dynamic-overlay-opacity":(null==t?void 0:t.opacity)?(t.opacity/100).toString():"1"}})}shouldShowWatermark(t){var e,r,i;if(!(null===(r=null===(e=this.preset)||void 0===e?void 0:e.watermark)||void 0===r?void 0:r.enabled))return!1;const o=null===(i=this.preset)||void 0===i?void 0:i.watermark;return"randomize"===o.position?Math.floor((this.player.currentTime||0)/10)%2==0?"top-left"===t:"top-right"===t:o.position===t||!o.position&&"top-right"===t}render(){var t,e,r,o,s,a,l,n,p,d,h;if(this.enabled&&((null===(t=null==this?void 0:this.overlays)||void 0===t?void 0:t.length)||(null===(r=null===(e=this.preset)||void 0===e?void 0:e.watermark)||void 0===r?void 0:r.enabled)))return i("div",{class:"overlays",ref:t=>this.container=t},i("div",{class:"top-left",ref:t=>this.topLeft=t},!!this.shouldShowWatermark("top-left")&&i("presto-dynamic-overlay-ui",{ref:t=>this.watermarkRef.left=t,style:{"--presto-dynamic-overlay-color":(null===(o=this.preset.watermark)||void 0===o?void 0:o.color)||"#fff","--presto-dynamic-overlay-background":(null===(s=this.preset.watermark)||void 0===s?void 0:s.backgroundColor)||"#333","--presto-dynamic-overlay-opacity":(null===(a=this.preset.watermark)||void 0===a?void 0:a.opacity)?(this.preset.watermark.opacity/100).toString():"1"},class:"visible",position:"top-left",innerHTML:this.preset.watermark.text}),!!(null===(l=null==this?void 0:this.overlays)||void 0===l?void 0:l.length)&&this.overlays.map((t=>"top-left"!==t.position?"":this.renderOverlay(t)))),i("div",{class:"top-right",ref:t=>this.topRight=t},!!this.shouldShowWatermark("top-right")&&i("presto-dynamic-overlay-ui",{ref:t=>this.watermarkRef.right=t,style:{"--presto-dynamic-overlay-color":(null===(n=this.preset.watermark)||void 0===n?void 0:n.color)||"#fff","--presto-dynamic-overlay-background":(null===(p=this.preset.watermark)||void 0===p?void 0:p.backgroundColor)||"#333","--presto-dynamic-overlay-opacity":(null===(d=this.preset.watermark)||void 0===d?void 0:d.opacity)?(this.preset.watermark.opacity/100).toString():"1"},class:"visible",position:"top-right",innerHTML:this.preset.watermark.text}),!!(null===(h=null==this?void 0:this.overlays)||void 0===h?void 0:h.length)&&this.overlays.map((t=>"top-right"!==t.position?"":this.renderOverlay(t)))))}get el(){return r(this)}};f.style=".top-left,.top-right{position:absolute;display:block;padding:20px;max-width:45%;z-index:20;display:flex;flex-direction:column;flex-wrap:wrap}.top-left{top:0;left:0}.top-right{top:0;right:0;align-items:flex-end}presto-dynamic-overlay-ui{overflow:hidden;height:0;opacity:0;transition:height 0ms 400ms, opacity 400ms 0ms}presto-dynamic-overlay-ui.visible{margin-bottom:10px;height:auto;opacity:1;transition:height 0ms 0ms, opacity 500ms 0ms}";const C=class{constructor(e){t(this,e),this.player=void 0,this.direction=void 0,this.preset=void 0,this.videoId=void 0,this.i18n=void 0,this.provider=void 0,this.currentTime=void 0,this.duration=void 0,this.ended=void 0}componentWillLoad(){this.player&&(this.player.on("ended",(()=>this.setEnded())),this.player.on("timeupdate",(t=>this.setCurrentTime(t))))}setEnded(){this.ended=!0}setCurrentTime(t){var e,r;this.currentTime=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.plyr.currentTime,this.duration=null===(r=null==t?void 0:t.detail)||void 0===r?void 0:r.plyr.duration}disconnectedCallback(){this.player&&(this.player.off("ended",this.setEnded),this.player.off("timeupdate",this.setCurrentTime))}render(){var t,e;return i("presto-email-overlay-controller",{ended:this.ended,currentTime:this.currentTime,videoId:this.videoId,duration:this.duration,direction:this.direction,presetId:null===(t=this.preset)||void 0===t?void 0:t.id,emailCollection:null===(e=this.preset)||void 0===e?void 0:e.email_collection,i18n:this.i18n,provider:this.provider})}};C.style=":host{display:block}";const S=class{constructor(e){t(this,e),this.playVideo=o(this,"playVideo",7),this.pauseVideo=o(this,"pauseVideo",7),this.restartVideo=o(this,"restartVideo",7),this.emailStateChange=o(this,"emailStateChange",7),this.ended=void 0,this.currentTime=void 0,this.duration=void 0,this.direction=void 0,this.emailCollection=void 0,this.i18n=void 0,this.videoId=void 0,this.presetId=void 0,this.provider=void 0,this.enabled=void 0,this.show=void 0,this.loading=void 0,this.error=void 0,this.percentagePassed=0}setStorage(t){window.localStorage.setItem("presto.videos.email_collection",JSON.stringify({[this.videoId]:t}))}getStorage(){return window.localStorage.getItem("presto.videos.email_collection")}componentWillLoad(){this.handleDuration()}handleDuration(){var t;this.enabled=!this.getStorage()&&(null===(t=null==this?void 0:this.emailCollection)||void 0===t?void 0:t.enabled),this.handleTimeCheck()}handleTimeCheck(){this.enabled&&(this.getStorage()||this.checkTime())}handleShowChange(){this.show&&this.pauseVideo.emit(!0)}checkTime(){var t;this.show=e({current:this.currentTime,duration:this.duration,showAfter:(null===(t=null==this?void 0:this.emailCollection)||void 0===t?void 0:t.percentage)||0})}async getNonce(){var t;return fetch(`${null===(t=null===window||void 0===window?void 0:window.prestoPlayer)||void 0===t?void 0:t.ajaxurl}?action=presto_refresh_progress_nonce`)}async submit(t){var e;this.loading=!0,this.error="";const r=await this.getNonce(),{data:i}=await r.json();try{let r=await fetch(null===(e=null===window||void 0===window?void 0:window.prestoPlayer)||void 0===e?void 0:e.ajaxurl,{method:"post",body:new URLSearchParams(Object.assign({action:"presto_player_email_submit",nonce:i,preset_id:this.presetId,video_id:this.videoId,provider:this.provider},(null==t?void 0:t.detail)||{}))});const{success:o,data:s}=await r.json();if(!o)throw s;this.setStorage("collected"),this.show=!1,this.playVideo.emit()}catch(t){const e=null==t?void 0:t[0];e&&"string"==typeof e&&(this.error=e)}finally{this.loading=!1}}skip(){this.setStorage("skipped"),this.show=!1,this.playVideo.emit()}handleEmailStateChange(t){this.emailStateChange.emit(t)}render(){var t,e,r,o,s,a,l,n;if(this.show)return i("presto-email-overlay-ui",{style:Object.assign(Object.assign({},(null===(t=null==this?void 0:this.emailCollection)||void 0===t?void 0:t.button_color)?{"--presto-player-button-color":`${null===(e=null==this?void 0:this.emailCollection)||void 0===e?void 0:e.button_color}`}:{}),(null===(r=null==this?void 0:this.emailCollection)||void 0===r?void 0:r.button_text_color)?{"--presto-player-button-text":`${null===(o=null==this?void 0:this.emailCollection)||void 0===o?void 0:o.button_text_color}`}:{}),direction:this.direction,class:"email-overlay",headline:null===(s=null==this?void 0:this.emailCollection)||void 0===s?void 0:s.headline,bottomText:null===(a=null==this?void 0:this.emailCollection)||void 0===a?void 0:a.bottom_text,allowSkip:null===(l=null==this?void 0:this.emailCollection)||void 0===l?void 0:l.allow_skip,buttonText:null===(n=null==this?void 0:this.emailCollection)||void 0===n?void 0:n.button_text,isLoading:this.loading,errorMessage:this.error,onSubmitForm:t=>this.submit(t),onSkip:()=>this.skip(),i18n:this.i18n,provider:this.provider})}static get watchers(){return{duration:["handleDuration"],currentTime:["handleTimeCheck","handleShowChange"],show:["handleEmailStateChange"]}}};S.style=":host{display:block}";const P=class{constructor(e){t(this,e)}render(){return i(s,null,i("slot",null))}};P.style='.skin-modern.presto-player__wrapper button.plyr__control.plyr__control--overlaid{border-radius:2px;padding:3% 5%;max-width:135px;max-height:90px;box-sizing:content-box;position:absolute !important;top:50% !important;opacity:100%}.skin-modern.presto-player__wrapper button.plyr__control.plyr__control--overlaid svg{height:31px;width:37px}.skin-modern.presto-player__wrapper button.plyr__control.plyr__control--overlaid:hover,.skin-modern.presto-player__wrapper button.plyr__control.plyr__control--overlaid:focus{opacity:0.8;background:var(--plyr-color-main)}.skin-modern.presto-player__wrapper.caption-style-full .plyr:not(.plyr--hide-controls):not(.is-muted-overlay) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(calc(var(--plyr-control-spacing, 9px) * -4))}.skin-modern.presto-player__wrapper .plyr--video .plyr__controls{padding:0px}.skin-modern.presto-player__wrapper .plyr--video .plyr__controls::before{content:"";background:var(--plyr-color-main);position:absolute;top:0;left:0;right:0;bottom:0;opacity:0.75}.skin-modern.presto-player__wrapper .plyr__controls__item{z-index:1}.skin-modern.presto-player__wrapper .plyr__controls__item.plyr__control:not(.presto-player-progress__marker):not([role*=menuitem]):not(.plyr__control--back){height:36px;border-radius:0px}.skin-modern.presto-player__wrapper .plyr__controls__item.plyr__control:not(.presto-player-progress__marker):not([role*=menuitem]):not(.plyr__control--back):focus{background-color:transparent;color:white}.skin-modern.presto-player__wrapper .plyr__controls__item.presto-player-progress__marker{z-index:2}.skin-modern.presto-player__wrapper .plyr__controls__item.plyr__menu{height:36px}.skin-modern.presto-player__wrapper .plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{height:2px;color:white}.skin-modern.presto-player__wrapper .presto-player__wrapper .plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{height:2px}.skin-modern.presto-player__wrapper .plyr--video .plyr__progress__buffer{height:2px;top:11px}.skin-modern.presto-player__wrapper .plyr__progress input[type=range]{cursor:pointer}.skin-modern.presto-player__wrapper .plyr--full-ui input[type=range]::-webkit-slider-thumb{top:1px;height:var(--plyr-range-thumb-height, 8px);width:var(--plyr-range-thumb-height, 8px);box-shadow:0px 0px 5px white}.skin-modern.presto-player__wrapper .plyr--full-ui input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.5)}.skin-modern.presto-player__wrapper .plyr__controls .plyr__controls__item{margin:0px}.skin-modern.presto-player__wrapper .plyr__volume{width:auto}.skin-modern.presto-player__wrapper .plyr__volume input[type=range]{width:55px}.skin-modern.presto-player__wrapper .plyr__volume input[type=range]{cursor:pointer}.skin-modern.presto-player__wrapper .presto-player__muted-overlay .plyr__control.plyr__control--overlaid{border-radius:2px}.skin-modern.presto-player__wrapper .presto-player__muted-overlay .plyr__control.plyr__control--overlaid svg{height:40px;width:50px}.skin-modern.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=rewind] svg,.skin-modern.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fast-forward] svg,.skin-modern.presto-player__wrapper .plyr__controls .plyr__controls__item[data-plyr=fullscreen] svg{width:22px;height:22px}@media screen and (max-width: 480px){.skin-modern.presto-player__wrapper .plyr__control--overlaid svg{height:18px;width:16px}}';const T=class{constructor(e){t(this,e),this.playVideo=o(this,"playVideo",7),this.mutedPreview=void 0,this.mutedOverlay=void 0,this.preset=void 0}render(){var t,e,r,o,s,a,l,n,p;return i("div",{class:"presto-player__muted-overlay",onClick:()=>{this.mutedPreview=!1,this.playVideo.emit()}},(null===(t=this.preset)||void 0===t?void 0:t["play-large"])&&i("div",{class:"plyr__control plyr__control--overlaid","data-plyr":"play","aria-label":"Play",part:"muted-overlay-play"},i("svg",{id:"plyr-play",viewBox:"0 0 18 18"},i("path",{d:"M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z"})),i("span",{class:"plyr__sr-only"},"Play")),(null===(e=this.mutedOverlay)||void 0===e?void 0:e.enabled)&&(null===(r=this.mutedOverlay)||void 0===r?void 0:r.src)?i("div",{class:"presto-player__overlay is-image",part:"muted-overlay-image",style:{width:`${(null===(o=this.mutedOverlay)||void 0===o?void 0:o.width)||50}%`,left:100*((null===(a=null===(s=this.mutedOverlay)||void 0===s?void 0:s.focalPoint)||void 0===a?void 0:a.x)||.5)+"%",top:100*((null===(n=null===(l=this.mutedOverlay)||void 0===l?void 0:l.focalPoint)||void 0===n?void 0:n.y)||.5)+"%"}},i("img",{src:null===(p=this.mutedOverlay)||void 0===p?void 0:p.src,style:{transform:"translateX(-50%) translateY(-50%)"}})):"")}};T.style=":host{display:block}";const L=class{constructor(e){t(this,e),this.value=void 0,this.player=void 0,this.markers=void 0,this.currentMarkerLocation=-1}onSearch(t){if(this.value=t.detail,""===this.value)n(this.player),this.markers=[];else{const t=d(this.player,this.value);this.player.config.markers={enabled:!0,points:t},this.markers=t,h(this.player,t)}}onPreviousNav(){this.currentMarkerLocation-1<0?this.currentMarkerLocation=this.markers.length-1:this.currentMarkerLocation--,this.player.currentTime=this.markers[this.currentMarkerLocation].time}onFocusChange(t){var e,r;this.player.config.hideControls=!0!==(null==t?void 0:t.detail)&&((null===(r=null===(e=this.player.config)||void 0===e?void 0:e.preset)||void 0===r?void 0:r.auto_hide)||!1)}onNextNav(){this.currentMarkerLocation+1>this.markers.length-1?this.currentMarkerLocation=0:this.currentMarkerLocation++,this.player.currentTime=this.markers[this.currentMarkerLocation].time}render(){var t,e,r,o,s,a,l,n;if(!this.player)return"";if(!(null===(r=null===(e=null===(t=this.player)||void 0===t?void 0:t.media)||void 0===e?void 0:e.textTracks)||void 0===r?void 0:r.length)||0===(null===(a=null===(s=null===(o=this.player)||void 0===o?void 0:o.media)||void 0===s?void 0:s.textTracks)||void 0===a?void 0:a.length))return"";const p=null===(l=this.player.config.preset.search)||void 0===l?void 0:l.placeholder;return i("presto-search-bar-ui",{value:this.value,hasNavigation:(null===(n=this.markers)||void 0===n?void 0:n.length)>1,placeholder:p,onNextNav:()=>this.onNextNav(),onPreviousNav:()=>this.onPreviousNav(),onSearch:t=>this.onSearch(t),onFocusChange:t=>this.onFocusChange(t)})}},z=class{constructor(e){t(this,e)}render(){return i(s,null,i("slot",null))}};z.style=".skin-stacked .plyr__controls{flex-wrap:wrap}.skin-stacked .presto-player-progress__marker{transform:scale(0.75)}.skin-stacked .plyr__controls{justify-content:flex-start}.skin-stacked .plyr__controls__item.plyr__progress__container{order:-1;flex:1 0 100%}.skin-stacked .plyr__controls__item.plyr__progress__container+:not(.plyr__time),.skin-stacked .plyr__controls__item.plyr__progress__container+.plyr__time+*{margin-left:auto}.skin-stacked .plyr__controls .plyr__controls__item:first-child{margin:0}.skin-stacked .plyr__progress{height:19px;display:flex;align-items:center}.skin-stacked .plyr__progress .plyr__progress__buffer{height:3px;transition:all 0.25s ease;position:absolute;top:calc(50% + 1px)}.skin-stacked .plyr__progress input[type=range]::-moz-range-track{height:3px;transition:all 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-webkit-slider-runnable-track{height:3px;transition:all 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-ms-track{height:3px;transition:all 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-ms-fill-upper{height:3px;transition:all 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-ms-fill-lower{height:3px;transition:height 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-webkit-slider-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-moz-range-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.skin-stacked .plyr__progress input[type=range]::-ms-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.skin-stacked .plyr__progress__container:hover .presto-player-progress__marker{transform:scale(1)}.skin-stacked .plyr__progress__container:hover .plyr__progress .plyr__progress__buffer{height:5px;top:50%}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]{overflow:visible}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-moz-range-track{height:5px}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-webkit-slider-runnable-track{height:5px}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-track{height:5px}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-fill-upper{height:5px}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-fill-lower{height:5px}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-webkit-slider-thumb{visibility:visible;opacity:1}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-moz-range-thumb{visibility:visible;opacity:1}.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-thumb{visibility:visible;opacity:1}";const j=class{constructor(e){t(this,e),this.src=void 0,this.poster=void 0,this.player=void 0,this.getRef=void 0}getId(t){const e=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/.exec(t||"");return(null==e?void 0:e[5])||""}parseHash(t){const e=t.match(/^.*(?:vimeo.com\/|video\/)(?:\d+)(?:\?.*\&*h=|\/)+(?<hash>[\d,a-f]+)/);return e?e.groups.hash:null}render(){if(this.src)return c()?i("div",{class:"presto-iframe-fallback-container"},i("iframe",{src:`https://player.vimeo.com/video/${this.getId(this.src)}?h=${this.parseHash(this.src)}&amp;loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`,allowFullScreen:!0,allowTransparency:!0,allow:"autoplay",style:{width:"100%"},class:"presto-fallback-iframe"})):i("div",{class:"plyr__video-embed",part:"embed",ref:this.getRef,"data-plyr-provider":"vimeo","data-plyr-embed-id":this.getId(this.src),"data-plyr-embed-hash":this.parseHash(this.src)})}};j.style=":host{display:block}";const O=class{constructor(e){t(this,e),this.reload=o(this,"reload",7),this.src=void 0,this.poster=void 0,this.lazyLoad=void 0,this.player=void 0,this.getRef=void 0,this.reloadPlayer=void 0,this.isWebView=void 0}handlePlayerChange(){this.player&&(this.fixes(),this.setPoster())}fixes(){this.player.once("statechange",(t=>{var e,r,i,o,s;1===t.detail.code&&((null===(s=null===(o=null===(i=null===(r=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.plyr)||void 0===r?void 0:r.config)||void 0===i?void 0:i.blockAttributes)||void 0===o?void 0:o.mutedPreview)||void 0===s?void 0:s.enabled)||(this.player.muted=!1))}))}getId(t){var e;const r=(t||"").match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return r&&11===(null===(e=null==r?void 0:r[2])||void 0===e?void 0:e.length)?r[2]:null}loadPlayer(){this.lazyLoad=!1,this.reloadPlayer=!0}componentDidRender(){this.reloadPlayer&&(this.reloadPlayer=!1,this.reload.emit("play"))}setWebView(){var t;let e=null===(t=window.navigator)||void 0===t?void 0:t.standalone,r=window.navigator.userAgent.toLowerCase(),i=/safari/.test(r),o=/iphone|ipod|ipad/.test(r);this.isWebView=o?!e&&!i:r.includes("wv")}loadImage(t,e=1){return new Promise(((r,i)=>{const o=new Image,s=()=>{delete o.onload,delete o.onerror,(o.naturalWidth>=e?r:i)(t)};Object.assign(o,{onload:s,onerror:s,src:t})}))}setPoster(){if(!this.player.poster){let t=t=>`https://i.ytimg.com/vi/${this.getId(this.src)}/${t}default.jpg`;this.loadImage(t("maxres"),121).catch((()=>this.loadImage(t("sd"),121))).catch((()=>this.loadImage(t("hq"),121))).then((t=>this.player.poster=t)).catch((()=>{}))}}componentWillLoad(){this.setWebView(),this.lazyLoad&&_()&&(this.lazyLoad=!1)}render(){return this.isWebView?i("div",{class:"fallback-container"},i("iframe",{src:this.src,allowFullScreen:!0,allowtransparency:!0,allow:"autoplay"})):this.lazyLoad?i("div",null,i("presto-video",{part:"video",getRef:this.getRef,src:"",provider:"youtube"}),i("div",{class:"presto-player__play-cover",onClick:()=>this.loadPlayer()})):i("div",{class:"plyr__video-embed",part:"embed",ref:this.getRef,"data-plyr-provider":"youtube","data-plyr-embed-id":this.getId(this.src)})}static get watchers(){return{player:["handlePlayerChange"]}}};O.style=":host{display:block}.fallback-container{position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden}.fallback-container iframe,.fallback-container object,.fallback-container embed{position:absolute;top:0;left:0;width:100%;height:100%}@supports not (aspect-ratio: 16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0 !important;padding-bottom:56.25%;position:relative}}";export{v as presto_action_bar,y as presto_action_bar_controller,m as presto_audio,g as presto_bunny,b as presto_business_skin,k as presto_cta_overlay,w as presto_cta_overlay_controller,x as presto_dynamic_overlay_ui,f as presto_dynamic_overlays,C as presto_email_overlay,S as presto_email_overlay_controller,P as presto_modern_skin,T as presto_muted_overlay,L as presto_search_bar,z as presto_stacked_skin,j as presto_vimeo,O as presto_youtube};