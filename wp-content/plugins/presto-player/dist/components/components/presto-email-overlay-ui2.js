import{proxyCustomElement,HTMLElement,createEvent,h}from"@stencil/core/internal/client";import{f as fitText}from"./fittext.js";import{d as defineCustomElement$1}from"./presto-spinner.js";const prestoEmailOverlayUiCss=':host{display:block;font-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;z-index:99999}*{box-sizing:border-box}a{color:#fff}.overlay{position:relative;display:flex;align-items:center;text-align:center;justify-content:center;padding:48px;color:#fff;font-family:var(--plyr-font-family, "San Francisco", -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", Avenir, "Avenir Next", "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif);height:100%}.overlay:before{content:"";border-radius:var(--presto-player-border-radius, 0);opacity:var(--presto-player-email-background-opacity, 0.75);position:absolute;top:0;left:0;bottom:0;right:0;background-color:var(--presto-player-email-background, #000);z-index:-1;box-shadow:inset 0 0 100px black}.overlay.rtl form{flex-direction:row-reverse}.content{width:20em}form{display:flex;align-items:stretch;justify-content:center}input{background:#fff;border:none;font-size:0.8em;line-height:20px;padding:6px 8px;border-radius:0;border-width:1px;border-style:solid;border-color:transparent;border-radius:var(--presto-player-email-border-radius, 0) 0 0 var(--presto-player-email-border-radius);flex:1}@media screen and (min-width: 700px){input{padding:10px 14px}}input:focus{border-color:var(--plyr-color-main, #000);z-index:1}input:focus,input:hover{outline:none}.rtl input{border-radius:0 var(--presto-player-email-border-radius, 0) var(--presto-player-email-border-radius) 0}button{background-color:var(--presto-player-button-color, var(--plyr-color-main));border-color:var(--presto-player-button-color, var(--plyr-color-main));color:var(--presto-player-button-text, #fff);appearance:none;padding:6px 12px;align-items:center;display:inline-flex;border-width:1px;border-color:transparent;border-radius:0;cursor:pointer;font-size:0.8em;border-radius:0 var(--presto-player-email-border-radius, 0) var(--presto-player-email-border-radius) 0}@media screen and (min-width: 700px){button{padding:10px 18px}}button:focus{box-shadow:white 0px 0px 0px 2px, var(--plyr-color-main, #000) 0px 0px 0px 4px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;z-index:1}button:focus,button:hover{outline:none}.rtl button{border-radius:var(--presto-player-email-border-radius, 0) 0 0 var(--presto-player-email-border-radius)}h1{font-size:1.5em;font-weight:500;margin:0 0 22px 0;max-width:600px;line-height:1.1em}h1.is-small{margin-bottom:1em;font-size:1.1em}.skip{font-size:0.8em;font-weight:600;position:absolute;top:0;right:0;padding:4%;cursor:pointer}p{font-size:0.7em;margin:0;margin-top:1.5em}p.is-small{font-size:0.9em;margin-top:1em}',EmailOverlayUI=proxyCustomElement(class extends HTMLElement{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.submitForm=createEvent(this,"submitForm",7),this.skip=createEvent(this,"skip",7),this.headline=void 0,this.bottomText=void 0,this.buttonText=void 0,this.allowSkip=void 0,this.borderRadius=void 0,this.isLoading=void 0,this.errorMessage=void 0,this.direction=void 0,this.i18n=void 0,this.provider=void 0,this.type=void 0,this.email=void 0,this.isAudioProvider=void 0}handleSubmit(e){this.submitForm.emit({email:this.email}),e.preventDefault()}componentDidLoad(){let e=this.type||this.provider;this.isAudioProvider="audio"===e,fitText(this.textInput,3,{maxFontSize:this.isAudioProvider?15:20,minFontSize:8})}handleChange(e){this.email=e.target.value}render(){var e,i,t,r;return h("div",{class:"overlay "+("rtl"===this.direction?"rtl":""),ref:e=>this.textInput=e},h("div",{class:"content"},h("h1",{class:this.isAudioProvider&&"is-small"},this.headline||(null===(e=null==this?void 0:this.i18n)||void 0===e?void 0:e.emailDefaultHeadline)),this.isLoading?h("presto-player-spinner",null):h("form",{onSubmit:e=>this.handleSubmit(e)},h("input",{type:"email",placeholder:null===(i=null==this?void 0:this.i18n)||void 0===i?void 0:i.emailPlaceholder,value:this.email,onInput:e=>this.handleChange(e),required:!0}),h("button",{type:"submit"},this.buttonText||(null===(t=null==this?void 0:this.i18n)||void 0===t?void 0:t.play))),this.errorMessage&&h("p",{class:"error"},this.errorMessage),this.bottomText&&h("p",{innerHTML:this.bottomText,class:this.isAudioProvider&&"is-small"}),!!this.allowSkip&&h("div",{class:"skip",onClick:()=>{this.skip.emit()}},null===(r=null==this?void 0:this.i18n)||void 0===r?void 0:r.skip," â†’")))}static get style(){return prestoEmailOverlayUiCss}},[1,"presto-email-overlay-ui",{headline:[1],bottomText:[1,"bottom-text"],buttonText:[1,"button-text"],allowSkip:[4,"allow-skip"],borderRadius:[2,"border-radius"],isLoading:[4,"is-loading"],errorMessage:[1,"error-message"],direction:[1],i18n:[16],provider:[1],type:[1],email:[32],isAudioProvider:[32]}]);function defineCustomElement(){"undefined"!=typeof customElements&&["presto-email-overlay-ui","presto-player-spinner"].forEach((e=>{switch(e){case"presto-email-overlay-ui":customElements.get(e)||customElements.define(e,EmailOverlayUI);break;case"presto-player-spinner":customElements.get(e)||defineCustomElement$1()}}))}defineCustomElement();export{EmailOverlayUI as E,defineCustomElement as d};