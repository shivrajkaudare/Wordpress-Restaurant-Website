import Player from"plyr";import saveTime from"./save-time";import setControls from"./custom-controls";import analytics from"./analytics";import customLogo from"./custom-logo";import setPoster from"./set-poster";import actions from"./actions";import ajaxProgress from"./ajax-progress";import getNonce from"./get-nonce";import fullscreen from"./fullscreen";import menuSizing from"./menu-sizing";export default function(t,e={}){const o=window?.parent?.prestoPlayer?.plugin_url||window?.prestoPlayer?.plugin_url,r={...e,...o?{iconUrl:`${o}img/${e?.preset?.skin?e.preset.skin:"default"}.svg`}:{},chapters:e?.chapters||[],controls:e?.controls||[],settings:Object.keys(e?.settings||{}).length?e.settings:{}};let s=new Player(t,r);return"undefined"!=typeof learndash_video_data&&import("../integrations/learndash").then((t=>{(0,t.default)(s)})),"undefined"!=typeof _tutorobject&&import("../integrations/tutor").then((t=>{(0,t.default)(s)})),void 0!==window.llms&&!0===prestoPlayer?.lifter?.isLesson&&import("../integrations/lifter/lifter").then((t=>{(0,t.default)(s)})),actions(s),fullscreen(s),menuSizing(s),customLogo(s),setPoster(s),setControls(s),window?.prestoPlayer?.isAdmin||(getNonce(s),ajaxProgress(r),saveTime(s),analytics(s)),s}