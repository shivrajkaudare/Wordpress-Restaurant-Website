import{h}from"@stencil/core";import{lightOrDark}from"../../../../util";export class PrestoAudio{constructor(){this.getRef=void 0,this.autoplay=void 0,this.src=void 0,this.preload=void 0,this.poster=void 0,this.player=void 0,this.preset=void 0,this.tracks=void 0,this.provider=void 0,this.mediaTitle=void 0,this.audioAttributes=void 0,this.width=void 0}renderPosterImage(){if(this.poster)return h("div",{class:"presto-audio__poster"},h("img",{src:this.poster}))}hasPosterArea(){var e;return!!this.poster||!!(null===(e=this.preset)||void 0===e?void 0:e["play-large"])}renderMobilePoster(){var e;return h("div",{class:"presto-audio__poster-wrapper-mobile"},!!(null===(e=this.preset)||void 0===e?void 0:e["play-large"])&&this.renderLargePlay("presto-audio__large-play-button is-relative"),h("div",{class:"presto-audio__mobile-title"},this.mediaTitle))}renderLargePlay(e="presto-audio__large-play-button"){return h("div",{class:e,onClick:()=>{this.player.playing?this.pauseVideo.emit():this.playVideo.emit()}},h("svg",{class:"presto-audio__icon-play",width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M15.5588 9.00005L0.117662 17.915L0.117662 0.0850823L15.5588 9.00005Z"})),h("svg",{class:"presto-audio__icon-pause",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("rect",{width:"5",height:"17"}),h("rect",{x:"12",width:"5",height:"17"})))}componentDidLoad(){"ResizeObserver"in window&&new ResizeObserver((e=>{e.forEach((e=>this.width=e.contentRect.width))})).observe(this.el)}render(){var e,t,r,i,s;return h("div",{ref:e=>this.el=e,class:{"presto-audio__wrapper":!0,"has-poster":!!this.poster,"has-play-large":!!(null===(e=this.preset)||void 0===e?void 0:e["play-large"]),"is-playing":null===(t=this.player)||void 0===t?void 0:t.playing,"has-light-background":"light"===lightOrDark(null===(r=this.preset)||void 0===r?void 0:r.background_color),"has-dark-background":"dark"===lightOrDark(null===(i=this.preset)||void 0===i?void 0:i.background_color),"breakpoint-small":this.width<520,"skin-stacked":this.width<520,"breakpoint-large":this.width>=520}},this.hasPosterArea()&&h("div",{class:"presto-audio__poster-wrapper"},!!(null===(s=this.preset)||void 0===s?void 0:s["play-large"])&&h("div",{class:"presto-audio__large-play-wrapper"},this.renderLargePlay()),this.renderPosterImage()),this.hasPosterArea()&&this.renderMobilePoster(),h("div",{class:"presto-audio__controls-wrapper"},h("div",{class:"presto-audio__title"},this.mediaTitle),h("audio",Object.assign({part:"audio-player",ref:this.getRef,autoplay:this.autoplay,preload:this.preload,"data-poster":this.poster},this.audioAttributes),h("source",{src:this.src}),!!this.tracks&&!!this.tracks.length&&this.tracks.map((e=>h("track",{kind:"captions",label:(null==e?void 0:e.label)?e.label:"Captions",src:null==e?void 0:e.src,srclang:(null==e?void 0:e.srcLang)?null==e?void 0:e.srcLang:"en"}))))))}static get is(){return"presto-audio"}static get originalStyleUrls(){return{$:["presto-audio.scss"]}}static get styleUrls(){return{$:["presto-audio.css"]}}static get properties(){return{getRef:{type:"unknown",mutable:!0,complexType:{original:"(elm?: HTMLAudioElement) => void",resolved:"(elm?: HTMLAudioElement) => void",references:{HTMLAudioElement:{location:"global"}}},required:!1,optional:!0,docs:{tags:[],text:""}},autoplay:{type:"boolean",mutable:!1,complexType:{original:"boolean",resolved:"boolean",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"autoplay",reflect:!1},src:{type:"string",mutable:!1,complexType:{original:"string",resolved:"string",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"src",reflect:!1},preload:{type:"string",mutable:!1,complexType:{original:"string",resolved:"string",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"preload",reflect:!1},poster:{type:"string",mutable:!1,complexType:{original:"string",resolved:"string",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"poster",reflect:!1},player:{type:"any",mutable:!1,complexType:{original:"any",resolved:"any",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"player",reflect:!1},preset:{type:"unknown",mutable:!1,complexType:{original:"presetAttributes",resolved:"presetAttributes",references:{presetAttributes:{location:"import",path:"../../../../interfaces"}}},required:!1,optional:!1,docs:{tags:[],text:""}},tracks:{type:"unknown",mutable:!1,complexType:{original:"{ label: string; src: string; srcLang: string }[]",resolved:"{ label: string; src: string; srcLang: string; }[]",references:{}},required:!1,optional:!1,docs:{tags:[],text:""}},provider:{type:"string",mutable:!1,complexType:{original:"string",resolved:"string",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"provider",reflect:!1},mediaTitle:{type:"string",mutable:!1,complexType:{original:"string",resolved:"string",references:{}},required:!1,optional:!1,docs:{tags:[],text:""},attribute:"media-title",reflect:!1},audioAttributes:{type:"unknown",mutable:!1,complexType:{original:"object",resolved:"object",references:{}},required:!1,optional:!1,docs:{tags:[],text:""}}}}static get states(){return{width:{}}}static get events(){return[{method:"playVideo",name:"playVideo",bubbles:!0,cancelable:!0,composed:!0,docs:{tags:[],text:""},complexType:{original:"void",resolved:"void",references:{}}},{method:"pauseVideo",name:"pauseVideo",bubbles:!0,cancelable:!0,composed:!0,docs:{tags:[],text:""},complexType:{original:"true",resolved:"boolean",references:{}}}]}}