!function(){var e,t,r={4697:function(e,t,r){"use strict";var n=r(8247),o=r(6411),a=r(6686),i=r(7563),l=r(211),s=r(8160),c=r(2190),u=function(e,t,r){for(var n=0,a=0;n=a,a=(0,o.fj)(),38===n&&12===a&&(t[r]=1),!(0,o.r)(a);)(0,o.lp)();return(0,o.tP)(e,o.FK)},p=new WeakMap,d=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||p.get(r))&&!n){p.set(e,!0);for(var i=[],l=function(e,t){return(0,o.cE)(function(e,t){var r=-1,n=44;do{switch((0,o.r)(n)){case 0:38===n&&12===(0,o.fj)()&&(t[r]=1),e[r]+=u(o.FK-1,t,r);break;case 2:e[r]+=(0,o.iF)(n);break;case 4:if(44===n){e[++r]=58===(0,o.fj)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,a.Dp)(n)}}while(n=(0,o.lp)());return e}((0,o.un)(e),t))}(t,i),s=r.props,c=0,d=0;c<l.length;c++)for(var f=0;f<s.length;f++,d++)e.props[d]=i[c]?l[c].replace(/&\f/g,s[f]):s[f]+" "+l[c]}}},f=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function y(e,t){switch((0,a.vp)(e,t)){case 5103:return i.G$+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return i.G$+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return i.G$+e+i.uj+e+i.MS+e+e;case 6828:case 4268:return i.G$+e+i.MS+e+e;case 6165:return i.G$+e+i.MS+"flex-"+e+e;case 5187:return i.G$+e+(0,a.gx)(e,/(\w+).+(:[^]+)/,i.G$+"box-$1$2"+i.MS+"flex-$1$2")+e;case 5443:return i.G$+e+i.MS+"flex-item-"+(0,a.gx)(e,/flex-|-self/,"")+e;case 4675:return i.G$+e+i.MS+"flex-line-pack"+(0,a.gx)(e,/align-content|flex-|-self/,"")+e;case 5548:return i.G$+e+i.MS+(0,a.gx)(e,"shrink","negative")+e;case 5292:return i.G$+e+i.MS+(0,a.gx)(e,"basis","preferred-size")+e;case 6060:return i.G$+"box-"+(0,a.gx)(e,"-grow","")+i.G$+e+i.MS+(0,a.gx)(e,"grow","positive")+e;case 4554:return i.G$+(0,a.gx)(e,/([^-])(transform)/g,"$1"+i.G$+"$2")+e;case 6187:return(0,a.gx)((0,a.gx)((0,a.gx)(e,/(zoom-|grab)/,i.G$+"$1"),/(image-set)/,i.G$+"$1"),e,"")+e;case 5495:case 3959:return(0,a.gx)(e,/(image-set\([^]*)/,i.G$+"$1$`$1");case 4968:return(0,a.gx)((0,a.gx)(e,/(.+:)(flex-)?(.*)/,i.G$+"box-pack:$3"+i.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+i.G$+e+e;case 4095:case 3583:case 4068:case 2532:return(0,a.gx)(e,/(.+)-inline(.+)/,i.G$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,a.to)(e)-1-t>6)switch((0,a.uO)(e,t+1)){case 109:if(45!==(0,a.uO)(e,t+4))break;case 102:return(0,a.gx)(e,/(.+:)(.+)-([^]+)/,"$1"+i.G$+"$2-$3$1"+i.uj+(108==(0,a.uO)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,a.Cw)(e,"stretch")?y((0,a.gx)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,a.uO)(e,t+1))break;case 6444:switch((0,a.uO)(e,(0,a.to)(e)-3-(~(0,a.Cw)(e,"!important")&&10))){case 107:return(0,a.gx)(e,":",":"+i.G$)+e;case 101:return(0,a.gx)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+i.G$+(45===(0,a.uO)(e,14)?"inline-":"")+"box$3$1"+i.G$+"$2$3$1"+i.MS+"$2box$3")+e}break;case 5936:switch((0,a.uO)(e,t+11)){case 114:return i.G$+e+i.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return i.G$+e+i.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return i.G$+e+i.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return i.G$+e+i.MS+e+e}return e}var v=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case i.h5:e.return=y(e.value,e.length);break;case i.lK:return(0,l.q)([(0,o.JG)(e,{value:(0,a.gx)(e.value,"@","@"+i.G$)})],n);case i.Fr:if(e.length)return(0,a.$e)(e.props,(function(t){switch((0,a.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,l.q)([(0,o.JG)(e,{props:[(0,a.gx)(t,/:(read-\w+)/,":"+i.uj+"$1")]})],n);case"::placeholder":return(0,l.q)([(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,":"+i.G$+"input-$1")]}),(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,":"+i.uj+"$1")]}),(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,i.MS+"input-$1")]})],n)}return""}))}}];t.Z=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,a,i=e.stylisPlugins||v,u={},p=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;p.push(e)}));var y,m=[d,f],h=[l.P,(0,s.cD)((function(e){y.insert(e)}))],b=(0,s.qR)(m.concat(i,h));a=function(e,t,r,n){var o;y=r,o=e?e+"{"+t.styles+"}":t.styles,(0,l.q)((0,c.MY)(o),b),n&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new n.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:a};return g.sheet.hydrate(p),g}},8247:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},7453:function(e,t,r){"use strict";r.d(t,{iv:function(){return l.Z},tZ:function(){return s}});r(4578);var n=r(9196),o=(r(3061),r(1299)),a=r(8087),i=r(6660),l=(r(9664),r(3998)),s=function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=o.E,i[1]=(0,o.c)(e,t);for(var l=2;l<a;l++)i[l]=r[l];return n.createElement.apply(null,i)},c=(n.Component,function e(t){for(var r=t.length,n=0,o="";n<r;n++){var a=t[n];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var l in i="",a)a[l]&&l&&(i&&(i+=" "),i+=l);break;default:i=a}i&&(o&&(o+=" "),o+=i)}}return o});function u(e,t,r){var n=[],o=(0,a.f)(e,n,r);return n.length<2?r:o+t(n)}var p=function(){return null};(0,o.w)((function(e,t){return(0,n.createElement)(o.T.Consumer,null,(function(r){var o=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=(0,i.O)(r,t.registered);return(0,a.M)(t,o,!1),t.key+"-"+o.name},l={css:o,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(t.registered,o,c(r))},theme:r},s=e.children(l),d=(0,n.createElement)(p,null);return(0,n.createElement)(n.Fragment,null,d,s)}))}))},1299:function(e,t,r){"use strict";r.d(t,{E:function(){return v},T:function(){return c},c:function(){return d},h:function(){return l},w:function(){return u}});var n=r(9196),o=r(3061),a=r(8087),i=r(6660),l=Object.prototype.hasOwnProperty,s=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)():null),c=(0,n.createContext)({}),u=(s.Provider,function(e){var t=function(t,r){return(0,n.createElement)(s.Consumer,null,(function(n){return e(t,n,r)}))};return(0,n.forwardRef)(t)}),p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d=function(e,t){var r={};for(var n in t)l.call(t,n)&&(r[n]=t[n]);return r[p]=e,r},f=function(){return null},y=function(e,t,r,o){var s=null===r?t.css:t.css(r);"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var c=t[p],u=[s],d="";"string"==typeof t.className?d=(0,a.f)(e.registered,u,t.className):null!=t.className&&(d=t.className+" ");var y=(0,i.O)(u);(0,a.M)(e,y,"string"==typeof c),d+=e.key+"-"+y.name;var v={};for(var m in t)l.call(t,m)&&"css"!==m&&m!==p&&(v[m]=t[m]);v.ref=o,v.className=d;var h=(0,n.createElement)(c,v),b=(0,n.createElement)(f,null);return(0,n.createElement)(n.Fragment,null,b,h)},v=u((function(e,t,r){return"function"==typeof e.css?(0,n.createElement)(c.Consumer,null,(function(n){return y(t,e,n,r)})):y(t,e,null,r)}))},3061:function(e,t,r){"use strict";var n=r(9664),o=r(8285),a="/*|*/",i=a+"}";function l(e){e&&s.current.insert(e+"}")}var s={current:null},c=function(e,t,r,n,o,c,u,p,d,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===p)return t+a;break;case 3:switch(p){case 102:case 112:return s.current.insert(r[0]+t),"";default:return t+(0===f?a:"")}case-2:t.split(i).forEach(l)}};t.Z=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var a,i=new o.Z(t),l={};a=e.container||document.head;var u,p=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(p,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){l[e]=!0})),e.parentNode!==a&&a.appendChild(e)})),i.use(e.stylisPlugins)(c),u=function(e,t,r,n){var o=t.name;s.current=r,i(e,t.styles),n&&(d.inserted[o]=!0)};var d={key:r,sheet:new n.m({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:l,registered:{},insert:u};return d}},3998:function(e,t,r){"use strict";var n=r(6660);t.Z=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.O)(t)}},2506:function(e,t){"use strict";t.Z=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},5042:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},2443:function(e,t,r){"use strict";r.d(t,{E:function(){return v},T:function(){return p},c:function(){return f},h:function(){return s},w:function(){return u}});var n=r(9196),o=r(4697),a=r(7728),i=r(8202),l=r(7278),s={}.hasOwnProperty,c=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);c.Provider;var u=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(c);return e(t,o,r)}))},p=(0,n.createContext)({}),d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var r={};for(var n in t)s.call(t,n)&&(r[n]=t[n]);return r[d]=e,r},y=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,a.hC)(t,r,n),(0,l.L)((function(){return(0,a.My)(t,r,n)})),null},v=u((function(e,t,r){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var l=e[d],c=[o],u="";"string"==typeof e.className?u=(0,a.fp)(t.registered,c,e.className):null!=e.className&&(u=e.className+" ");var f=(0,i.O)(c,void 0,(0,n.useContext)(p));u+=t.key+"-"+f.name;var v={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==d&&(v[m]=e[m]);return v.ref=r,v.className=u,(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y,{cache:t,serialized:f,isStringTag:"string"==typeof l}),(0,n.createElement)(l,v))}))},917:function(e,t,r){"use strict";r.d(t,{tZ:function(){return a}});var n=r(9196),o=(r(4697),r(2443)),a=(r(8679),r(8202),r(7278),function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=o.E,i[1]=(0,o.c)(e,t);for(var l=2;l<a;l++)i[l]=r[l];return n.createElement.apply(null,i)})},8491:function(e,t){"use strict";t.Z=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},8202:function(e,t,r){"use strict";r.d(t,{O:function(){return v}});var n=r(8491),o=r(8687),a=r(5042),i=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.Z)((function(e){return s(e)?e:e.replace(i,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(l,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===o.Z[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)f={name:n.name,styles:n.styles,next:f},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o])+";";else for(var a in r){var i=r[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?n+=a+"{"+t[i]+"}":c(i)&&(n+=u(a)+":"+p(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=d(e,t,i);switch(a){case"animation":case"animationName":n+=u(a)+":"+l+";";break;default:n+=a+"{"+l+"}"}}else for(var s=0;s<i.length;s++)c(i[s])&&(n+=u(a)+":"+p(a,i[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=f,a=r(e);return f=o,d(e,t,a)}}if(null==t)return r;var i=t[r];return void 0!==i?i:r}var f,y=/label:\s*([^\s;\n{]+)\s*(;|$)/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,a+=d(r,t,i)):a+=i[0];for(var l=1;l<e.length;l++)a+=d(r,t,e[l]),o&&(a+=i[l]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.Z)(a)+c,styles:a,next:f}}},8687:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7728:function(e,t,r){"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}r.d(t,{My:function(){return a},fp:function(){return n},hC:function(){return o}});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},a=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},6660:function(e,t,r){"use strict";r.d(t,{O:function(){return v}});var n=r(2506),o=r(351),a=r(7056),i=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.Z)((function(e){return s(e)?e:e.replace(i,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(l,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===o.Z[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)f={name:o.name,styles:o.styles,next:f},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o],!1);else for(var a in r){var i=r[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?n+=a+"{"+t[i]+"}":c(i)&&(n+=u(a)+":"+p(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=d(e,t,i,!1);switch(a){case"animation":case"animationName":n+=u(a)+":"+l+";";break;default:n+=a+"{"+l+"}"}}else for(var s=0;s<i.length;s++)c(i[s])&&(n+=u(a)+":"+p(a,i[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=f,i=r(e);return f=a,d(e,t,i,n)}}if(null==t)return r;var l=t[r];return void 0===l||n?r:l}var f,y=/label:\s*([^\s;\n{]+)\s*;/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,a+=d(r,t,i,!1)):a+=i[0];for(var l=1;l<e.length;l++)a+=d(r,t,e[l],46===a.charCodeAt(a.length-1)),o&&(a+=i[l]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.Z)(a)+c,styles:a,next:f}}},7056:function(e,t){"use strict";t.Z=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},9664:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,a?0:o.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},6774:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(7462),o=r(9196),a=r(5042),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,a.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),s=r(2443);function c(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var u=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},p=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},d={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v=function(e){return 45===e.charCodeAt(1)},m=function(e){return null!=e&&"boolean"!=typeof e},h=(0,a.Z)((function(e){return v(e)?e:e.replace(f,"-$&").toLowerCase()})),b=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(y,(function(e,t,r){return Z={name:t,styles:r,next:Z},t}))}return 1===d[e]||v(e)||"number"!=typeof t||0===t?t:t+"px"};function g(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Z={name:r.name,styles:r.styles,next:Z},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Z={name:n.name,styles:n.styles,next:Z},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=g(e,t,r[o])+";";else for(var a in r){var i=r[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?n+=a+"{"+t[i]+"}":m(i)&&(n+=h(a)+":"+b(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=g(e,t,i);switch(a){case"animation":case"animationName":n+=h(a)+":"+l+";";break;default:n+=a+"{"+l+"}"}}else for(var s=0;s<i.length;s++)m(i[s])&&(n+=h(a)+":"+b(a,i[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=Z,a=r(e);return Z=o,g(e,t,a)}}if(null==t)return r;var i=t[r];return void 0!==i?i:r}var Z,w=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";Z=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=g(r,t,a)):o+=a[0];for(var i=1;i<e.length;i++)o+=g(r,t,e[i]),n&&(o+=a[i]);w.lastIndex=0;for(var l,s="";null!==(l=w.exec(o));)s+="-"+l[1];return{name:p(o)+s,styles:o,next:Z}},k=r(7278),x=l,C=function(e){return"theme"!==e},P=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?x:C},O=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},S=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return u(t,r,n),(0,k.L)((function(){return function(e,t,r){u(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,r,n)})),null},E=function e(t,r){var a,i,l=t.__emotion_real===t,u=l&&t.__emotion_base||t;void 0!==r&&(a=r.label,i=r.target);var p=O(t,r,l),d=p||P(u),f=!d("as");return function(){var y=arguments,v=l&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&v.push("label:"+a+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var m=y.length,h=1;h<m;h++)v.push(y[h],y[0][h])}var b=(0,s.w)((function(e,t,r){var n=f&&e.as||u,a="",l=[],y=e;if(null==e.theme){for(var m in y={},e)y[m]=e[m];y.theme=(0,o.useContext)(s.T)}"string"==typeof e.className?a=c(t.registered,l,e.className):null!=e.className&&(a=e.className+" ");var h=_(v.concat(l),t.registered,y);a+=t.key+"-"+h.name,void 0!==i&&(a+=" "+i);var b=f&&void 0===p?P(n):d,g={};for(var Z in e)f&&"as"===Z||b(Z)&&(g[Z]=e[Z]);return g.className=a,g.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(S,{cache:t,serialized:h,isStringTag:"string"==typeof n}),(0,o.createElement)(n,g))}));return b.displayName=void 0!==a?a:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=u,b.__emotion_styles=v,b.__emotion_forwardProp=p,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(t,o){return e(t,(0,n.Z)({},r,o,{shouldForwardProp:O(b,o,!0)})).apply(void 0,v)},b}}},8285:function(e,t){"use strict";t.Z=function(e){function t(e,n,s,c,d){for(var f,y,v,m,Z,_=0,k=0,x=0,C=0,P=0,T=0,R=v=f=0,L=0,I=0,D=0,B=0,M=s.length,F=M-1,V="",U="",z="",G="";L<M;){if(y=s.charCodeAt(L),L===F&&0!==k+C+x+_&&(0!==k&&(y=47===k?10:47),C=x=_=0,M++,F++),0===k+C+x+_){if(L===F&&(0<I&&(V=V.replace(p,"")),0<V.trim().length)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:V+=s.charAt(L)}y=59}switch(y){case 123:for(f=(V=V.trim()).charCodeAt(0),v=1,B=++L;L<M;){switch(y=s.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(y=s.charCodeAt(L+1)){case 42:case 47:e:{for(R=L+1;R<F;++R)switch(s.charCodeAt(R)){case 47:if(42===y&&42===s.charCodeAt(R-1)&&L+2!==R){L=R+1;break e}break;case 10:if(47===y){L=R+1;break e}}L=R}}break;case 91:y++;case 40:y++;case 34:case 39:for(;L++<F&&s.charCodeAt(L)!==y;);}if(0===v)break;L++}if(v=s.substring(B,L),0===f&&(f=(V=V.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<I&&(V=V.replace(p,"")),y=V.charCodeAt(1)){case 100:case 109:case 115:case 45:I=n;break;default:I=N}if(B=(v=t(n,I,v,y,d+1)).length,0<A&&(Z=l(3,v,I=r(N,V,D),n,S,O,B,y,d,c),V=I.join(""),void 0!==Z&&0===(B=(v=Z.trim()).length)&&(y=0,v="")),0<B)switch(y){case 115:V=V.replace(w,i);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(h,"$1 $2"))+"{"+v+"}",v=1===$||2===$&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(U+=v,v="")}else v=""}else v=t(n,r(n,V,D),v,c,d+1);z+=v,v=D=I=R=f=0,V="",y=s.charCodeAt(++L);break;case 125:case 59:if(1<(B=(V=(0<I?V.replace(p,""):V).trim()).length))switch(0===R&&(f=V.charCodeAt(0),45===f||96<f&&123>f)&&(B=(V=V.replace(" ",":")).length),0<A&&void 0!==(Z=l(1,V,n,e,S,O,U.length,c,d,c))&&0===(B=(V=Z.trim()).length)&&(V="\0\0"),f=V.charCodeAt(0),y=V.charCodeAt(1),f){case 0:break;case 64:if(105===y||99===y){G+=V+s.charAt(L);break}default:58!==V.charCodeAt(B-1)&&(U+=o(V,f,y,V.charCodeAt(2)))}D=I=R=f=0,V="",y=s.charCodeAt(++L)}}switch(y){case 13:case 10:47===k?k=0:0===1+f&&107!==c&&0<V.length&&(I=1,V+="\0"),0<A*j&&l(0,V,n,e,S,O,U.length,c,d,c),O=1,S++;break;case 59:case 125:if(0===k+C+x+_){O++;break}default:switch(O++,m=s.charAt(L),y){case 9:case 32:if(0===C+_+k)switch(P){case 44:case 58:case 9:case 32:m="";break;default:32!==y&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===C+k+_&&(I=D=1,m="\f"+m);break;case 108:if(0===C+k+_+E&&0<R)switch(L-R){case 2:112===P&&58===s.charCodeAt(L-3)&&(E=P);case 8:111===T&&(E=T)}break;case 58:0===C+k+_&&(R=L);break;case 44:0===k+x+C+_&&(I=1,m+="\r");break;case 34:case 39:0===k&&(C=C===y?0:0===C?y:C);break;case 91:0===C+k+x&&_++;break;case 93:0===C+k+x&&_--;break;case 41:0===C+k+_&&x--;break;case 40:0===C+k+_&&(0===f&&(2*P+3*T==533||(f=1)),x++);break;case 64:0===k+x+C+_+R+v&&(v=1);break;case 42:case 47:if(!(0<C+_+x))switch(k){case 0:switch(2*y+3*s.charCodeAt(L+1)){case 235:k=47;break;case 220:B=L,k=42}break;case 42:47===y&&42===P&&B+2!==L&&(33===s.charCodeAt(B+2)&&(U+=s.substring(B,L+1)),m="",k=0)}}0===k&&(V+=m)}T=P,P=y,L++}if(0<(B=U.length)){if(I=n,0<A&&void 0!==(Z=l(2,U,I,e,S,O,B,c,d,c))&&0===(U=Z).length)return G+U+z;if(U=I.join(",")+"{"+U+"}",0!=$*E){switch(2!==$||a(U,2)||(E=0),E){case 111:U=U.replace(g,":-moz-$1")+U;break;case 112:U=U.replace(b,"::-webkit-input-$1")+U.replace(b,"::-moz-$1")+U.replace(b,":-ms-input-$1")+U}E=0}}return G+U+z}function r(e,t,r){var o=t.trim().split(v);t=o;var a=o.length,i=e.length;switch(i){case 0:case 1:var l=0;for(e=0===i?"":e[0]+" ";l<a;++l)t[l]=n(e,t[l],r).trim();break;default:var s=l=0;for(t=[];l<a;++l)for(var c=0;c<i;++c)t[s++]=n(e[c]+" ",o[l],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var i=e+";",l=2*t+3*r+4*n;if(944===l){e=i.indexOf(":",9)+1;var s=i.substring(e,i.length-1).trim();return s=i.substring(0,e).trim()+s+";",1===$||2===$&&a(s,1)?"-webkit-"+s+s:s}if(0===$||2===$&&!a(i,1))return i;switch(l){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(P,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(s=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+s+i;case 1005:return f.test(i)?i.replace(d,":-webkit-")+i.replace(d,":-moz-")+i:i;case 1e3:switch(t=(s=i.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=i.replace(Z,"tb");break;case 232:s=i.replace(Z,"tb-rl");break;case 220:s=i.replace(Z,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+s+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,l=(s=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:i=i.replace(s,"-webkit-"+s)+";"+i;break;case 207:case 102:i=i.replace(s,"-webkit-"+(102<l?"inline-":"")+"box")+";"+i.replace(s,"-webkit-"+s)+";"+i.replace(s,"-ms-"+s+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return s=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+s+"-ms-flex-"+s+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(k,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(k,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):i.replace(s,"-webkit-"+s)+i.replace(s,"-moz-"+s.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===r+n&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+i}return i}function a(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),R(2!==t?n:n.replace(x,"$1"),r,t)}function i(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(_," or ($1)").substring(4):"("+t+")"}function l(e,t,r,n,o,a,i,l,s,u){for(var p,d=0,f=t;d<A;++d)switch(p=T[d].call(c,e,f,r,n,o,a,i,l,s,u)){case void 0:case!1:case!0:case null:break;default:f=p}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?$=1:($=2,R=e):$=0),s}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<A){var o=l(-1,r,n,n,S,O,0,0,0,0);void 0!==o&&"string"==typeof o&&(r=o)}var a=t(N,n,r,0,0);return 0<A&&void 0!==(o=l(-2,a,n,n,S,O,a.length,0,0,0))&&(a=o),E=0,O=S=1,a}var u=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,y=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,h=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,Z=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,k=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,O=1,S=1,E=0,$=1,N=[],T=[],A=0,R=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:A=T.length=0;break;default:if("function"==typeof t)T[A++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else j=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},351:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7278:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});var n=r(9196),o=!!n.useInsertionEffect&&n.useInsertionEffect,a=o||function(e){return e()};o||n.useLayoutEffect},8087:function(e,t,r){"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}r.d(t,{M:function(){return o},f:function(){return n}});var o=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0),o=o.next}while(void 0!==o)}}},4831:function(e,t,r){"use strict";r.d(t,{Gc:function(){return s},T9:function(){return l},UP:function(){return o},Zs:function(){return c},pv:function(){return i},zi:function(){return a}});var n=r(826);(0,r(3625).q)();var o=(0,n.o)("presto-cta-overlay-ui"),a=(0,n.o)("presto-email-overlay-ui"),i=(0,n.o)("presto-player"),l=(0,n.o)("presto-playlist-item"),s=(0,n.o)("presto-playlist-ui"),c=(0,n.o)("presto-search-bar-ui")},826:function(e,t,r){"use strict";r.d(t,{o:function(){return y}});var n=r(1002),o=r(5671),a=r(3144),i=r(136),l=r(2963),s=r(1120),c=r(9196),u=r.n(c),p=r(2584),d=r(2867),f=r(9905);var y=function(e,t,r,y){void 0!==y&&y();var v=(0,p.o)(e),m=function(t){(0,i.Z)(h,t);var u,y,m=(u=h,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,s.Z)(u);if(y){var r=(0,s.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function h(e){var t;return(0,o.Z)(this,h),(t=m.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,a.Z)(h,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){(0,d.D6)(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,o=t.children,a=t.forwardedRef,i=t.style,l=(t.className,t.ref,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["children","forwardedRef","style","className","ref"])),s=Object.keys(l).reduce((function(e,t){var r=l[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var o=t.substring(2).toLowerCase();"undefined"!=typeof document&&(0,d.tt)(o)&&(e[t]=r)}else{var a=(0,n.Z)(r);"string"!==a&&"boolean"!==a&&"number"!==a||(e[(0,p.n)(t)]=r)}return e}),{});r&&(s=r(this.props,s));var u=Object.assign(Object.assign({},s),{ref:(0,f.lq)(a,this.setComponentElRef),style:i});return(0,c.createElement)(e,u,o)}}],[{key:"displayName",get:function(){return v}}]),h}(u().Component);return t&&(m.contextType=t),(0,f.rH)(m,v)}},2867:function(e,t,r){"use strict";r.d(t,{D6:function(){return a},tt:function(){return l}});var n=r(1002),o=r(2584),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var a=i(e.classList,t,r);""!==a&&(e.className=a),Object.keys(t).forEach((function(r){if("children"!==r&&"style"!==r&&"ref"!==r&&"class"!==r&&"className"!==r&&"forwardedRef"!==r)if(0===r.indexOf("on")&&r[2]===r[2].toUpperCase()){var a=r.substring(2),i=a[0].toLowerCase()+a.substring(1);l(i)||s(e,i,t[r])}else e[r]=t[r],"string"===(0,n.Z)(t[r])&&e.setAttribute((0,o.n)(r),t[r])}))}},i=function(e,t,r){var n=t.className||t.class,o=r.className||r.class,a=c(e),i=c(n?n.split(" "):[]),l=c(o?o.split(" "):[]),s=[];return a.forEach((function(e){i.has(e)?(s.push(e),i.delete(e)):l.has(e)||s.push(e)})),i.forEach((function(e){return s.push(e)})),s.join(" ")},l=function(e){if("undefined"==typeof document)return!0;var t="on"+e,r=t in document;if(!r){var n=document.createElement("div");n.setAttribute(t,"return;"),r="function"==typeof n[t]}return r},s=function(e,t,r){var n=e.__events||(e.__events={}),o=n[t];o&&e.removeEventListener(t,o),e.addEventListener(t,n[t]=function(e){r&&r.call(this,e)})},c=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t}},2584:function(e,t,r){"use strict";r.d(t,{n:function(){return o},o:function(){return n}});var n=function(e){return e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},o=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))}},9905:function(e,t,r){"use strict";r.d(t,{lq:function(){return i},rH:function(){return l}});var n=r(9196),o=r.n(n),a=function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)},i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){a(t,e)}))}},l=function(e,t){var r=function(t,r){return o().createElement(e,Object.assign({},t,{forwardedRef:r}))};return r.displayName=t,o().forwardRef(r)}},2673:function(e,t,r){"use strict";r.d(t,{H:function(){return N},b:function(){return we},c:function(){return L},g:function(){return j},h:function(){return E},p:function(){return De},r:function(){return Se}});var n=r(5671),o=r(3144),a=r(7326),i=r(136),l=r(2963),s=r(1120),c=r(2407),u=r(5861),p=r(3324),d=r(9062),f=r(1002),y=r(1284),v=r.n(y);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var h,b,g,Z=!1,w=!1,_=!1,k=!1,x=!1,C="{visibility:hidden}.hydrated{visibility:inherit}",P="http://www.w3.org/1999/xlink",O={},S=function(e){return"object"===(e=(0,f.Z)(e))||"function"===e},E=function(e,t){for(var r=null,n=null,o=null,a=!1,i=!1,l=[],s=function t(n){for(var o=0;o<n.length;o++)r=n[o],Array.isArray(r)?t(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof e&&!S(r))&&(r=String(r)),a&&i?l[l.length-1].$text$+=r:l.push(a?$(null,r):r),i=a)},c=arguments.length,u=new Array(c>2?c-2:0),p=2;p<c;p++)u[p-2]=arguments[p];if(s(u),t){t.key&&(n=t.key),t.name&&(o=t.name);var d=t.className||t.class;d&&(t.class="object"!==(0,f.Z)(d)?d:Object.keys(d).filter((function(e){return d[e]})).join(" "))}if("function"==typeof e)return e(null===t?{}:t,l,T);var y=$(e,null);return y.$attrs$=t,l.length>0&&(y.$children$=l),y.$key$=n,y.$name$=o,y},$=function(e,t){return{$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},N={},T={forEach:function(e,t){return e.map(A).forEach(t)},map:function(e,t){return e.map(A).map(t).map(R)}},A=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},R=function(e){if("function"==typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),E.apply(void 0,[e.vtag,t].concat((0,d.Z)(e.vchildren||[])))}var r=$(e.vtag,e.vtext);return r.$attrs$=e.vattrs,r.$children$=e.vchildren,r.$key$=e.vkey,r.$name$=e.vname,r},j=function(e){return Oe(e).$hostElement$},L=function(e,t,r){var n=j(e);return{emit:function(e){return I(n,t,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}}},I=function(e,t,r){var n=Ie.ce(t,r);return e.dispatchEvent(n),n},D=new WeakMap,B=function(e,t,r){var n=Re.get(e);Be&&r?"string"==typeof(n=n||new CSSStyleSheet)?n=t:n.replaceSync(t):n=t,Re.set(e,n)},M=function(e){var t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,o=(t.$tagName$,function(){}),a=function(e,t,r,n){var o=F(t),a=Re.get(o);if(e=11===e.nodeType?e:Le,a)if("string"==typeof a){e=e.head||e;var i,l=D.get(e);l||D.set(e,l=new Set),l.has(o)||((i=Le.createElement("style")).innerHTML=a,e.insertBefore(i,e.querySelector("link")),l&&l.add(o))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[].concat((0,d.Z)(e.adoptedStyleSheets),[a]));return o}(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&n&&(r["s-sc"]=a,r.classList.add(a+"-h")),o()},F=function(e,t){return"sc-"+e.$tagName$},V=function(e,t,r,n,o,a){if(r!==n){var i=$e(e,t),l=t.toLowerCase();if("class"===t){var s=e.classList,c=z(r),u=z(n);s.remove.apply(s,(0,d.Z)(c.filter((function(e){return e&&!u.includes(e)})))),s.add.apply(s,(0,d.Z)(u.filter((function(e){return e&&!c.includes(e)}))))}else if("style"===t){for(var p in r)n&&null!=n[p]||(p.includes("-")?e.style.removeProperty(p):e.style[p]="");for(var f in n)r&&n[f]===r[f]||(f.includes("-")?e.style.setProperty(f,n[f]):e.style[f]=n[f])}else if("key"===t);else if("ref"===t)n&&n(e);else if(i||"o"!==t[0]||"n"!==t[1]){var y=S(n);if((i||y&&null!==n)&&!o)try{if(e.tagName.includes("-"))e[t]=n;else{var v=null==n?"":n;"list"===t?i=!1:null!=r&&e[t]==v||(e[t]=v)}}catch(e){}var m=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,m=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(m?e.removeAttributeNS(P,t):e.removeAttribute(t)):(!i||4&a||o)&&!y&&(n=!0===n?"":n,m?e.setAttributeNS(P,t,n):e.setAttribute(t,n))}else t="-"===t[2]?t.slice(3):$e(je,l)?l.slice(2):l[2]+t.slice(3),r&&Ie.rel(e,t,r,!1),n&&Ie.ael(e,t,n,!1)}},U=/\s/,z=function(e){return e?e.split(U):[]},G=function(e,t,r,n){var o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||O,i=t.$attrs$||O;for(n in a)n in i||V(o,n,a[n],void 0,r,t.$flags$);for(n in i)V(o,n,a[n],i[n],r,t.$flags$)},H=function e(t,r,n,o){var a,i,l,s=r.$children$[n],c=0;if(Z||(_=!0,"slot"===s.$tag$&&(h&&o.classList.add(h+"-s"),s.$flags$|=s.$children$?2:1)),null!==s.$text$)a=s.$elm$=Le.createTextNode(s.$text$);else if(1&s.$flags$)a=s.$elm$=Le.createTextNode("");else{if(k||(k="svg"===s.$tag$),a=s.$elm$=Le.createElementNS(k?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&s.$flags$?"slot-fb":s.$tag$),k&&"foreignObject"===s.$tag$&&(k=!1),G(null,s,k),null!=h&&a["s-si"]!==h&&a.classList.add(a["s-si"]=h),s.$children$)for(c=0;c<s.$children$.length;++c)(i=e(t,s,c,a))&&a.appendChild(i);"svg"===s.$tag$?k=!1:"foreignObject"===a.tagName&&(k=!0)}return a["s-hn"]=g,3&s.$flags$&&(a["s-sr"]=!0,a["s-cr"]=b,a["s-sn"]=s.$name$||"",(l=t&&t.$children$&&t.$children$[n])&&l.$tag$===s.$tag$&&t.$elm$&&W(t.$elm$,!1)),a},W=function e(t,r){Ie.$flags$|=1;for(var n=t.childNodes,o=n.length-1;o>=0;o--){var a=n[o];a["s-hn"]!==g&&a["s-ol"]&&(Q(a).insertBefore(a,K(a)),a["s-ol"].remove(),a["s-ol"]=void 0,_=!0),r&&e(a,r)}Ie.$flags$&=-2},q=function(e,t,r,n,o,a){var i,l=e["s-cr"]&&e["s-cr"].parentNode||e;for(l.shadowRoot&&l.tagName===g&&(l=l.shadowRoot);o<=a;++o)n[o]&&(i=H(null,r,o,e))&&(n[o].$elm$=i,l.insertBefore(i,K(t)))},Y=function(e,t,r,n,o){for(;t<=r;++t)(n=e[t])&&(o=n.$elm$,oe(n),w=!0,o["s-ol"]?o["s-ol"].remove():W(o,!0),o.remove())},X=function(e,t){return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$)},K=function(e){return e&&e["s-ol"]||e},Q=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},J=function(e,t){var r,n=t.$elm$=e.$elm$,o=e.$children$,a=t.$children$,i=t.$tag$,l=t.$text$;null===l?(k="svg"===i||"foreignObject"!==i&&k,"slot"===i||G(e,t,k),null!==o&&null!==a?function(e,t,r,n){for(var o,a,i=0,l=0,s=0,c=0,u=t.length-1,p=t[0],d=t[u],f=n.length-1,y=n[0],v=n[f];i<=u&&l<=f;)if(null==p)p=t[++i];else if(null==d)d=t[--u];else if(null==y)y=n[++l];else if(null==v)v=n[--f];else if(X(p,y))J(p,y),p=t[++i],y=n[++l];else if(X(d,v))J(d,v),d=t[--u],v=n[--f];else if(X(p,v))"slot"!==p.$tag$&&"slot"!==v.$tag$||W(p.$elm$.parentNode,!1),J(p,v),e.insertBefore(p.$elm$,d.$elm$.nextSibling),p=t[++i],v=n[--f];else if(X(d,y))"slot"!==p.$tag$&&"slot"!==v.$tag$||W(d.$elm$.parentNode,!1),J(d,y),e.insertBefore(d.$elm$,p.$elm$),d=t[--u],y=n[++l];else{for(s=-1,c=i;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===y.$key$){s=c;break}s>=0?((a=t[s]).$tag$!==y.$tag$?o=H(t&&t[l],r,s,e):(J(a,y),t[s]=void 0,o=a.$elm$),y=n[++l]):(o=H(t&&t[l],r,l,e),y=n[++l]),o&&Q(p.$elm$).insertBefore(o,K(p.$elm$))}i>u?q(e,null==n[f+1]?null:n[f+1].$elm$,r,n,l,f):l>f&&Y(t,i,u)}(n,o,t,a):null!==a?(null!==e.$text$&&(n.textContent=""),q(n,null,t,a,0,a.length-1)):null!==o&&Y(o,0,o.length-1),k&&"svg"===i&&(k=!1)):(r=n["s-cr"])?r.parentNode.textContent=l:e.$text$!==l&&(n.data=l)},ee=function e(t){var r,n,o,a,i,l,s=t.childNodes;for(n=0,o=s.length;n<o;n++)if(1===(r=s[n]).nodeType){if(r["s-sr"])for(i=r["s-sn"],r.hidden=!1,a=0;a<o;a++)if(l=s[a].nodeType,s[a]["s-hn"]!==r["s-hn"]||""!==i){if(1===l&&i===s[a].getAttribute("slot")){r.hidden=!0;break}}else if(1===l||3===l&&""!==s[a].textContent.trim()){r.hidden=!0;break}e(r)}},te=[],re=function e(t){for(var r,n,o,a,i,l,s=0,c=t.childNodes,u=c.length;s<u;s++){if((r=c[s])["s-sr"]&&(n=r["s-cr"])&&n.parentNode)for(o=n.parentNode.childNodes,a=r["s-sn"],l=o.length-1;l>=0;l--)(n=o[l])["s-cn"]||n["s-nr"]||n["s-hn"]===r["s-hn"]||(ne(n,a)?(i=te.find((function(e){return e.$nodeToRelocate$===n})),w=!0,n["s-sn"]=n["s-sn"]||a,i?i.$slotRefNode$=r:te.push({$slotRefNode$:r,$nodeToRelocate$:n}),n["s-sr"]&&te.map((function(e){ne(e.$nodeToRelocate$,n["s-sn"])&&(i=te.find((function(e){return e.$nodeToRelocate$===n})))&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$)}))):te.some((function(e){return e.$nodeToRelocate$===n}))||te.push({$nodeToRelocate$:n}));1===r.nodeType&&e(r)}},ne=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},oe=function e(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e)},ae=function(e,t){var r,n=e.$hostElement$,o=e.$cmpMeta$,a=e.$vnode$||$(null,null),i=(r=t)&&r.$tag$===N?t:E(null,null,t);if(g=n.tagName,o.$attrsToReflect$&&(i.$attrs$=i.$attrs$||{},o.$attrsToReflect$.map((function(e){var t=(0,p.Z)(e,2),r=t[0],o=t[1];return i.$attrs$[o]=n[r]}))),i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=a.$elm$=n.shadowRoot||n,h=n["s-sc"],b=n["s-cr"],Z=0!=(1&o.$flags$),w=!1,J(a,i),Ie.$flags$|=1,_){var l,s,c,u,d,f;re(i.$elm$);for(var y=0;y<te.length;y++)(s=(l=te[y]).$nodeToRelocate$)["s-ol"]||((c=Le.createTextNode(""))["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=c,s));for(y=0;y<te.length;y++)if(s=(l=te[y]).$nodeToRelocate$,l.$slotRefNode$){for(u=l.$slotRefNode$.parentNode,d=l.$slotRefNode$.nextSibling,c=s["s-ol"];c=c.previousSibling;)if((f=c["s-nr"])&&f["s-sn"]===s["s-sn"]&&u===f.parentNode&&(!(f=f.nextSibling)||!f["s-nr"])){d=f;break}(!d&&u!==s.parentNode||s.nextSibling!==d)&&s!==d&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),u.insertBefore(s,d))}else 1===s.nodeType&&(s.hidden=!0)}w&&ee(i.$elm$),Ie.$flags$&=-2,te.length=0},ie=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},le=function(e,t){if(e.$flags$|=16,!(4&e.$flags$))return ie(e,e.$ancestorComponent$),He((function(){return se(e,t)}));e.$flags$|=512},se=function(e,t){var r,n=(e.$cmpMeta$.$tagName$,function(){}),o=e.$lazyInstance$;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=(0,p.Z)(e,2),r=t[0],n=t[1];return fe(o,r,n)})),e.$queuedListeners$=null),r=fe(o,"componentWillLoad")),n(),ye(r,(function(){return ce(e,o,t)}))},ce=function(){var e=(0,u.Z)(v().mark((function e(t,r,n){var o,a,i,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.$hostElement$,t.$cmpMeta$.$tagName$,function(){},a=o["s-rc"],n&&M(t),t.$cmpMeta$.$tagName$,function(){},ue(t,r),a&&(a.map((function(e){return e()})),o["s-rc"]=void 0),i=o["s-p"],l=function(){return pe(t)},0===i.length?l():(Promise.all(i).then(l),t.$flags$|=4,i.length=0);case 12:case"end":return e.stop()}}),e)})));return function(_x,t,r){return e.apply(this,arguments)}}(),ue=function(e,t,r){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,ae(e,t)}catch(t){Ne(t,e.$hostElement$)}return null},pe=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,r=e.$lazyInstance$,n=e.$ancestorComponent$;fe(r,"componentDidRender"),64&e.$flags$||(e.$flags$|=64,ve(t),fe(r,"componentDidLoad"),e.$onReadyResolve$(t),n||de()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ge((function(){return le(e,!1)})),e.$flags$&=-517},de=function(e){ve(Le.documentElement),Ge((function(){return I(je,"appload",{detail:{namespace:"web-components"}})}))},fe=function(e,t,r){if(e&&e[t])try{return e[t](r)}catch(e){Ne(e)}},ye=function(e,t){return e&&e.then?e.then(t):t()},ve=function(e){return e.classList.add("hydrated")},me=function(e,t,r){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var n=Object.entries(t.$members$),o=e.prototype;if(n.map((function(e){var n=(0,p.Z)(e,2),a=n[0],i=(0,p.Z)(n[1],1)[0];31&i||2&r&&32&i?Object.defineProperty(o,a,{get:function(){return e=a,Oe(this).$instanceValues$.get(e);var e},set:function(e){!function(e,t,r,n){var o,a,i=Oe(e),l=i.$hostElement$,s=i.$instanceValues$.get(t),c=i.$flags$,u=i.$lazyInstance$;o=r,a=n.$members$[t][0],r=null==o||S(o)?o:4&a?"false"!==o&&(""===o||!!o):2&a?parseFloat(o):1&a?String(o):o;var p=Number.isNaN(s)&&Number.isNaN(r);if((!(8&c)||void 0===s)&&r!==s&&!p&&(i.$instanceValues$.set(t,r),u)){if(n.$watchers$&&128&c){var d=n.$watchers$[t];d&&d.map((function(e){try{u[e](r,s,t)}catch(e){Ne(e,l)}}))}2==(18&c)&&le(i,!1)}}(this,a,e,t)},configurable:!0,enumerable:!0}):1&r&&64&i&&Object.defineProperty(o,a,{value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Oe(this);return n.$onInstancePromise$.then((function(){var e;return(e=n.$lazyInstance$)[a].apply(e,t)}))}})})),1&r){var a=new Map;o.attributeChangedCallback=function(e,t,r){var n=this;Ie.jmp((function(){var t=a.get(e);if(n.hasOwnProperty(t))r=n[t],delete n[t];else if(o.hasOwnProperty(t)&&"number"==typeof n[t]&&n[t]==r)return;n[t]=(null!==r||"boolean"!=typeof n[t])&&r}))},e.observedAttributes=n.filter((function(e){var t=(0,p.Z)(e,2);return t[0],15&t[1][0]})).map((function(e){var r=(0,p.Z)(e,2),n=r[0],o=r[1],i=o[1]||n;return a.set(i,n),512&o[0]&&t.$attrsToReflect$.push([n,i]),i}))}}return e},he=function(){var e=(0,u.Z)(v().mark((function e(t,r,n,o,a){var i,l,s,c,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(32&r.$flags$)){e.next=17;break}if(r.$flags$|=32,!(a=Ae(n)).then){e.next=9;break}return i=function(){},e.next=7,a;case 7:a=e.sent,i();case 9:a.isProxied||(n.$watchers$=a.watchers,me(a,n,2),a.isProxied=!0),n.$tagName$,function(){},r.$flags$|=8;try{new a(r)}catch(e){Ne(e)}r.$flags$&=-9,r.$flags$|=128,a.style&&(l=a.style,s=F(n),Re.has(s)||(n.$tagName$,function(){},B(s,l,!!(1&n.$flags$))));case 17:c=r.$ancestorComponent$,u=function(){return le(r,!0)},c&&c["s-rc"]?c["s-rc"].push(u):u();case 20:case"end":return e.stop()}}),e)})));return function(t,r,n,o,a){return e.apply(this,arguments)}}(),be=function(e){if(0==(1&Ie.$flags$)){var t=Oe(e),r=t.$cmpMeta$,n=(r.$tagName$,function(){});if(1&t.$flags$)_e(e,t,r.$listeners$);else{t.$flags$|=1,12&r.$flags$&&ge(e);for(var o=e;o=o.parentNode||o.host;)if(o["s-p"]){ie(t,t.$ancestorComponent$=o);break}r.$members$&&Object.entries(r.$members$).map((function(t){var r=(0,p.Z)(t,2),n=r[0];if(31&(0,p.Z)(r[1],1)[0]&&e.hasOwnProperty(n)){var o=e[n];delete e[n],e[n]=o}})),he(e,t,r)}n()}},ge=function(e){var t=e["s-cr"]=Le.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Ze=function(e){if(0==(1&Ie.$flags$)){var t=Oe(e),r=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),fe(r,"disconnectedCallback")}},we=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=function(){},s=[],u=r.exclude||[],p=je.customElements,d=Le.head,f=d.querySelector("meta[charset]"),y=Le.createElement("style"),v=[],h=!0;Object.assign(Ie,r),Ie.$resourcesUrl$=new URL(r.resourcesUrl||"./",Le.baseURI).href,e.map((function(e){e[1].map((function(r){var l={$flags$:r[0],$tagName$:r[1],$members$:r[2],$listeners$:r[3]};l.$members$=r[2],l.$listeners$=r[3],l.$attrsToReflect$=[],l.$watchers$={};var d=l.$tagName$,f=function(e){(0,i.Z)(s,e);var r=m(s);function s(e){var t;return(0,n.Z)(this,s),t=r.call(this,e),e=(0,a.Z)(t),Ee(e,l),1&l.$flags$&&e.attachShadow({mode:"open"}),t}return(0,o.Z)(s,[{key:"connectedCallback",value:function(){var e=this;t&&(clearTimeout(t),t=null),h?v.push(this):Ie.jmp((function(){return be(e)}))}},{key:"disconnectedCallback",value:function(){var e=this;Ie.jmp((function(){return Ze(e)}))}},{key:"componentOnReady",value:function(){return Oe(this).$onReadyPromise$}}]),s}((0,c.Z)(HTMLElement));l.$lazyBundleId$=e[0],u.includes(d)||p.get(d)||(s.push(d),p.define(d,me(f,l,1)))}))})),y.innerHTML=s+C,y.setAttribute("data-styles",""),d.insertBefore(y,f?f.nextSibling:d.firstChild),h=!1,v.length?v.map((function(e){return e.connectedCallback()})):Ie.jmp((function(){return t=setTimeout(de,30)})),l()},_e=function(e,t,r,n){r&&r.map((function(r){var n=(0,p.Z)(r,3),o=n[0],a=n[1],i=n[2],l=xe(e,o),s=ke(t,i),c=Ce(o);Ie.ael(l,a,s,c),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return Ie.rel(l,a,s,c)}))}))},ke=function(e,t){return function(r){try{256&e.$flags$?e.$lazyInstance$[t](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r])}catch(e){Ne(e)}}},xe=function(e,t){return 8&t?je:e},Ce=function(e){return 0!=(2&e)},Pe=new WeakMap,Oe=function(e){return Pe.get(e)},Se=function(e,t){return Pe.set(t.$lazyInstance$=e,t)},Ee=function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return r.$onInstancePromise$=new Promise((function(e){return r.$onInstanceResolve$=e})),r.$onReadyPromise$=new Promise((function(e){return r.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[],_e(e,r,t.$listeners$),Pe.set(e,r)},$e=function(e,t){return t in e},Ne=function(e,t){return(0,console.error)(e,t)},Te=new Map,Ae=function(e,t,n){var o=e.$tagName$.replace(/-/g,"_"),a=e.$lazyBundleId$,i=Te.get(a);return i?i[o]:r(7202)("./".concat(a,".entry.js")).then((function(e){return Te.set(a,e),e[o]}),Ne)},Re=new Map,je="undefined"!=typeof window?window:{},Le=je.document||{head:{}},Ie={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}},De=function(e){return Promise.resolve(e)},Be=function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1}(),Me=[],Fe=[],Ve=function(e,t){return function(r){e.push(r),x||(x=!0,t&&4&Ie.$flags$?Ge(ze):Ie.raf(ze))}},Ue=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){Ne(e)}e.length=0},ze=function e(){Ue(Me),Ue(Fe),(x=Me.length>0)&&Ie.raf(e)},Ge=function(e){return De().then(e)},He=Ve(Fe,!0)},5482:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(2673),o=function(e,t){return"undefined"==typeof window?Promise.resolve():(0,n.p)().then((function(){return(0,n.b)([["presto-playlist",[[1,"presto-playlist",{items:[16],heading:[1],listTextSingular:[1,"list-text-singular"],listTextPlural:[1,"list-text-plural"],transitionDuration:[2,"transition-duration"],currentPlaylistItem:[32],currentPlyr:[32],playing:[32]},[[0,"rewatch","rewatch"],[0,"next","next"]]]]],["presto-player-skeleton",[[1,"presto-player-skeleton",{effect:[1]}]]],["presto-timestamp",[[4,"presto-timestamp",{time:[1]}]]],["presto-video-curtain-ui",[[1,"presto-video-curtain-ui",{actionUrl:[1,"action-url"]}]]],["presto-search-bar-ui",[[1,"presto-search-bar-ui",{value:[1025],placeholder:[1],hasNavigation:[4,"has-navigation"],focused:[32],placeholderWidth:[32]}]]],["presto-player-button",[[1,"presto-player-button",{type:[513],size:[513],full:[516],disabled:[516],submit:[516],name:[1],value:[1],href:[1],target:[513],download:[1],hasFocus:[32],hasLabel:[32],hasPrefix:[32],hasSuffix:[32]}]]],["presto-cta-overlay-ui",[[1,"presto-cta-overlay-ui",{headline:[1],defaultHeadline:[1,"default-headline"],bottomText:[1,"bottom-text"],showButton:[4,"show-button"],buttonText:[1,"button-text"],buttonType:[1,"button-type"],buttonLink:[16],allowRewatch:[4,"allow-rewatch"],allowSkip:[4,"allow-skip"],direction:[1],i18n:[16],provider:[1],type:[1],isAudioProvider:[32]}]]],["presto-video",[[0,"presto-video",{getRef:[1040],autoplay:[4],src:[1],preload:[1],poster:[1],player:[8],tracks:[16],playsinline:[4],provider:[1],videoAttributes:[16]}]]],["presto-action-bar-ui_2",[[1,"presto-action-bar-ui",{open:[4]}],[0,"presto-youtube-subscribe-button",{channel:[1],layout:[1],showCount:[4,"show-count"]}]]],["presto-email-overlay-ui_2",[[1,"presto-email-overlay-ui",{headline:[1],bottomText:[1,"bottom-text"],buttonText:[1,"button-text"],allowSkip:[4,"allow-skip"],borderRadius:[2,"border-radius"],isLoading:[4,"is-loading"],errorMessage:[1,"error-message"],direction:[1],i18n:[16],provider:[1],type:[1],email:[32],isAudioProvider:[32]}],[1,"presto-player-spinner"]]],["presto-action-bar_17",[[1,"presto-action-bar",{player:[8],config:[16],direction:[1],youtube:[16],currentTime:[32],duration:[32],ended:[32]}],[0,"presto-cta-overlay",{player:[8],direction:[1],preset:[16],i18n:[16],provider:[1],currentTime:[32],duration:[32],ended:[32]}],[0,"presto-email-overlay",{player:[8],direction:[1],preset:[16],videoId:[2,"video-id"],i18n:[16],provider:[1],currentTime:[32],duration:[32],ended:[32]}],[0,"presto-bunny",{getRef:[1040],autoplay:[4],src:[1],preload:[1],poster:[1025],player:[8],tracks:[16],playsinline:[4],provider:[1],thumbnail:[1],previewUrl:[1,"preview-url"],videoAttributes:[16]}],[1,"presto-dynamic-overlays",{overlays:[16],player:[8],preset:[16],enabled:[4],currentTime:[32],destroy:[32]}],[0,"presto-search-bar",{value:[1],player:[8],markers:[32],currentMarkerLocation:[32]}],[0,"presto-youtube",{src:[1],poster:[1025],lazyLoad:[1028,"lazy-load"],player:[8],getRef:[1040],reloadPlayer:[32],isWebView:[32]}],[0,"presto-audio",{getRef:[1040],autoplay:[4],src:[1],preload:[1],poster:[1],player:[8],preset:[16],tracks:[16],provider:[1],mediaTitle:[1,"media-title"],audioAttributes:[16],width:[32]}],[4,"presto-business-skin"],[4,"presto-modern-skin"],[0,"presto-muted-overlay",{mutedPreview:[4,"muted-preview"],mutedOverlay:[16],preset:[16]}],[4,"presto-stacked-skin"],[0,"presto-vimeo",{src:[1],poster:[1],player:[8],getRef:[1040]}],[1,"presto-action-bar-controller",{ended:[4],config:[16],currentTime:[514,"current-time"],duration:[514],direction:[1],youtube:[16],show:[32],youtubeRenderKey:[32],percentagePassed:[32]}],[0,"presto-cta-overlay-controller",{ended:[4],currentTime:[514,"current-time"],duration:[514],direction:[1],cta:[16],i18n:[16],provider:[1],enabled:[32],show:[32],loading:[32],error:[32],skipped:[32],percentagePassed:[32]}],[0,"presto-email-overlay-controller",{ended:[4],currentTime:[514,"current-time"],duration:[514],direction:[1],emailCollection:[16],i18n:[16],videoId:[2,"video-id"],presetId:[2,"preset-id"],provider:[1],enabled:[32],show:[32],loading:[32],error:[32],percentagePassed:[32]}],[1,"presto-dynamic-overlay-ui",{href:[1],target:[1],position:[1]}]]],["presto-player_4",[[1,"presto-player",{video_id:[2],iconUrl:[1,"icon-url"],src:[1],bunny:[16],branding:[16],config:[16],preset:[16],chapters:[16],overlays:[16],blockAttributes:[16],tracks:[16],analytics:[4],automations:[4],provider:[513],provider_video_id:[1],actionBar:[16],youtube:[16],type:[1],autoplay:[1540],preload:[1],poster:[1],playsinline:[4],isAdmin:[4,"is-admin"],direction:[1],css:[1],currentTime:[2,"current-time"],mediaTitle:[1,"media-title"],classes:[1],videoAttributes:[16],audioAttributes:[16],search:[16],markers:[8],player:[32],playerEl:[32],shouldLazyLoad:[32],mutedPreview:[32],duration:[32],isSticky:[32],videoHeight:[32],playClass:[32],previouslyPlaying:[32],ctaActive:[32],emailActive:[32],actionBarActive:[32],ready:[32],play:[64],goToAndPlay:[64],restart:[64],pause:[64],stop:[64],fullscreenToggle:[64],on:[64],once:[64],off:[64]},[[8,"currentMediaPlayer","handleScroll"],[0,"restartVideo","handleRestartVideo"],[0,"playVideo","handlePlayVideo"],[0,"pauseVideo","handlePauseVideo"],[8,"visibilitychange","playVideoOnlyInViewport"],[0,"ctaStateChange","handleCtaStateChange"],[0,"emailStateChange","handleEmailStateChange"],[0,"actionBarStateChange","handleActionBarStateChange"]]],[1,"presto-playlist-item",{active:[4],playing:[4]}],[1,"presto-playlist-overlay",{nextItemTitle:[1,"next-item-title"],nextItemString:[1,"next-item-string"],transitionDuration:[2,"transition-duration"],isLastItem:[4,"is-last-item"],show:[4],animating:[32]}],[1,"presto-playlist-ui"]]]],t)}))}},3625:function(e,t,r){"use strict";r.d(t,{q:function(){return n.q}});var n=r(5482);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}()},6496:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return st},options:function(){return ct}});var n=r(9062),o=r(4942),a=r(9307),i=r(5736),l=r(3324),s=r(4184),c=r.n(s),u=r(2777),p=r(5609),d=r(9818),f=r(2175),y=r(917),v=window.location.href,m=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,y.tZ)(f.URLPopover,{onClose:o},(0,y.tZ)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,y.tZ)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":(0,i.__)("URL","presto-player"),placeholder:(0,i.__)("Paste an mp3 URL","presto-player"),onChange:r,value:t}),(0,y.tZ)(p.Button,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:(0,i.__)("Apply","presto-player"),type:"submit"})))},h=(0,p.withFilters)("editor.MediaPlaceholder")((function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,o=void 0===n?[]:n,s=e.className,h=e.icon,b=e.url,g=void 0===b||b,Z=e.labels,w=void 0===Z?{}:Z,_=e.mediaPreview,k=e.notices,x=e.isAppender,C=e.isPrivate,P=e.addToGallery,O=e.onSelect,S=e.onCancel,E=e.onSelectURL,$=e.onDoubleClick,N=e.children,T=e.allowURLs,A=(0,d.useSelect)((function(e){return(0,e("core/block-editor").getSettings)().mediaUpload}),[]),R=(0,a.useState)(""),j=(0,l.Z)(R,2),L=j[0],I=j[1],D=(0,a.useState)(!1),B=(0,l.Z)(D,2),M=B[0],F=B[1];(0,a.useEffect)((function(){var e;I(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")}),[r]);var V=function(e){I(e.target.value)},U=function(){F(!0)},z=function(){F(!1)},G=function(e){e.preventDefault(),L&&E&&(E(L),z())},H=function(e,t){var r=w.instructions,n=w.title;A||E||(r=(0,i.__)("To edit this block, you need permission to upload media.","presto-player"));var o=c()("block-editor-media-placeholder",s,{"is-appender":x});return(0,y.tZ)(p.Placeholder,{icon:h,label:n,instructions:r,className:o,notices:k,onClick:t,onDoubleClick:$,preview:_},N,e)},W=function(){return E&&(0,y.tZ)("div",{className:"block-editor-media-placeholder__url-input-container"},g&&!1===C&&(0,y.tZ)(p.Button,{className:"block-editor-media-placeholder__button",onClick:U,isPressed:M,isTertiary:!0},(0,i.__)("Audio URL","presto-player")),M&&(0,y.tZ)(m,{src:L,onChange:V,onSubmit:G,onClose:z}))};return(0,y.tZ)(f.MediaUploadCheck,{fallback:H(W())},function(){var e=(0,y.tZ)(f.MediaUpload,{title:C?(0,i.__)("Select or Upload Private Audio","presto-player"):(0,i.__)("Select or Upload Audio","presto-player"),addToGallery:P,gallery:!1,multiple:!1,onSelect:function(e){u.Z.unsetUrlParams(),O(e)},onClose:function(){u.Z.unsetUrlParams()},allowedTypes:o,value:Array.isArray(r)?r.map((function(e){return e.id})):r.id,render:function(e){var t=e.open;return(0,y.tZ)(p.Button,{isPrimary:!0,onClick:function(e){e.stopPropagation(),u.Z.unsetUrlParams(),C?u.Z.setUrlPrivate(v):u.Z.setUrlPublic(v),t()}},C?(0,i.__)("Add/Select Private Audio","presto-player"):(0,i.__)("Add/Select Audio","presto-player"))}});if(A){var t=(0,y.tZ)(React.Fragment,null,e,!!T&&W(),S&&(0,y.tZ)(p.Button,{className:"block-editor-media-placeholder__cancel-button",title:(0,i.__)("Cancel","presto-player"),isLink:!0,onClick:S},(0,i.__)("Cancel","presto-player")));return H(t)}return H(e)}())})),b=r(9807),__=wp.i18n.__,g=wp.components,Z=(g.withNotices,g.BaseControl),w=g.ToggleControl,k=g.Notice,x=["audio"],C=function(e){var t,r,n=e.attributes,a=e.setAttributes,i=e.onSelectURL,l=e.onSelect,s=e.children,c="private"===n.visibility;return(0,y.tZ)(h,(r={icon:c?(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.tZ)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),labels:{title:__("Presto Audio","presto-player"),instructions:__("Upload a audio file, or pick one from your media library.","presto-player")},accept:"audio/*",setAttributes:a,allowedTypes:x,switcher:!0,isPrivate:c,allowURLs:!c,onSelectURL:i,onSelect:l,value:n},(0,o.Z)(r,"allowURLs",!0),(0,o.Z)(r,"onError",(function(){return console.log("error")})),r),(0,y.tZ)("div",{style:{width:"100%"}},(0,y.tZ)(Z,{className:"presto-player__placeholder-control"},(0,y.tZ)(w,{label:(0,y.tZ)("div",null,__("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.tZ)(b.Z,null)),help:__(c?"This audio is only accessible to those who are logged in.":"This audio is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?a({visibility:e?"private":"public"}):(0,d.dispatch)("presto-player/player").setProModal(!0)}})),!!s&&(0,y.tZ)("div",{style:{width:"100%"}},s),!!c&&(0,y.tZ)(k,{status:"warning",isDismissible:!1},(0,y.tZ)("div",null,(0,y.tZ)("div",null,(0,y.tZ)("strong",null,__("Note","presto-player"))),__("Private audio uses php to stream your audio. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player")))))},P=r(4994),O=r(4333),S=r(7798),E=r(398),$=r(6774),N=r(168),T=r(5861),A=r(1284),R=r.n(A),j=r(7161),L=r(9493),I=r(7453),D=r(4831),B=r(1713);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(e){var t,r=e.state,n=e.branding,o=e.menu,s=e.src,c=e.poster,u=e.currentTime,d=e.preload,f=e.mediaTitle,v=e.overlays,m=e.isDisabled,h=void 0===m||m,b=(0,a.useState)(1),g=(0,l.Z)(b,2),Z=g[0],w=g[1],_=r.email_collection,k=r.cta;(0,a.useEffect)((function(){w(Z+1)}),[r.skin,r["play-large"],r.rewind,r.play,r["fast-forward"],r.progress,r["current-time"],r.mute,r.volume,r.speed,r.pip,r.fullscreen,r.captions,r.hide_logo]);var x={email:!(null==_||!_.enabled)&&(0,y.tZ)(D.zi,{className:"email-overlay",slot:"player-end",headline:null==_?void 0:_.headline,style:F(F({"--presto-player-email-border-radiuss":"".concat(null==_?void 0:_.button_radius,"px"),"--plyr-color-main":(null==r?void 0:r.background_color)||(null==n?void 0:n.color)},_.button_color?{"--presto-player-button-color":"".concat(_.button_color)}:{}),_.button_text_color?{"--presto-player-button-text":"".concat(_.button_text_color)}:{}),defaultHeadline:(0,i.__)("Enter your email to play.","presto-player"),bottomText:null==_?void 0:_.bottom_text,allowSkip:null==_?void 0:_.allow_skip,skipText:(0,i.__)("Skip","presto-player"),buttonText:null==_?void 0:_.button_text,placeholder:(0,i.__)("Email address","presto-player"),i18n:window.prestoPlayer.i18n,type:"audio"}),cta:!(null==k||!k.enabled)&&(0,y.tZ)(D.UP,{className:"cta-overlay",style:F(F(F({"--presto-player-button-border-radius":"".concat(k.button_radius,"px")},null!=k&&k.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==k?void 0:k.background_opacity)/100)}:{}),k.button_color?{"--presto-player-button-color":"".concat(k.button_color)}:{}),k.button_text_color?{"--presto-player-button-text":"".concat(k.button_text_color)}:{}),slot:"player-end",headline:null==k?void 0:k.headline,"bottom-text":null==k?void 0:k.bottom_text,"button-link":null==k?void 0:k.button_link,"allow-skip":100!==(null==k?void 0:k.percentage)&&(null==k?void 0:k.show_skip),borderRadius:null==k?void 0:k.border_radius,"allow-rewatch":100===(null==k?void 0:k.percentage)&&(null==k?void 0:k.show_rewatch),"skip-text":(0,i.__)("Skip","presto-player"),"show-button":null==k?void 0:k.show_button,"button-text":null==k?void 0:k.button_text,i18n:window.prestoPlayer.i18n,type:"audio"})};return(0,y.tZ)(p.Disabled,{isDisabled:h,className:"disable-player"},(0,y.tZ)("div",{className:"presto-player__wrapper"},(0,y.tZ)(B.Z,{src:s||"http://something.mp3",classes:"\n            ".concat("cta"===o&&!(null==k||!k.enabled)&&"cta-active"," \n            ").concat("email"===o&&!(null==_||!_.enabled)&&"email-active"),preset:r,branding:n,i18n:null===(t=prestoPlayerAdmin)||void 0===t?void 0:t.i18n,preload:d,attributes:{chapters:[],poster:c,title:f},type:"audio",currentTime:u?(0,j.ZD)(u):"",overlays:v,key:Z,adminPreview:(null==x?void 0:x[o])||""})))},U=wp.i18n.__,z=wp.components,G=z.ToggleControl,H=z.BaseControl,W=(z.HorizontalRule,z.__experimentalAlignmentMatrixControl,z.SelectControl);function q(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(H,null,(0,y.tZ)("h3",null,U("Behavior","presto-player"))),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:U("Save Play Position","presto-player"),help:U("Saves the user's play position so when they come back to the page they can continue the audio from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:U("Show Time Elapsed","presto-player"),help:U("Show the time elapsed or the time remaining for the audio on the player. By default, the time remaining is shown.","presto-player"),onChange:function(e){r({show_time_elapsed:e})},checked:t.show_time_elapsed})),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:U("Focus Mode","presto-player"),help:U("Play only when tab is visible and audio is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:U("Sticky On Scroll","presto-player"),help:U("Stick audios to the side of the screen when the page is scrolled and the audio is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),(0,y.tZ)(H,null,(0,y.tZ)(W,{label:U("On Audio End","presto-player"),value:t.on_video_end,options:[{value:"select",label:U("Select","presto-player")},{value:"loop",label:U("Loop","presto-player")},{value:"go-to-start",label:U("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})))}var Y=wp.i18n.__,X=wp.components,K=X.ToggleControl,Q=X.BaseControl;function J(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(Q,null,(0,y.tZ)("h3",null,Y("Controls","presto-player"))),(0,y.tZ)(Q,{className:"presto-player__control--large-play"},(0,y.tZ)(K,{label:Y("Large Play Button","presto-player"),help:Y("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,y.tZ)(Q,{className:"presto-player__control--rewind"},(0,y.tZ)(K,{label:Y("Rewind","presto-player"),help:Y("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,y.tZ)(Q,{className:"presto-player__control--play"},(0,y.tZ)(K,{label:Y("Small Play Button","presto-player"),help:Y("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,y.tZ)(Q,{className:"presto-player__control--fast-forward"},(0,y.tZ)(K,{label:Y("Fast Forward","presto-player"),help:Y("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,y.tZ)(Q,{className:"presto-player__control--progress"},(0,y.tZ)(K,{label:Y("Progress Bar","presto-player"),help:Y("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,y.tZ)(Q,{className:"presto-player__control--current-time"},(0,y.tZ)(K,{label:Y("Current Time","presto-player"),help:Y("Shows the audio timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,y.tZ)(Q,{className:"presto-player__control--volume"},(0,y.tZ)(K,{label:Y("Volume","presto-player"),help:Y("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,y.tZ)(Q,{className:"presto-player__control--speed"},(0,y.tZ)(K,{label:Y("Speed","presto-player"),help:Y("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})))}var ee,te=r(1145);function re(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(p.BaseControl,null,(0,y.tZ)("h3",null,(0,i.__)("Style","presto-player"))),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.RangeControl,{label:(0,i.__)("Round Corners","presto-player"),help:(0,i.__)("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25,css:(0,I.iv)(ee||(ee=(0,N.Z)(["\n            padding-left: 4px;\n            .components-range-control__root {\n              align-items: flex-start;\n            }\n          "])))})),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.Flex,null,(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,i.__)("Background Color","presto-player"))),(0,y.tZ)(te.Z,{color:(null==t?void 0:t.background_color)||"#000000",setColor:function(e){r({background_color:e.hex})}}))),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.Flex,null,(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,i.__)("Control Color","presto-player"))),(0,y.tZ)(te.Z,{color:(null==t?void 0:t.control_color)||"#000000",setColor:function(e){r({control_color:e.hex})}}))))}var ne,oe,ae=r(3865),ie=r(7833),le=r(9632);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=wp.i18n.__,pe=wp.components,de=pe.TextControl,fe=pe.BaseControl,ye=pe.Icon,ve=pe.Notice,me=pe.Button,he=pe.Flex,be=pe.FlexItem,ge=pe.SelectControl,Ze=pe.FlexBlock,we=pe.Modal,_e=wp.element,ke=_e.useState,xe=_e.useEffect,Ce=wp.data,Pe=Ce.useSelect,Oe=Ce.dispatch,Se=function(e){var t=e.type,r=void 0===t?"new":t,n=e.closeModal,o=e.addPreset,a=e.onSave,i=e.updatePreset,s=e.name,c=void 0===s?"":s,u=e.attributes,p=e.preset,d=void 0===p?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,save_player_position:!1,reset_on_end:!1,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"default",background_color:"",control_color:"",cta:{},email_collection:{},action_bar:{}}:p,f=ke(!1),y=(0,l.Z)(f,2),v=y[0],m=y[1],h=ke(""),b=(0,l.Z)(h,2),g=b[0],Z=b[1],w=ke(""),_=(0,l.Z)(w,2),k=_[0],x=_[1],C=ke(c),P=(0,l.Z)(C,2),O=P[0],S=P[1],E=ke(d),$=(0,l.Z)(E,2),A=$[0],D=$[1],B=Pe((function(e){return e("presto-player/player").branding()})),M=ke(""),F=(0,l.Z)(M,2),U=F[0],z=F[1],G={message:ue("The preset could not be saved. Please reload the page and try again.","presto-player")},H=Pe((function(e){return e("presto-player/player").youtube()}));xe((function(){z(H.channel_id)}),[null==H?void 0:H.channel_id]);var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(ce(ce({},A),e))},Y=function(){var e=(0,T.Z)(R().mark((function e(){var t,r,o,l;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,t=ce(ce({},A),{name:O}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(d.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw G;case 8:i(r),n(),a&&a(r),(0,j.i1)({message:ue("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),Z(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:G);case 17:return e.prev=17,m(!1),e.finish(17);case 20:return Oe("presto-player/player").updateYoutube({channel_id:U}),o=ce(ce({},H),{channel_id:U}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 25:null!=(l=e.sent)&&l.presto_player_youtube&&(Oe("presto-player/player").setYoutube(null==l?void 0:l.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[1,14,17,20],[22,29]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,T.Z)(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"audio-preset",data:ce(ce({},{name:O}),A)});case 4:if(t=e.sent){e.next=7;break}throw G;case 7:o(t),n(),a&&a(t),(0,j.i1)({message:ue("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),Z(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:G);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),K=[{name:"controls",title:ue("Controls","presto-player"),icon:(0,I.tZ)(ye,{icon:"admin-settings"}),component:(0,I.tZ)(J,{updateState:W,state:A})},{name:"behavior",title:ue("Behavior","presto-player"),icon:(0,I.tZ)(ye,{icon:"admin-generic"}),component:(0,I.tZ)(q,{updateState:W,state:A})},{name:"style",title:ue("Style","presto-player"),icon:(0,I.tZ)(ye,{icon:"admin-customizer"}),component:(0,I.tZ)(re,{updateState:W,state:A})},{name:"email",title:ue("Email Capture","presto-player"),icon:(0,I.tZ)(ye,{icon:"email"}),component:(0,I.tZ)(le.Z,{updateState:W,state:A})},{name:"cta",title:ue("Call To Action","presto-player"),icon:(0,I.tZ)(ye,{icon:"megaphone"}),component:(0,I.tZ)(ie.Z,{updateState:W,state:A})},{name:"action_bar",title:ue("Action Bar","presto-player"),icon:(0,I.tZ)(ye,{icon:"cover-image"}),component:(0,I.tZ)(ae.Z,{updateState:W,state:A,value:U,setValue:z})}];return(0,I.tZ)(we,{title:ue("edit"==r?"Edit A Audio Preset":"Create A New Audio Preset","presto-player"),onRequestClose:n,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,I.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,I.tZ)(de,{value:O,hideLabelFromVision:!0,label:ue("Preset Name","presto-player"),onChange:function(e){return S(e)},placeholder:ue("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,I.tZ)(he,{align:"stretch",className:"presto-player__style-preview-area"},(0,I.tZ)(be,{className:"presto-player__style-sidebar"},(0,I.tZ)("div",null,(0,I.tZ)(L.Z,{items:K,title:ue("Customize","presto-player"),onSelect:x},(function(e){return e.component})))),(0,I.tZ)(Ze,{className:"presto-player__style-preview-panel"},(0,I.tZ)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,I.tZ)(ge,{label:ue("Skin","presto-player"),labelPosition:"side",value:null==A?void 0:A.skin,hideLabelFromVision:!0,options:[{label:ue("Basic","presto-player"),value:"default"},{label:ue("Stacked","presto-player"),value:"stacked"}],onChange:function(e){W({skin:e})}})),(0,I.tZ)(V,{poster:u.poster,src:u.src,state:A,branding:B,menu:k,mediaTitle:u.title}))),(0,I.tZ)("br",null),g&&(0,I.tZ)(fe,null,(0,I.tZ)(ve,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},g.replace(/(<([^>]+)>)/gi,""))),(0,I.tZ)("div",{css:(0,I.iv)(ne||(ne=(0,N.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,I.tZ)("div",{css:(0,I.iv)(oe||(oe=(0,N.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",d.id),(0,I.tZ)("div",null,(0,I.tZ)(me,{isTertiary:!0,onClick:n,style:{margin:"0 6px"}},ue("Cancel","presto-player")),(0,I.tZ)(me,{isPrimary:!0,isBusy:v,disabled:v,onClick:function(){if(O)return"edit"===r?Y():X();Z(ue("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},ue("edit"==r?"Update Preset":"Create Preset","presto-player"))))))},Ee=wp.i18n.__,$e=wp.components,Ne=$e.Icon,Te=$e.Spinner,Ae=$e.Modal,Re=$e.Button,je=$e.ButtonGroup,Le=wp.element.useState;function Ie(e){var t,r,n=e.preset,o=e.index,a=e.isActive,i=e.remove,s=e.setPreset,c=e.onEdit,u=Le(!1),p=(0,l.Z)(u,2),d=p[0],f=p[1],v=Le(!1),m=(0,l.Z)(v,2),h=m[0],b=m[1],g=function(){return b(!1)},Z=function(){var e=(0,T.Z)(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return i(n),e.abrupt("return");case 3:return e.prev=3,f(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(i(n),wp.data.dispatch("core/notices").createNotice("success",Ee("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,b(!1),f(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,11,15,19]])})));return function(){return e.apply(this,arguments)}}();return d?(0,y.tZ)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.tZ)(Te,null))):(0,y.tZ)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){s(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.tZ)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,y.tZ)(Ne,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,y.tZ)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,y.tZ)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit"},(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:c},(0,y.tZ)(Ne,{icon:"edit"})),(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return b(!0)}},(0,y.tZ)(Ne,{icon:"trash"}))),h&&(0,y.tZ)(Ae,{title:Ee("Trash Preset?","presto-player"),onRequestClose:g,style:{maxWidth:"250px"}},(0,y.tZ)("p",null,(0,y.tZ)("strong",null,Ee("Warning!","presto-player")," "),Ee("Any audios assigned to this preset will automatically use the default preset.","presto-player")),(0,y.tZ)(je,null,(0,y.tZ)(Re,{isDestructive:!0,onClick:Z,style:{margin:"0 4px"}},Ee("Trash","presto-player")),(0,y.tZ)(Re,{isTertiary:!0,onClick:g,style:{margin:"0 4px",boxShadow:"none"}},Ee("Cancel","presto-player")))))}var De=wp.i18n.__,Be=wp.components,Me=Be.withNotices,Fe=Be.BaseControl,Ve=Be.Spinner,Ue=Be.Button,ze=wp.element,Ge=ze.useState,He=(ze.useEffect,wp.data),We=He.useSelect,qe=He.dispatch,Ye=Me((function(e){var t,r=e.attributes,n=e.setAttributes,o=Ge(!1),a=(0,l.Z)(o,2),i=a[0],s=a[1],c=function(){return s(!1)},u=Ge(null),p=(0,l.Z)(u,2),d=p[0],f=p[1],v=Ge(null),m=(0,l.Z)(v,2),h=m[0],g=m[1],Z=We((function(e){return{presets:e("presto-player/player").getAudioPresets(),loading:e("presto-player/player").isResolving("getAudioPresets")}})),w=Z.presets,_=Z.loading,k=function(e){qe("presto-player/player").addAudioPreset(e)},x=function(e){qe("presto-player/player").removeAudioPreset(e)},C=function(e){n({preset:e.id})},P=(0,$.Z)("div",{target:"es6ga4s0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return _?(0,y.tZ)("div",{className:"presto-settings__loading"},(0,y.tZ)(Ve,null)):(0,y.tZ)(React.Fragment,null,w.length?(0,y.tZ)("p",null,De("Select a audio configuration preset, or add your own.","presto-player")):"",(0,y.tZ)(Fe,null,(0,y.tZ)(P,null,(w||[]).length?w.map((function(e,t){return(0,y.tZ)(Ie,{setPreset:C,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){g(e.name),f(e),s("edit")},remove:x})})):De("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,y.tZ)(Fe,null,(0,y.tZ)(Ue,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?s("new"):qe("presto-player/player").setProModal(!0)}},De("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.tZ)(b.Z,null)),"new"==i&&(0,y.tZ)(Se,{closeModal:c,addPreset:k,type:"new",onSave:C,attributes:r}),"edit"==i&&(0,y.tZ)(Se,{closeModal:c,addPreset:k,updatePreset:function(e){qe("presto-player/player").updateAudioPreset(e)},type:"edit",preset:d,name:h,attributes:r}))})),Xe=["image"],Ke=function e(t){var r,n,o=t.attributes,a=t.setAttributes,l=(0,O.useInstanceId)(e),s="audio-block__poster-image-description-".concat(l),c=(0,d.useSelect)((function(e){return e(S.store).canUser("read","settings")})),u=o.autoplay,v=o.poster,m=o.preload,h=o.title;return(0,y.tZ)(React.Fragment,null,(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,i.__)("Title","presto-player")," "),initialOpen:!0},(0,y.tZ)(p.FlexBlock,null,(0,y.tZ)(p.TextControl,{className:"presto-player__caption--title",placeholder:(0,i.__)("Title","presto-player"),value:h||"",onChange:function(e){return a({title:e})},autoComplete:"off"}))),(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,i.__)("Chapters","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,y.tZ)(b.Z,null)),initialOpen:null===(n=prestoPlayer)||void 0===n?void 0:n.isPremium},(0,y.tZ)(E.Z,{setAttributes:a,attributes:o})),(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,i.__)("Audio Settings","presto-player")," ")},(0,y.tZ)(p.ToggleControl,{label:(0,y.tZ)(React.Fragment,null,(0,i.__)("Autoplay","presto-player")," "),checked:u,onChange:function(e){a({autoplay:e})}}),(0,y.tZ)(p.PanelRow,null,(0,y.tZ)(p.SelectControl,{label:(0,y.tZ)(p.Flex,null,(0,y.tZ)("div",null,(0,i.__)("Performance Preference","presto-player")),(0,y.tZ)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,y.tZ)(p.Icon,{icon:"editor-help"}))),className:"presto-setting__preload",value:m,onChange:function(e){return a({preload:e})},options:[{value:"auto",label:(0,i.__)("Audio Playback Speed","presto-player")},{value:"metadata",label:(0,i.__)("Page Load Speed","presto-player")},{value:"none",label:(0,i.__)("Page Load Speed (Extreme)","presto-player")}]})),(0,y.tZ)(f.MediaUploadCheck,null,(0,y.tZ)(p.BaseControl,{className:"editor-video-poster-control"},(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,i.__)("Poster image","presto-player"))),(0,y.tZ)(f.MediaUpload,{title:(0,i.__)("Select poster image","presto-player"),onSelect:function(e){a({poster:e.url})},allowedTypes:Xe,render:function(e){var t=e.open;return(0,y.tZ)(p.Button,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":s},v?(0,i.__)("Replace","presto-player"):(0,i.__)("Select","presto-player"))}}),(0,y.tZ)("p",{id:s,hidden:!0},v?sprintf((0,i.__)("The current poster image url is %s","presto-player"),v):(0,i.__)("There is no poster image currently selected","presto-player")),!!v&&(0,y.tZ)(p.Button,{onClick:function(){a({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},(0,i.__)("Remove","presto-player"))))),(0,y.tZ)(p.PanelBody,{title:(0,i.__)("Audio Preset","presto-player")},(0,y.tZ)(Ye,{setAttributes:a,attributes:o})),!!c&&(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,i.__)("Global Player Branding","presto-player")),initialOpen:!1},(0,y.tZ)(P.Z,{setAttributes:a,attributes:o,type:"audio"})))},Qe=r(7462),Je=r(9512);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rt=wp.data.withSelect;function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var at,it,lt=(0,O.compose)([rt((function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getAudioPresets"),presets:e("presto-player/player").getAudioPresets(),defaultPreset:e("presto-player/player").getDefaultAudioPreset()}})),(0,O.createHigherOrderComponent)((function(e){return function(t){var r=t.presets,n=t.attributes,o=t.setAttributes,s=t.defaultPreset,c=t.isSelected,u=t.branding,p=(0,a.useState)({}),f=(0,l.Z)(p,2),v=f[0],m=f[1],h=(0,a.useState)(1),b=(0,l.Z)(h,2),g=b[0],Z=b[1],w=n.poster,k=n.chapters;(0,a.useEffect)((function(){c&&null!=n&&n.selectionOverrideClientId&&(0,d.dispatch)("core/block-editor").selectBlock(null==n?void 0:n.selectionOverrideClientId)}),[c]),(0,a.useEffect)((function(){if(r&&r.length){var e=r.find((function(e){return e.id===(null==n?void 0:n.preset)}));e?m(e):(m(s),o({preset:null==s?void 0:s.id}))}}),[r,null==n?void 0:n.preset]),(0,a.useEffect)((function(){x()}),[w,v,k,u.logo]);var x=function(){Z(g+1)},C=(0,j.D9)(k);(0,a.useEffect)((function(){var e=null==k?void 0:k.map((function(e){return e.time})),t=null==C?void 0:C.map((function(e){return e.time}));_.difference(e,t).length&&x()}),[k]);var P=function(){var e=(0,T.Z)(R().mark((function e(t){var r,n,a,i,l,s,c;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,a=t.attachment_id,i=t.type,l=t.title,r||n||a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,Je.Z)({method:"POST",path:"/presto-player/v1/videos",data:tt(tt({attachment_id:a,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},l?{title:l}:{}),{},{src:r,type:i})});case 5:s=e.sent,c=s.id,o({id:c});case 8:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();return null!=n&&n.preset||o({preset:null==s?void 0:s.id}),(0,y.tZ)(e,(0,Qe.Z)({},t,{lockSave:function(){return(0,d.dispatch)("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return(0,d.dispatch)("core/editor").unlockPostSaving("presto-player")},createVideo:P,onUpdate:x,onRemoveSrc:function(){confirm((0,i.__)("Remove this","presto-player"))&&o({src:"",id:void 0})},presetData:v,setPresetData:m,renderKey:g}))}}),"withPlayerEdit")])((0,p.withNotices)((function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,o=e.presetData,a=e.renderKey,l=e.defaultPreset,s=e.lockSave,c=e.unlockSave,u=e.loading,d=e.createVideo,v=e.onRemoveSrc,m=t.poster,h=t.src,b=t.id;return h?u||!b?(0,y.tZ)(p.Placeholder,{className:"presto-player__placeholder is-loading"},(0,y.tZ)(p.Spinner,null)):(0,y.tZ)(React.Fragment,null,(0,y.tZ)(f.BlockControls,null,(0,y.tZ)(p.Toolbar,null,(0,y.tZ)(p.Button,{onClick:function(){return v()}},(0,i.__)("Replace","presto-player")))),(0,y.tZ)(f.InspectorControls,null,(0,y.tZ)(Ke,{attributes:t,setAttributes:r})),(0,y.tZ)("figure",null,(0,y.tZ)(p.Disabled,null,(0,y.tZ)(B.Z,{poster:m,src:h,id:b,type:"audio",attributes:t,setAttributes:r,preset:o,branding:n,key:a})))):(0,y.tZ)(React.Fragment,null,(0,y.tZ)(C,{attributes:t,setAttributes:r,onSelectURL:function(e){r(ot(ot({},t),{},{src:e,title:e,preset:null==l?void 0:l.id})),s(),d({src:e,type:"link"}).catch((function(e){r({src:""}),showNotice(e)})).finally(c)},onSelect:function(e){e&&e.url?e.title?(r({src:e.url,preset:null==l?void 0:l.id,title:e.title,attachment_id:e.id}),s(),d({src:e.url,type:"attachment",attachment_id:e.id}).catch((function(e){r({src:""}),showNotice(e)})).finally(c)):r({src:e.url,title:e.url,preset:null==l?void 0:l.id}):r({src:void 0,id:void 0})}}))}))),st="presto-player/audio",ct={category:"presto",attributes:(at={src:{type:"string"},autoplay:{type:Boolean,default:!1},poster:{type:"string"},chapters:{type:"array",default:[]},preload:{type:"string"},title:{type:"string"},tracks:{type:"array",items:{type:"object"},default:[]},preset:{type:Number},id:{type:Number},attachment_id:{type:Number}},(0,o.Z)(at,"src",{type:String}),(0,o.Z)(at,"visibility",{type:String,default:"public"}),at),title:(0,i.__)("Presto Audio","presto-player"),description:(0,i.__)("A audio player wrapper.","presto-player"),variations:[{name:"public",isDefault:!0,title:(0,i.__)("Presto Audio","presto-player"),description:(0,i.__)("Presto self-hosted audio block.","presto-player"),attributes:{visibility:"public"}}].concat((0,n.Z)(null!==(it=prestoPlayer)&&void 0!==it&&it.isPremium?[{name:"private",title:(0,i.__)("Presto Private Audio","presto-player"),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:(0,i.__)("Private self-hosted audio block.","presto-player"),attributes:{visibility:"private"}}]:[])),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.tZ)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),edit:lt}},6183:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n,o=r(4942),a={attributes:(n={visibility:{type:String,default:"public"},color:{type:String,default:"#00b3ff"},blockAlignment:{type:String},mutedPreview:{type:Object,default:{enabled:!1,captions:!1}},mutedOverlay:{type:Object,default:{enabled:!1,src:"",width:200,focalPoint:{x:.5,y:.5}}},mutedPreviewCaptions:{type:Boolean},mutedOverlayType:{type:String,default:"text"},mutedOverlayText:{type:String,default:"Click to play"},mutedOverlaySrc:{type:String},mutedOverlayImageWidth:{type:Number,default:200},mutedOverlayFocalPoint:{type:Object}},(0,o.Z)(n,"mutedOverlay",{type:Object,default:{enabled:!1,type:"text",text:"",src:"",width:200,focalPoint:{x:.5,y:.5}}}),(0,o.Z)(n,"autoplay",{type:Boolean}),(0,o.Z)(n,"preload",{type:String}),(0,o.Z)(n,"playsInline",{type:Boolean,default:!0}),(0,o.Z)(n,"id",{type:Number}),(0,o.Z)(n,"attachment_id",{type:Number}),(0,o.Z)(n,"src",{type:String}),(0,o.Z)(n,"imageID",{type:Number}),(0,o.Z)(n,"poster",{type:String}),(0,o.Z)(n,"content",{type:Boolean}),(0,o.Z)(n,"preset",{type:Number}),(0,o.Z)(n,"chapters",{type:Array,default:[]}),(0,o.Z)(n,"overlays",{type:Array,default:[]}),(0,o.Z)(n,"tracks",{type:"array",items:{type:"object"},default:[]}),n),category:"presto",supports:{align:!0},save:function(){return null}}},6849:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return uo},options:function(){return po}});var n={};r.r(n),r.d(n,{collections:function(){return ne},currentCollection:function(){return ce},errors:function(){return le},isLoading:function(){return ie},isPrivate:function(){return ae},requestType:function(){return pe},ui:function(){return ue},uploads:function(){return oe},videos:function(){return re},videosFetched:function(){return se}});var o={};r.r(o),r.d(o,{addCollection:function(){return me},addError:function(){return Pe},addUploads:function(){return we},addVideos:function(){return fe},removeError:function(){return Oe},removeUpload:function(){return _e},removeVideo:function(){return ye},setCollectionRequest:function(){return ge},setCollections:function(){return ve},setIsPrivate:function(){return he},setLoading:function(){return xe},setSearch:function(){return be},setUI:function(){return Ce},setUploads:function(){return Ze},setVideos:function(){return de},setVideosFetched:function(){return ke}});var a=r(4942),i=r(9307),l=r(5861),s=r(3324),c=r(1284),u=r.n(c),p=r(5609),d=r(2175),f=r(5736),y=r(4333),v=r(9818),m=function(){var e=(0,l.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/sign",method:"POST",data:{url:t,id:0}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),h=r(2485),b=r(8989),g=r(9235);function Z(e){var t=e.file,r=e.path,n=e.onProgress,o=e.onComplete,a=e.onError,i=0,s=!1,c=Math.min(prestoPlayerAdmin.wp_max_upload_size-1e6,159e5),p=Math.max(c,19e5);p=Math.min(p,104857600);var d=function(){var e=(0,l.Z)(u().mark((function e(l){var c,f,y,v,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l+p+1,f=t.slice(l,c),y=Math.ceil(t.size/(p+1)),i++,n(i/y*100),(v=new FormData).append("file",f),v.append("name",t.name),v.append("chunk",i),v.append("chunks",y),e.prev=10,e.next=13,wp.apiFetch({path:r,method:"POST",body:v});case 13:if(m=e.sent,!s){e.next=17;break}return console.log("cancelled"),e.abrupt("return");case 17:c<t.size?(n(void 0),d(c)):o(m),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),a(e.t0),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(_x){return e.apply(this,arguments)}}();return i=0,new FileReader,d(0),{cancel:function(){s=!0}}}var w,_,k=r(168),x=r(917),C=function(e){var t,r=e.item,n=e.onClick,o=e.className,i=function(){return!(null==r||!r.encodeProgress)&&100!==r.encodeProgress};return(0,x.tZ)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,x.tZ)("div",{className:"presto-player__media-list-item-icon"},(0,x.tZ)("svg",(0,a.Z)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,x.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,x.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,x.tZ)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),i()&&(0,x.tZ)("div",{className:"presto-player__media-list-item-size"},"Encoding..."),!i()&&(0,x.tZ)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),!i()&&(0,x.tZ)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))},P=function(e){var t,r=e.item,n=e.onClick,o=e.className;return(0,x.tZ)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,x.tZ)("div",{className:"presto-player__media-list-item-icon"},(0,x.tZ)("svg",(0,a.Z)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,x.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,x.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,x.tZ)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),(0,x.tZ)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),(0,x.tZ)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))},O=r(7453),__=wp.i18n.__,S=wp.components,E=S.Modal,$=S.Spinner,N=S.Button,T=S.BaseControl,A=S.Flex,R=S.FlexBlock,j=S.Notice,L=S.Card,I=S.CardBody,D=S.Disabled,B=S.DropZone,M=S.FormFileUpload,F=S.DropZoneProvider,V=wp.element,U=V.useEffect,z=V.useState,G=V.useRef,H=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.onLoad,a=e.items,i=e.folders,l=e.fetching,c=e.progressMessage,u=e.onSelect,p=e.error,d=e.onDelete,f=e.onUpload,y=e.progress,v=z({}),m=(0,s.Z)(v,2),h=m[0],b=m[1],g=z(!1),Z=(0,s.Z)(g,2),x=Z[0],S=Z[1],V=G();U((function(){o&&o()}),[]);var H,W,q,Y,X=function(){return Object.keys(h||{}).length};return(0,O.tZ)(E,{isFullScreen:!0,title:n||__("Add Media","presto-player"),onRequestClose:t,className:"presto-player__media-modal presto-player__full-modal",overlayClassName:"presto-player__modal-overlay"},(0,O.tZ)("div",{className:"presto-player__media-modal-layout","data-cy":"media-modal"},(0,O.tZ)("div",{className:"presto-player__media-modal-header"},(0,O.tZ)("div",{className:"presto-player__media-modal-upload",css:(0,O.iv)(w||(w=(0,k.Z)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,O.tZ)(M,{isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")),(0,O.tZ)("div",{css:(0,O.iv)(_||(_=(0,k.Z)(["\n                margin-left: 10px;\n              "])))},__("Or drag a file here to upload.","presto-player"))),p&&(0,O.tZ)(j,{status:"error",isDismissible:!1},p)),(0,O.tZ)("div",{className:"presto-player__media-modal-content"},(0,O.tZ)(F,null,l?(0,O.tZ)(A,{className:"presto-player__media-loading"},(0,O.tZ)(R,{style:{textAlign:"center"}},y?(0,O.tZ)(React.Fragment,null,(0,O.tZ)("div",null,(0,O.tZ)("strong",null,c||__("Uploading","presto-player"))),(0,O.tZ)("div",null,__("Please don't navigate away from this page.","presto-player")),(0,O.tZ)("progress",{className:"presto-progress",max:"100",value:y,style:{width:"100px"}})):(0,O.tZ)($,null))):null!=a&&a.length?(0,O.tZ)("div",{className:"presto-player__media-list"},(0,O.tZ)("h2",null,r),i&&(0,O.tZ)("div",{className:"presto-player__media-list-folders"},i.map((function(e){return(0,O.tZ)(P,{key:e.id,item:e})}))),(0,O.tZ)("div",{className:"presto-player__media-list-items"},a.map((function(e){return(0,O.tZ)(C,{item:e,key:e.id,onClick:function(){b(h===e?{}:e)},className:h===e?"is-selected":""})})))):(0,O.tZ)(A,{"align-items":"center",className:"presto-player__media-not-found"},(0,O.tZ)("div",null,(0,O.tZ)("h2",null,"Drop video files here to upload"),(0,O.tZ)("p",null,"or browse for a video"),(0,O.tZ)(M,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")))),(0,O.tZ)(B,{label:"Drop files",onFilesDrop:f}))),(0,O.tZ)("div",{className:"presto-player__media-modal-sidebar"},X()?(0,O.tZ)("div",{className:"presto-player__media-modal-sidebar-content"},(0,O.tZ)(T,null,(0,O.tZ)(D,{key:h.id},null!=h&&h.thumbnail?(0,O.tZ)("img",{src:null==h?void 0:h.thumbnail,style:{maxWidth:"100%"}}):(0,O.tZ)("video",{preload:"metadata"},(0,O.tZ)("source",{src:h.previewUrl})))),(0,O.tZ)(T,null,(0,O.tZ)(T.VisualLabel,null,__("Name","presto-player")),(0,O.tZ)("h3",{style:{marginTop:"5px"}},h.title)),!(null==h||!h.visibility)&&(0,O.tZ)(T,null,(0,O.tZ)(T.VisualLabel,null,__("Visibility","presto-player")),(0,O.tZ)("h3",{style:{marginTop:"5px"}},h.visibility)),(0,O.tZ)(T,null,(0,O.tZ)(T.VisualLabel,null,__("Size","presto-player")),(0,O.tZ)("h3",{style:{marginTop:"5px"}},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}((null==h?void 0:h.size)||0))),(0,O.tZ)(T,null,(0,O.tZ)(T.VisualLabel,null,__("Created","presto-player")),(0,O.tZ)("h3",{style:{marginTop:"5px"}},(H=null==h?void 0:h.created_at,Y=(W=(H=new Date(H)).getHours())>=12?"pm":"am",W=(W%=12)||12,q=(q=H.getMinutes())<10?"0"+q:q,H.getDate()+"-"+(H.getMonth()+1)+"-"+H.getFullYear()+" at "+W+":"+q+Y))),(0,O.tZ)(T,null,x?(0,O.tZ)(L,null,(0,O.tZ)(I,null,(0,O.tZ)("p",null,(0,O.tZ)("strong",null,"Are you sure?")),(0,O.tZ)("p",null,"Are you sure you want to delete this video?"),(0,O.tZ)(N,{isDestructive:!0,onClick:function(){d(h),S(!1)}},"Yes"),(0,O.tZ)(N,{onClick:function(){return S(!1)}},"Cancel"))):(0,O.tZ)(N,{isDestructive:!0,onClick:function(){S(!x)}},__("Delete video","presto-player")))):(0,O.tZ)(React.Fragment,null)),(0,O.tZ)("div",{className:"presto-player__media-modal-footer"},(0,O.tZ)(N,{isPrimary:!0,disabled:!X(),onClick:function(){h&&(u(h),t())},ref:V},__("Choose","presto-player")))))},W=wp.i18n.__,q=wp.element,Y=q.useState,X=q.useEffect,K=function(e){var t=e.closePopup,r=e.noticeOperations,n=e.onSelect,o=e.isPrivate,a=Y([]),i=(0,s.Z)(a,2),c=i[0],p=i[1],d=Y(!1),f=(0,s.Z)(d,2),y=f[0],v=f[1],m=Y(0),h=(0,s.Z)(m,2),b=h[0],g=h[1],w=Y(""),_=(0,s.Z)(w,2),k=_[0],C=_[1],P=Y(""),O=(0,s.Z)(P,2),S=O[0],E=O[1],$=o?"private-videos":"public-videos";X((function(){g(0),E("")}),[]);var N=function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(""),v(!0),C(W("Uploading","presto-player")),Z({file:t[0],path:"presto-player/v1/bunny/upload",onProgress:function(e){g(e-10)},onComplete:T,onError:function(e){E(e.message),g(0),v(!1)}});case 4:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),T=function(){var e=(0,l.Z)(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,C(W("Storing","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/".concat($),method:"POST",data:{path:r,name:n}});case 5:o=e.sent,p(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(e.t0.message),console.error(e.t0);case 13:return e.prev=13,g(0),v(!1),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,9,13,17]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p((c||[]).filter((function(e){return e!==t}))),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat($),method:"DELETE",data:{name:null==t?void 0:t.title}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat($)});case 4:t=e.sent,p(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(e.t0.message);case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,x.tZ)(H,{onClose:t,progressMessage:k,fetching:y,error:S,onUpload:N,onLoad:R,items:c,progress:b,onDelete:A,onSelect:n,onError:function(e){r.removeAllNotices(),r.createErrorNotice(e)},header:W(o?"Bunny.net Private Video Storage":"Bunny.net Public Video Storage","presto-player"),title:W(o?"Private Video Library":"Public Video Library","presto-player")})},Q=r(9062);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=(0,wp.data.combineReducers)({videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"ADD_VIDEOS":return[].concat((0,Q.Z)(e),(0,Q.Z)(t.value));case"ADD_VIDEO":return[].concat((0,Q.Z)(e),[t.value]);case"UPDATE_VIDEO":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)}));case"REMOVE_VIDEO":return e.filter((function(e){return e.guid!==t.value.guid}))}return e},collectionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLECTIONS":return t.value;case"ADD_COLLECTION":return[].concat((0,Q.Z)(e),[t.value]);case"UPDATE_COLLECTION":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)}));case"REMOVE_COLLECTION":return e.filter((function(e){return e!==t.value}))}return e},uploadsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UPLOADS":return t.value;case"ADD_UPLOADS":return[].concat((0,Q.Z)(e),(0,Q.Z)(t.value));case"ADD_UPLOAD":return[].concat((0,Q.Z)(e),[t.value]);case"UPDATE_UPLOAD":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)}));case"REMOVE_UPLOAD":return e.filter((function(e){return e!==t.value}))}return e},requestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{private:!1,collection:"",search:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRIVATE_REQUEST":return ee(ee({},e),{},{private:t.value});case"SET_SEARCH_REQUEST":return ee(ee({},e),{},{search:t.value});case"SET_COLLECTION_REQUEST":return ee(ee({},e),{},{collection:t.value})}return e},UIReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,videosFetched:!1,createCollection:!1,selectedId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return ee(ee({},e),{},{loading:t.value});case"SET_VIDEOS_FETCHED":return ee(ee({},e),{},{videosFetched:t.value});case"SET_UI_ITEM":return ee(ee({},e),{},(0,a.Z)({},t.item,t.value))}return e},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return[].concat((0,Q.Z)(e),[t.value]);case"REMOVE_ERROR":return e.filter((function(e){return e!==t.value}))}return e}});function re(e){return(null==e?void 0:e.videosReducer)||[]}function ne(e){return(null==e?void 0:e.collectionsReducer)||[]}function oe(e){return(null==e?void 0:e.uploadsReducer)||[]}function ae(e){var t;return!(null==e||null===(t=e.requestReducer)||void 0===t||!t.private)}function ie(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.loading)||!1}function le(e){return(null==e?void 0:e.errorReducer)||[]}function se(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.videosFetched)||!1}function ce(e){var t;return null==e||null===(t=e.requestReducer)||void 0===t?void 0:t.collection}function ue(e,t){var r;return null==e||null===(r=e.UIReducer)||void 0===r?void 0:r[t]}function pe(e){var t;return null!=e&&null!==(t=e.requestReducer)&&void 0!==t&&t.private?"private":"public"}function de(e){return{type:"SET_VIDEOS",value:e}}function fe(e){return{type:"ADD_VIDEOS",value:e}}function ye(e){return{type:"REMOVE_VIDEO",value:e}}function ve(e){return{type:"SET_COLLECTIONS",value:e}}function me(e){return{type:"ADD_COLLECTION",value:e}}function he(e){return{type:"SET_PRIVATE_REQUEST",value:e}}function be(e){return{type:"SET_SEARCH",value:e}}function ge(e){return{type:"SET_COLLECTION_REQUEST",value:e}}function Ze(e){return{type:"SET_UPLOADS",value:e}}function we(e){return{type:"ADD_UPLOADS",value:e}}function _e(e){return{type:"REMOVE_UPLOAD",value:e}}function ke(e){return{type:"SET_VIDEOS_FETCHED",value:e}}function xe(e){return{type:"SET_LOADING",value:e}}function Ce(e,t){return{type:"SET_UI_ITEM",item:e,value:t}}function Pe(e){return{type:"ADD_ERROR",value:e}}function Oe(e){return{type:"REMOVE_ERROR",value:e}}(0,wp.data.registerStore)("presto-player/bunny-popup",{reducer:te,selectors:n,actions:o});var Se,Ee,$e,Ne,Te,Ae,Re,je,Le,Ie,De,Be,Me,Fe,Ve,Ue,ze,Ge,He,We,qe,Ye=function(e){return 3==(null==e?void 0:e.status)&&(null==e?void 0:e.availableResolutions.length)},Xe=function(e){return Ye(e)||4===(null==e?void 0:e.status)},Ke=function(e){return 0==(null==e?void 0:e.status)?"Processing":1==(null==e?void 0:e.status)?"Uploaded":2==(null==e?void 0:e.status)?"Processing":Ye(e)?"Playable":3==(null==e?void 0:e.status)?"Encoding":4==(null==e?void 0:e.status)?"Live":5==(null==e?void 0:e.status)?"Error":6==(null==e?void 0:e.status)?"Upload Failed":void 0},Qe=function(e){return null==e||null==e?"":new Date(1e3*e).toISOString().substr(11,8)},Je=function(e){if(null==e||0==e)return"Unknown";if(0==e)return"0 b";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return(e/Math.pow(1024,t)).toFixed(2)+" "+["b","KB","MB","GB","TB"][t]},et=wp.i18n.__,tt=wp.components,rt=tt.Button,nt=tt.BaseControl,ot=tt.Disabled,at=tt.Card,it=tt.CardBody,lt=wp.element,st=lt.useState,ct=(lt.useContext,lt.useEffect),ut=wp.data,pt=ut.dispatch,dt=ut.useSelect,ft={name:"qhxz92",styles:"max-width:100%"},yt=function(){var e=st(!1),t=(0,s.Z)(e,2),r=t[0],n=t[1],o=st(!1),a=(0,s.Z)(o,2),i=a[0],c=a[1],p=st(null),d=(0,s.Z)(p,2),f=d[0],y=d[1],v=dt((function(e){return e("presto-player/bunny-popup").isPrivate()})),m=dt((function(e){return e("presto-player/bunny-popup").ui("selectedId")})),h=dt((function(e){return e("presto-player/bunny-popup").videos()}));ct((function(){y(m?h.find((function(e){return e.guid===m})):null)}),[h,m]);var b=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos/".concat(f.id),method:"DELETE",data:{type:v?"private":"public"}});case 2:pt("presto-player/bunny-popup").removeVideo(f),pt("presto-player/bunny-popup").setUI("selectedId",null),c(!1),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(0,O.iv)(Se||(Se=(0,k.Z)(["\n    margin-top: 5px;\n  "])));if(!f)return"";var Z,w,_,x,C=function(e){return v?null==e?void 0:e.webPURLSigned:null==e?void 0:e.webPURL};return f&&(0,O.tZ)("div",{className:"presto-player__media-modal-sidebar-content"},(0,O.tZ)(nt,{css:(0,O.iv)(Ee||(Ee=(0,k.Z)(["\n            position: relative;\n          "])))},(0,O.tZ)(ot,{key:f.id},Xe(f)&&C(f)&&(0,O.tZ)("img",{src:C(f),css:ft})),(0,O.tZ)(rt,{isSmall:!0,isPrimary:!0,isBusy:!Xe(f),css:(0,O.iv)($e||($e=(0,k.Z)(["\n              ","\n              top: 8px;\n              right: 8px;\n              font-size: 11px;\n              color: #ffffff;\n              padding: 2px 10px;\n              border-radius: 9999px;\n            "])),Xe(f)?"position: absolute;":"")},Ke(f))),(0,O.tZ)(nt,null,(0,O.tZ)(nt.VisualLabel,null,et("Name","presto-player")),(0,O.tZ)("h3",{css:g},f.title)),!(null==f||!f.visibility)&&(0,O.tZ)(nt,null,(0,O.tZ)(nt.VisualLabel,null,et("Visibility","presto-player")),(0,O.tZ)("h3",{css:g},f.visibility)),(0,O.tZ)(nt,null,(0,O.tZ)(nt.VisualLabel,null,et("Size","presto-player")),(0,O.tZ)("h3",{css:g},Je((null==f?void 0:f.size)||0))),(0,O.tZ)(nt,null,(0,O.tZ)(nt.VisualLabel,null,et("Length","presto-player")),(0,O.tZ)("h3",{css:g},Qe(null==f?void 0:f.length))),(0,O.tZ)(nt,null,(0,O.tZ)(nt.VisualLabel,null,et("Created","presto-player")),(0,O.tZ)("h3",{css:g},(Z=null==f?void 0:f.created_at,x=(w=(Z=new Date(Z)).getHours())>=12?"pm":"am",w=(w%=12)||12,_=(_=Z.getMinutes())<10?"0"+_:_,Z.getDate()+"-"+(Z.getMonth()+1)+"-"+Z.getFullYear()+" at "+w+":"+_+x))),(0,O.tZ)(nt,null,r?(0,O.tZ)(at,null,(0,O.tZ)(it,null,(0,O.tZ)("p",null,(0,O.tZ)("strong",null,et("Are you sure?","presto-player"))),(0,O.tZ)("p",null,et("Are you sure you want to delete this video?","presto-player")),(0,O.tZ)(rt,{isDestructive:!0,disabled:i,isBusy:i,onClick:function(e){e.preventDefault(),b(),c(!0)}},et("Yes","presto-player")),(0,O.tZ)(rt,{onClick:function(){return n(!1)}},et("Cancel","presto-player")))):(0,O.tZ)(rt,{isDestructive:!0,onClick:function(){n(!r)}},et("Delete video","presto-player"))))},vt=function(e){var t=e.className,r=e.progress;return(0,O.tZ)("div",{className:t},(0,O.tZ)("div",{css:(0,O.iv)(Ne||(Ne=(0,k.Z)(["\n          height: 100%;\n          background-color: var(--wp-admin-theme-color, #007cba);\n        "]))),style:{width:"".concat(r,"%")}}))},mt=function(e){var t=e.progress;return(0,O.tZ)("div",{css:(0,O.iv)(Te||(Te=(0,k.Z)(["\n        max-width: 100%;\n        object-fit: cover;\n        width: 100%;\n        height: 140px;\n        background-color: #222;\n        color: white;\n        text-decoration: none;\n        text-align: center;\n        box-sizing: border-box;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      "])))},(0,O.tZ)(vt,{progress:t,css:(0,O.iv)(Ae||(Ae=(0,k.Z)(["\n          width: 100%;\n          border-radius: 0px;\n          margin: 0 15px;\n          background-color: #e3e3e3;\n          height: 3px;\n        "])))}))},ht=r(7462),bt=function(e){var t=e.thumbnail,r=e.title,n=e.footer,o=e.badge,a=e.before,i=e.after;return(0,O.tZ)("div",(0,ht.Z)({className:"presto-player__video-thumb",css:(0,O.iv)(Re||(Re=(0,k.Z)(["\n        cursor: pointer;\n        user-select: none;\n        display: inline-block;\n        position: relative;\n        margin-right: 20px;\n        font-weight: bold;\n        margin-bottom: 20px;\n        width: 220px;\n        flex: 0 0 220px;\n        border: 1px solid #e0e0e0;\n        border-radius: 4px;\n        overflow: hidden;\n      "])))},e),!!a&&a,!!t&&t,(0,O.tZ)("div",{css:(0,O.iv)(je||(je=(0,k.Z)(["\n          margin: 14px;\n        "])))},!!o&&(0,O.tZ)("div",{css:(0,O.iv)(Le||(Le=(0,k.Z)(["\n              position: absolute;\n              top: 8px;\n              right: 8px;\n            "])))},o),!!r&&(0,O.tZ)("span",{css:(0,O.iv)(Ie||(Ie=(0,k.Z)(["\n              text-overflow: ellipsis;\n              white-space: nowrap;\n              overflow: hidden;\n              width: 100%;\n              max-width: 100%;\n              display: inline-block;\n              margin-bottom: 7px;\n              font-size: 13px;\n            "])))},r),!!n&&(0,O.tZ)("div",{css:(0,O.iv)(De||(De=(0,k.Z)(["\n              font-size: 12px;\n              opacity: 0.75;\n              margin-bottom: 7px;\n            "])))},n)),!!i&&i)},gt=wp.components,Zt=gt.Icon,wt=gt.Button,_t=wp.element,kt=_t.useEffect,xt=_t.useState,Ct=wp.data,Pt=Ct.useSelect,Ot=Ct.dispatch,St=function(e){var t=e.video,r=xt(),n=(0,s.Z)(r,2),o=n[0],a=n[1],i=Pt((function(e){return e("presto-player/bunny-popup").isPrivate()})),l=Pt((function(e){return e("presto-player/bunny-popup").ui("selectedId")}));return kt((function(){a(l?l===t.guid:null)}),[l]),(0,O.tZ)(bt,{onClick:function(){Ot("presto-player/bunny-popup").setUI("selectedId",null==t?void 0:t.guid)},css:(0,O.iv)(He||(He=(0,k.Z)(["\n        ","\n        border: 1px solid\n          ",";\n      "])),o&&"box-shadow: 0 0 0 0px #fff, 0 0 0 3px var(--wp-admin-theme-color, #007cba);",o?"var(--wp-admin-theme-color, #007cba)":"#e0e0e0"),thumbnail:function(){if(t.status<3)return(0,O.tZ)(mt,{progress:t.encodeProgress});var e=i?null==t?void 0:t.thumbnailURLSigned:null==t?void 0:t.thumbnailURL;return e?(0,O.tZ)("img",{css:(0,O.iv)(Me||(Me=(0,k.Z)(["\n            max-width: 100%;\n            object-fit: cover;\n            width: 100%;\n            height: 140px;\n            display: block;\n          "]))),src:e}):void 0}(),badge:(0,O.tZ)(wt,{isSmall:!0,isPrimary:!0,isBusy:!Xe(t),css:(0,O.iv)(Be||(Be=(0,k.Z)(["\n        font-size: 11px;\n        color: #ffffff;\n        padding: 2px 10px;\n        border-radius: 9999px;\n      "])))},Ke(t)),title:t.title,footer:(0,O.tZ)("div",{css:(0,O.iv)(Fe||(Fe=(0,k.Z)(["\n        display: flex;\n        align-items: center;\n      "])))},(0,O.tZ)("span",{css:(0,O.iv)(Ve||(Ve=(0,k.Z)(["\n          margin-right: 10px;\n          display: flex;\n          align-items: center;\n        "])))},(0,O.tZ)(Zt,{css:(0,O.iv)(Ue||(Ue=(0,k.Z)(["\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n            opacity: 0.5;\n          "]))),icon:"clock",size:14}),(0,O.tZ)("span",null,Qe(t.length))),(0,O.tZ)("span",{css:(0,O.iv)(ze||(ze=(0,k.Z)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,O.tZ)(Zt,{css:(0,O.iv)(Ge||(Ge=(0,k.Z)(["\n            opacity: 0.5;\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n          "]))),icon:"database",size:14}),(0,O.tZ)("span",null,Je(t.storageSize)))),after:3===t.status?(0,O.tZ)(vt,{css:(0,O.iv)(We||(We=(0,k.Z)(["\n              width: 100%;\n              border-radius: 0px;\n              margin: 0;\n              background-color: #e3e3e3;\n              height: 3px;\n            "]))),progress:t.encodeProgress}):""})},Et=wp.components,$t=Et.Flex,Nt=Et.FlexBlock,Tt=Et.Spinner,At={name:"1azakc",styles:"text-align:center"},Rt=function(e){var t=e.className;return(0,O.tZ)($t,{className:t},(0,O.tZ)(Nt,{css:At},(0,O.tZ)(Tt,null)))};function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var It,Dt,Bt,Mt,Ft,Vt,Ut,zt,Gt,Ht,Wt=wp.i18n.__,qt=wp.element,Yt=qt.useState,Xt=qt.useEffect,Kt=qt.Fragment,Qt=wp.components,Jt=Qt.Flex,er=Qt.FormFileUpload,tr=Qt.Notice,rr=wp.data,nr=rr.dispatch,or=rr.useSelect,ar={name:"s5xdrg",styles:"display:flex;align-items:center"},ir={name:"82a6rk",styles:"flex:1"},lr={name:"82a6rk",styles:"flex:1"},sr=function(){var e=Yt(!1),t=(0,s.Z)(e,2),r=t[0],n=t[1],o=Yt(""),a=(0,s.Z)(o,2),i=a[0],c=a[1],p=or((function(e){return e("presto-player/bunny-popup").videosFetched()})),d=or((function(e){return e("presto-player/bunny-popup").videos()})),f=or((function(e){return e("presto-player/bunny-popup").requestType()})),y=or((function(e){return e("presto-player/bunny-popup").currentCollection()}));Xt((function(){p||v()}),[p]),Xt((function(){var e=setInterval((function(){v({sync:!0})}),3e3);return function(){return clearInterval(e)}}),[p]);var v=function(){var e=(0,l.Z)(u().mark((function e(){var t,r,n,o,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{sync:!1},r=t.sync,e.prev=1,e.next=4,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/videos",Lt(Lt({type:f},null!=y&&y.guid?{collection:null==y?void 0:y.guid}:{}),{},{items_per_page:500}))});case 4:n=e.sent,nr("presto-player/bunny-popup").setVideos(null==n?void 0:n.items),c(""),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),401!==(null===e.t0||void 0===e.t0||null===(o=e.t0.data)||void 0===o?void 0:o.status)){e.next=14;break}return c(Wt("Please wait. Pullzone cache is clearing. This may take a minute or two...")),e.abrupt("return");case 14:r||nr("presto-player/bunny-popup").addError(e.t0.message);case 15:return e.prev=15,nr("presto-player/bunny-popup").setVideosFetched(!0),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,9,15,18]])})));return function(){return e.apply(this,arguments)}}();return i?(0,O.tZ)(tr,{status:"warning",isDismissible:!1},(0,O.tZ)("div",{css:ar},(0,O.tZ)(Rt,{css:ir}),i)):p?(0,O.tZ)(Kt,null,d&&d.length?(0,O.tZ)("div",null,!(null!=y&&y.guid)&&(0,O.tZ)("h2",null,Wt("Videos","presto-player")),d.map((function(e){if((null==e?void 0:e.collectionId)===((null==y?void 0:y.guid)||""))return(0,O.tZ)(St,{key:e.id,video:e,onClick:function(){n(r.guid===e.guid?{}:e)},selected:r.guid===e.guid})}))):(0,O.tZ)(Jt,{align:"center",justify:"center",css:(0,O.iv)(qe||(qe=(0,k.Z)(["\n          height: 100%;\n          text-align: center;\n        "])))},(0,O.tZ)("div",null,(0,O.tZ)("h2",null,Wt("Drop video files here to upload","presto-player")),(0,O.tZ)("p",null,Wt("or browse for a video","presto-player")),(0,O.tZ)(er,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(nr("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Wt("Upload New Video","presto-player"))))):(0,O.tZ)(Rt,{css:lr})},cr=wp.components.Icon,ur=wp.data.dispatch,pr=function(e){var t=e.collection;return(0,O.tZ)(bt,{onClick:function(e){e.preventDefault(),ur("presto-player/bunny-popup").setCollectionRequest(t),ur("presto-player/bunny-popup").setVideosFetched(!1)},title:(0,O.tZ)("div",null,(0,O.tZ)(cr,{icon:"open-folder",css:(0,O.iv)(It||(It=(0,k.Z)(["\n              color: var(--wp-admin-theme-color);\n              margin-right: 10px;\n            "])))}),t.name),footer:(0,O.tZ)("div",null,t.videoCount," Videos")})},dr=wp.i18n.__,fr=wp.element.useEffect,yr=wp.data,vr=yr.useSelect,mr=yr.dispatch,hr=function(){var e=vr((function(e){return e("presto-player/bunny-popup").collections()})),t=vr((function(e){return e("presto-player/bunny-popup").requestType()})),r=function(){var e=(0,l.Z)(u().mark((function e(){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/collections",{type:t,items_per_page:500})});case 3:r=e.sent,mr("presto-player/bunny-popup").setCollections(null==r?void 0:r.items),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.status)){e.next=11;break}return e.abrupt("return");case 11:mr("presto-player/bunny-popup").addError(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return fr((function(){r()}),[]),!!e.length&&(0,O.tZ)("div",null,(0,O.tZ)("h2",null,dr("Collections","presto-player")),(0,O.tZ)("div",{css:(0,O.iv)(Dt||(Dt=(0,k.Z)(["\n            display: flex;\n            align-items: stretch;\n            overflow: auto;\n          "])))},e.map((function(e){return(0,O.tZ)(pr,{collection:e,key:e.guid})}))))},br=wp.i18n.__,gr=wp.components,Zr=gr.Button,wr=gr.TextControl,_r=gr.Modal,kr=gr.BaseControl,xr=wp.element,Cr=xr.useState,Pr=xr.Fragment,Or=wp.data,Sr=Or.dispatch,Er=Or.useSelect,$r=function(){var e=Cr(""),t=(0,s.Z)(e,2),r=t[0],n=t[1],o=Cr(!1),a=(0,s.Z)(o,2),i=a[0],c=a[1],p=Er((function(e){return e("presto-player/bunny-popup").requestType()})),d=Er((function(e){return e("presto-player/bunny-popup").ui("createCollection")})),f=function(e){Sr("presto-player/bunny-popup").setUI("createCollection",e)},y=function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections",method:"POST",data:{type:p,name:r}});case 4:t=e.sent,Sr("presto-player/bunny-popup").addCollection(t),Sr("presto-player/bunny-popup").setCollectionRequest(t),Sr("presto-player/bunny-popup").setVideosFetched(!1),n(""),f(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return(0,O.tZ)(Pr,null,(0,O.tZ)(Zr,{isSecondary:!0,onClick:function(){return f(!0)}},br("Create Collection","presto-player")),d&&(0,O.tZ)(_r,{overlayClassName:"presto-modal",title:"Create New Collection",shouldCloseOnClickOutside:!1,isDismissible:!1},(0,O.tZ)(wr,{css:(0,O.iv)(Bt||(Bt=(0,k.Z)(["\n              margin-bottom: 15px;\n            "]))),tabIndex:"0",placeholder:br("Enter a collection name","presto-player"),value:r,onChange:function(e){return n(e)}}),(0,O.tZ)(kr,null,(0,O.tZ)(Zr,{isBusy:i,disabled:i,isPrimary:!0,onClick:function(){y()}},br("Create","presto-player"))," ",(0,O.tZ)(Zr,{onClick:function(){return f(!1)}},br("Cancel","presto-player")))))},Nr=wp.i18n.__,Tr=wp.components,Ar=Tr.Flex,Rr=Tr.FlexBlock,jr=Tr.FlexItem,Lr=(Tr.Button,Tr.FormFileUpload),Ir=wp.data.dispatch,Dr=function(e){var t=e.afterUpload;return(0,O.tZ)(Ar,null,(0,O.tZ)(Rr,null,(0,O.tZ)(Ar,{justify:"flex-start"},(0,O.tZ)(Lr,{multiple:!0,isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(Ir("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Nr("Upload Videos","presto-player"))," ",(0,O.tZ)($r,null),!!t&&t)),(0,O.tZ)(jr,null))},Br=wp.i18n.__,Mr=wp.components.Button,Fr=wp.element,Vr=Fr.useState,Ur=Fr.useEffect,zr=wp.data.useSelect,Gr=function(e){var t=e.onChoose,r=Vr(null),n=(0,s.Z)(r,2),o=n[0],a=n[1],i=Vr(!1),l=(0,s.Z)(i,2),c=l[0],u=l[1],p=zr((function(e){return e("presto-player/bunny-popup").ui("selectedId")})),d=zr((function(e){return e("presto-player/bunny-popup").videos()}));return Ur((function(){a(p?d.find((function(e){return e.guid===p})):null)}),[d,p]),Ur((function(){3==(null==o?void 0:o.status)&&null!=o&&o.availableResolutions.length?u(!0):u((null==o?void 0:o.status)>3&&(null==o?void 0:o.status)<5)}),[null==o?void 0:o.availableResolutions]),(0,x.tZ)(Mr,{isPrimary:!0,disabled:!c,onClick:function(){return t(o)}},null!=o&&o.id&&!c?Br("Please wait, video is encoding...","presto-player"):Br("Choose","presto-player"))},Hr=wp.components.Icon,Wr=function(e){var t=e.children,r=e.onClick;return(0,O.tZ)("span",{onClick:r,css:(0,O.iv)(Mt||(Mt=(0,k.Z)(["\n        display: inline-flex;\n        align-items: center;\n        cursor: pointer;\n        color: var(--wp-admin-theme-color, #007cba);\n        padding: 6px 0;\n      "])))},(0,O.tZ)(Hr,{css:(0,O.iv)(Ft||(Ft=(0,k.Z)(["\n          width: 14px;\n          height: 14px;\n          font-size: 14px;\n          margin-right: 5px;\n        "]))),icon:"arrow-left-alt",size:14}),(0,O.tZ)("span",null,t))},qr=wp.i18n.__,Yr=wp.element.useState,Xr=wp.data,Kr=Xr.dispatch,Qr=Xr.useSelect,Jr=wp.components,en=Jr.Button,tn=Jr.Modal,rn=Jr.BaseControl,nn=function(){var e=Yr(!1),t=(0,s.Z)(e,2),r=t[0],n=t[1],o=Yr(!1),a=(0,s.Z)(o,2),i=a[0],c=a[1],p=Yr(""),d=(0,s.Z)(p,2),f=(d[0],d[1],Qr((function(e){return e("presto-player/bunny-popup").currentCollection()}))),y=Qr((function(e){return e("presto-player/bunny-popup").requestType()})),v=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections/".concat(null==f?void 0:f.guid),method:"DELETE",data:{type:y}});case 4:n(!1),Kr("presto-player/bunny-popup").setCollectionRequest(""),Kr("presto-player/bunny-popup").setVideosFetched(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1),Kr("presto-player/bunny-popup").addError(e.t0.message);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,O.tZ)("div",{css:(0,O.iv)(Vt||(Vt=(0,k.Z)(["\n        margin-bottom: 2em;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      "])))},(0,O.tZ)("div",null,(0,O.tZ)(Wr,{onClick:function(){Kr("presto-player/bunny-popup").setCollectionRequest(""),Kr("presto-player/bunny-popup").setVideosFetched(!1)}},qr("Back To Main Folder","presto-player")),(0,O.tZ)("h2",null,f.name)),(0,O.tZ)(en,{isDestructive:!0,onClick:function(){return n(!0)}},qr("Delete Collection","presto-player")),r&&(0,O.tZ)(tn,{shouldCloseOnClickOutside:!1,overlayClassName:"presto-modal",title:"Delete Collection",onRequestClose:function(){return n(!1)}},(0,O.tZ)("h2",null,qr("Are you sure you want to delete the collection? ","presto-player")),(0,O.tZ)("p",null,qr("This will also delete all videos inside of the collection.","presto-player")),(0,O.tZ)(rn,null,(0,O.tZ)(en,{isDestructive:!0,disabled:i,isBusy:i,onClick:v},qr("Delete","presto-player"))," ",(0,O.tZ)(en,{onClick:function(){return n(!1)}},qr("Cancel","presto-player")))))};function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?on(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}wp.components.Icon;var ln,sn,cn,un,pn,dn,fn,yn,vn,mn,hn,bn,gn,Zn=wp.element,wn=Zn.useState,kn=Zn.useEffect,xn=(Zn.useContext,wp.data),Cn=xn.useSelect,Pn=(xn.dispatch,wp.i18n.__),On=function(e){var t,r=e.file,n=e.name,o=e.onComplete,a=wn(0),i=(0,s.Z)(a,2),c=i[0],p=i[1],d=wn(Pn("Uploading","presto-player")),f=(0,s.Z)(d,2),y=(f[0],f[1]),v=wn(""),m=(0,s.Z)(v,2),h=m[0],b=m[1],g=wn(!1),w=(0,s.Z)(g,2),_=w[0],x=w[1],C=Cn((function(e){return e("presto-player/bunny-popup").requestType()})),P=Cn((function(e){return e("presto-player/bunny-popup").currentCollection()})),S=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(Pn("Uploading","presto-player")),t=Z({file:null!=r&&r[0]?null==r?void 0:r[0]:r,path:"presto-player/v1/bunny/stream/upload",onProgress:function(e){p(e)},onComplete:E,onError:function(e){b(e.message),y(Pn("Error","presto-player")),p(0)}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,l.Z)(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,y(Pn("Creating","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos",method:"POST",data:an({type:C,name:n},null!=P&&P.guid?{collection:P.guid}:{})});case 5:o=e.sent,x(!0),$({path:r,video:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b(e.t0.message);case 13:return e.prev=13,p(0),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(_x){return e.apply(this,arguments)}}(),$=function(){var e=(0,l.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.video,e.next=3,wp.apiFetch({path:"presto-player/v1/bunny/stream/store",method:"POST",data:{type:C,path:r,guid:n.guid}});case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return kn((function(){return S(),function(){t&&t.cancel()}}),[]),_?"":(0,O.tZ)("div",{css:(0,O.iv)(Ut||(Ut=(0,k.Z)(["\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        animation: components-button__busy-animation 2500ms infinite linear;\n        opacity: 1;\n        padding: 6px 12px;\n        border-radius: 99999px;\n        border: 1px solid #dddddd;\n        background-size: 100px 100%;\n        background-image: linear-gradient(\n          -45deg,\n          #ffffff 33%,\n          #f3f3f3 33%,\n          #f3f3f3 70%,\n          #ffffff 70%\n        );\n      "])))},(0,O.tZ)("div",{css:(0,O.iv)(zt||(zt=(0,k.Z)(["\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          max-width: 150px;\n          text-overflow: ellipsis;\n          font-weight: bold;\n        "])))},!!h&&h,!!n&&n," ",r.name,"..."),(0,O.tZ)("div",{css:(0,O.iv)(Gt||(Gt=(0,k.Z)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,O.tZ)(vt,{css:(0,O.iv)(Ht||(Ht=(0,k.Z)(["\n            width: 50px;\n            height: 3px;\n            margin: 0 5px;\n            background: #e3e3e3;\n            border-radius: 9999px;\n            overflow: hidden;\n          "]))),progress:c})))},Sn=wp.data.useSelect,En=function(e){var t=e.removeUpload,r=(e.isPrivate,Sn((function(e){return e("presto-player/bunny-popup").uploads()})));return r.length?(0,O.tZ)("div",{css:(0,O.iv)(ln||(ln=(0,k.Z)(["\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        position: relative;\n      "])))},r.length&&r.map((function(e){return(0,O.tZ)(On,{css:(0,O.iv)(sn||(sn=(0,k.Z)(["\n                margin-right: 0px;\n              "]))),file:e,onComplete:function(){return t(e)}})}))):""},$n=wp.i18n.__,Nn=wp.components.Modal,Tn=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.error,a=e.mainContent,i=e.sidebar,l=e.footer;return(0,O.tZ)(Nn,{isFullScreen:!0,title:r||$n("Add Media","presto-player"),onRequestClose:t,css:(0,O.iv)(cn||(cn=(0,k.Z)(["\n        .components-modal__header {\n          border-bottom: 1px solid #ddd;\n        }\n        .components-modal__content {\n          display: flex;\n          flex-direction: column;\n          padding: 0;\n\n          > :not(.components-modal__header) {\n            flex: 1;\n          }\n        }\n      "]))),overlayClassName:"presto-player__modal-overlay"},(0,O.tZ)("div",{css:(0,O.iv)(un||(un=(0,k.Z)(['\n          @media screen and (min-width: 780px) {\n            height: 100%;\n            display: grid;\n            flex: 1;\n            max-height: calc(100vh - 68px);\n            grid-template-columns: 1fr 1fr minmax(0px, 267px);\n            grid-template-rows: minmax(50px, auto) 1fr 60px;\n            grid-template-areas:\n              "header header sidebar"\n              "main main sidebar"\n              "footer footer footer";\n            overflow: hidden;\n          }\n        ']))),"data-cy":"media-modal"},(0,O.tZ)("div",{css:(0,O.iv)(pn||(pn=(0,k.Z)(["\n            grid-area: header;\n            padding: 24px 24px 12px 24px;\n          "])))},(0,O.tZ)("div",{css:(0,O.iv)(dn||(dn=(0,k.Z)(["\n              display: flex;\n              align-items: center;\n\n              > * {\n                margin-right: 10px;\n              }\n            "])))},n),o),(0,O.tZ)("div",{css:(0,O.iv)(fn||(fn=(0,k.Z)(["\n            grid-area: main;\n            display: grid;\n            overflow: hidden;\n\n            .components-drop-zone__provider {\n              overflow: hidden;\n              display: grid;\n            }\n\n            .components-drop-zone {\n              z-index: 99;\n            }\n          "])))},a),(0,O.tZ)("div",{css:(0,O.iv)(yn||(yn=(0,k.Z)(["\n            display: none;\n            grid-area: sidebar;\n            padding: 0 16px;\n            z-index: 75;\n            background: #f3f3f3;\n            border-left: 1px solid #ddd;\n            overflow: auto;\n\n            @media screen and (min-width: 780px) {\n              display: block;\n            }\n\n            .sidebar-content {\n              padding: 16px 0;\n            }\n          "])))},i),(0,O.tZ)("div",{css:(0,O.iv)(vn||(vn=(0,k.Z)(["\n            grid-area: footer;\n            border-top: 1px solid #ddd;\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n            padding: 8px;\n          "])))},l)))},An=wp.i18n.__,Rn=wp.components,jn=(Rn.Button,Rn.DropZone),Ln=Rn.DropZoneProvider,In=Rn.Notice,Dn=wp.element,Bn=(Dn.useState,Dn.useEffect),Mn=(Dn.Fragment,wp.data),Fn=Mn.dispatch,Vn=Mn.useSelect,Un=function(e){var t=e.onClose,r=e.onChoose,n=Vn((function(e){return e("presto-player/bunny-popup").isPrivate()})),o=Vn((function(e){return e("presto-player/bunny-popup").uploads()})),a=Vn((function(e){return e("presto-player/bunny-popup").currentCollection()})),i=Vn((function(e){return e("presto-player/bunny-popup").errors()}));Bn((function(){Fn("presto-player/bunny-popup").setVideosFetched(!1),Fn("presto-player/bunny-popup").setCollections([]),Fn("presto-player/bunny-popup").setVideos([])}),[]);var l=An(n?"Private Stream Library":"Public Stream Library","presto-player"),s=(0,O.tZ)(Dr,{afterUpload:(0,O.tZ)(En,{uploads:o,removeUpload:function(e){Fn("presto-player/bunny-popup").removeUpload(e)},isPrivate:n})}),c=(0,O.tZ)(yt,null),u=(0,O.tZ)(Gr,{onChoose:r});return(0,O.tZ)(Tn,{title:l,header:s,mainContent:(0,O.tZ)(Ln,{css:(0,O.iv)(mn||(mn=(0,k.Z)(["\n          overflow: auto;\n          display: flex;\n          flex-direction: column;\n        "])))},(0,O.tZ)("div",{css:(0,O.iv)(hn||(hn=(0,k.Z)(["\n            padding: 12px 24px;\n            overflow: auto;\n            display: flex;\n            flex-direction: column;\n          "])))},!!i.length&&i.map((function(e){return(0,O.tZ)(In,{css:(0,O.iv)(bn||(bn=(0,k.Z)(["\n                    margin: 0 0 20px 0;\n                  "]))),status:"error",onRemove:function(){return Fn("presto-player/bunny-popup").removeError(e)}},e)})),a?(0,O.tZ)(nn,null):(0,O.tZ)(hr,null),(0,O.tZ)("div",{css:(0,O.iv)(gn||(gn=(0,k.Z)(["\n              display: flex;\n              align-items: stretch;\n            "])))},(0,O.tZ)(sr,null)),(0,O.tZ)(jn,{label:"Drop files",onFilesDrop:function(e){Fn("presto-player/bunny-popup").addUploads(e)}}))),onClose:function(){o.length?confirm("Discard your uploads?")&&(t(),Fn("presto-player/bunny-popup").setUploads([])):t()},footer:u,sidebar:c})},zn=wp.i18n.__,Gn=wp.element.useEffect,Hn=wp.data.dispatch,Wn=function(e){var t=e.closePopup,r=e.onSelect,n=e.isPrivate;return Gn((function(){Hn("presto-player/bunny-popup").setIsPrivate(n)}),[n]),(0,x.tZ)(Un,{onClose:t,onChoose:function(e){e.url=e.playlistURL,e.thumbnail=e.thumbnailURL,e.preview=e.webPURL,r(e)},header:zn(n?"Private Stream Library":"Public Stream Library","presto-player"),title:zn(n?"Private Video Stream":"Public Video Stream","presto-player")})},qn=wp.i18n.__,Yn=wp.element.useState,Xn="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/"),Kn=wp.i18n.__,Qn=wp.element.useState,Jn="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/stream/"),eo=function(e){var t=e.onRefetch,r=e.type,n=e.autoSubmit,o="stream"===r?function(e){var t=Qn(""),r=(0,s.Z)(t,2),n=r[0],o=r[1],a=Qn(""),i=(0,s.Z)(a,2),c=i[0],p=i[1],d=Qn(!1),f=(0,s.Z)(d,2),y=f[0],v=f[1],m=Qn(0),h=(0,s.Z)(m,2),b=h[0],g=h[1],Z=Qn(""),w=(0,s.Z)(Z,2),_=w[0],k=w[1],x=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},C=function(){var t=(0,l.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(""),t.prev=1,v(!0),g(0),p(Kn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat(Jn,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),g(0),k(null!==t.t0&&void 0!==t.t0&&t.t0.message?x(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,g(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(Kn("Setting up public video library. This make take a few moments...","presto-player")),t.next=28,wp.apiFetch({url:"".concat(Jn,"library"),method:"POST",data:{type:"public"}});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),g(0),k(null!==t.t1&&void 0!==t.t1&&t.t1.message?x(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,g(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(Kn("Setting up private video library. This make take a few moments...","presto-player")),t.next=47,wp.apiFetch({url:"".concat(Jn,"library"),method:"POST",data:{type:"private"}});case 47:t.next=54;break;case 49:return t.prev=49,t.t2=t.catch(42),g(0),k(null!==t.t2&&void 0!==t.t2&&t.t2.message?x(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 54:return t.prev=54,g(2),v(!1),p(""),t.finish(54);case 59:e();case 60:case"end":return t.stop()}}),t,null,[[1,13,18,23],[23,32,37,42],[42,49,54,59]])})));return function(){return t.apply(this,arguments)}}();return{saveKey:C,setApikey:o,step:b,saveMessage:c,saving:y,error:_,totalSteps:3}}(t):function(e){var t=Yn(""),r=(0,s.Z)(t,2),n=r[0],o=r[1],a=Yn(""),i=(0,s.Z)(a,2),c=i[0],p=i[1],d=Yn(!1),f=(0,s.Z)(d,2),y=f[0],v=f[1],m=Yn(0),h=(0,s.Z)(m,2),b=h[0],g=h[1],Z=Yn(""),w=(0,s.Z)(Z,2),_=w[0],k=w[1],x=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},C=function(){var t=(0,l.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(""),t.prev=1,v(!0),g(0),p(qn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat(Xn,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),g(0),k(null!==t.t0&&void 0!==t.t0&&t.t0.message?x(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,g(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(qn("Setting up storage zones. This make take a few minutes...","presto-player")),t.next=28,wp.apiFetch({url:"".concat(Xn,"storage-zones"),method:"POST"});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),g(0),k(null!==t.t1&&void 0!==t.t1&&t.t1.message?x(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,g(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(qn("Setting up pull zones. This make take a few minutes...","presto-player")),t.next=47,wp.apiFetch({url:"".concat(Xn,"pull-zones"),method:"POST"});case 47:t.sent.id,t.next=56;break;case 51:return t.prev=51,t.t2=t.catch(42),g(0),k(null!==t.t2&&void 0!==t.t2&&t.t2.message?x(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 56:return t.prev=56,g(3),v(!1),p(""),t.finish(56);case 61:e();case 62:case"end":return t.stop()}}),t,null,[[1,13,18,23],[23,32,37,42],[42,51,56,61]])})));return function(){return t.apply(this,arguments)}}();return{saveKey:C,setApikey:o,step:b,saveMessage:c,saving:y,error:_,totalSteps:3}}(t),a=o.saveKey,c=o.apikey,d=o.setApikey,y=o.saveMessage,v=o.saving,m=o.totalSteps,h=o.step,b=o.error;return(0,i.useEffect)((function(){n&&a()}),[n]),(0,x.tZ)(p.Placeholder,{label:(0,f.__)("Bunny.net Video","presto-player"),instructions:(0,f.__)("Enter your Bunny.net API key, which can be found on your Bunny CDN Account page.","presto-player")},v?(0,x.tZ)(p.Flex,null,(0,x.tZ)(p.FlexItem,null,(0,x.tZ)(p.Spinner,null)),(0,x.tZ)(p.FlexBlock,null,y,(0,x.tZ)("progress",{className:"presto-progress",max:m,value:h,style:{width:"100%"}}))):(0,x.tZ)("form",{onSubmit:function(e){e.preventDefault(),a()}},b&&(0,x.tZ)(p.Flex,{style:{width:"100%"}},(0,x.tZ)(p.FlexBlock,null,(0,x.tZ)(p.Notice,{status:"error",isDismissible:!1},b))),(0,x.tZ)(p.Flex,{style:{width:"100%",maxWidth:"400px"}},(0,x.tZ)(p.FlexBlock,null,(0,x.tZ)(p.TextControl,{value:c,onChange:function(e){return d(e)},className:"presto-link-placeholder-input",type:"password",autoComplete:"off",placeholder:(0,f.__)("Your Bunny.net API Key","presto-player"),required:!0})),(0,x.tZ)(p.FlexItem,null,(0,x.tZ)(p.Button,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},(0,f.__)("Next","presto-player")," →")))))},to=r(7705),ro=r(1713);function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ao=(0,y.compose)([(0,b.Z)(),(0,h.Z)()])((0,p.withNotices)((function(e){var t,r,n=e.attributes,o=e.setAttributes,a=e.noticeOperations,c=e.branding,y=(e.isSelected,e.presetData),h=e.createVideo,b=e.lockSave,Z=e.unlockSave,w=e.onRemoveSrc,_=e.renderKey,k=e.defaultPreset,C=n.poster,P=n.src,O=n.id,S=n.tracks,E=n.visibility,$=n.previewSrc,N=n.thumbnail,T=(0,i.useState)(""),A=(0,s.Z)(T,2),R=A[0],j=A[1],L=(0,i.useState)(!1),I=(0,s.Z)(L,2),D=I[0],B=I[1],M=(0,i.useState)(""),F=(0,s.Z)(M,2),V=F[0],U=F[1],z=(0,i.useState)({stream:!1,storage:!1}),G=(0,s.Z)(z,2),H=G[0],W=G[1],q=(0,i.useState)(!1),Y=(0,s.Z)(q,2),X=Y[0],Q=Y[1],J=(0,i.useState)(!1),ee=(0,s.Z)(J,2),te=ee[0],re=ee[1],ne=(0,i.useState)(!1),oe=(0,s.Z)(ne,2),ae=(oe[0],oe[1]),ie=(0,i.useState)(!1),le=(0,s.Z)(ie,2),se=le[0],ce=le[1],ue=wp.data.useSelect((function(e){return e("core").canUser("read","settings")})),pe="private"===E,de=null===(t=prestoPlayerAdmin)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.disable_legacy_storage;function fe(e){e.url?(o(oo(oo({src:e.url,preset:null==k?void 0:k.id},null!=e&&e.thumbnail?{thumbnail:e.thumbnail}:{}),null!=e&&e.preview?{preview:e.preview}:{})),B(!0),b(),h(oo({src:e.url,type:"bunny",title:e.title},null!=e&&e.guid?{external_id:e.guid}:{})).catch((function(e){o({src:""}),console.error(e)})).finally((function(){Z(),B(!1)}))):o({src:void 0,id:void 0})}(0,i.useEffect)((function(){(0,v.dispatch)("presto-player/bunny-popup").setIsPrivate("private"===E)}),[E]),(0,i.useEffect)((function(){var e,t,r,n,o,a;W({storage:null===(e=prestoPlayerAdmin)||void 0===e||null===(t=e.isSetup)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.storage,stream:null===(n=prestoPlayerAdmin)||void 0===n||null===(o=n.isSetup)||void 0===o||null===(a=o.bunny)||void 0===a?void 0:a.stream})}),[]);var ye=function(){var e=(0,l.Z)(u().mark((function e(){var t,r,n,o,a,i,l,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:"wp/v2/settings"});case 3:t=e.sent,r=t.presto_player_bunny_pull_zones,n=t.presto_player_bunny_storage_zones,o=t.presto_player_bunny_stream_private,a=t.presto_player_bunny_stream_public,re(!0),o||Q(!0),l=(i=function(e){return!(null==e||!e.private_id||null==e||!e.public_id)})(r)||i(n),s=(null==o?void 0:o.pull_zone_url)&&(null==a?void 0:a.pull_zone_url),W({storage:l,stream:s}),U(l||s?"":"stream");case 15:return e.prev=15,ae(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,,15,18]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){ue?ye():re(!0)}),[ue]);var ve=function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=7;break}return e.next=3,m(P);case 3:t=e.sent,o({previewSrc:t}),e.next=8;break;case 7:o({previewSrc:P});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){ve()}),[P]);var me=function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=7;break}return e.next=3,m(N);case 3:(t=e.sent)&&o({previewThumbnail:t}),e.next=8;break;case 7:o({previewThumbnail:N});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){me()}),[N]);var he;return D||!te?(0,x.tZ)(p.Placeholder,{className:"presto-player__placeholder is-loading"},(0,x.tZ)(p.Spinner,null)):"stream"===V?(0,x.tZ)(eo,{type:"stream",autoSubmit:se,onRefetch:function(){re(!1),ye()}}):"storage"===V?(0,x.tZ)(eo,{type:"storage",onRefetch:function(){re(!1),ye()}}):O?(0,x.tZ)(React.Fragment,null,(0,x.tZ)(d.BlockControls,null,(0,x.tZ)(g.Z,{tracks:S,onChange:function(e){o({tracks:e})}}),(0,x.tZ)(p.Toolbar,null,(0,x.tZ)(p.Button,{onClick:function(){return w()}},(0,f.__)("Replace","presto-player")))),(0,x.tZ)(d.InspectorControls,null,(0,x.tZ)(to.Z,{setAttributes:o,attributes:n})),(0,x.tZ)("figure",{className:"wp-block-video"},(0,x.tZ)(p.Disabled,null,(0,x.tZ)(ro.Z,{poster:C,src:$,id:O,type:"bunny",attributes:n,setAttributes:o,preset:y,branding:c,key:_})))):(0,x.tZ)("div",null,(0,x.tZ)(p.Placeholder,{label:pe?(0,f.__)("Bunny.net Private Video","presto-player"):(0,f.__)("Bunny.net Video","presto-player"),icon:pe?(0,x.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,x.tZ)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})):(0,x.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,x.tZ)("polyline",{points:"8 17 12 21 16 17"}),(0,x.tZ)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,x.tZ)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),instructions:(0,f.__)("Add or select a Bunny.net video","presto-player")},(0,x.tZ)(p.BaseControl,{className:"presto-player__placeholder-control"},(0,x.tZ)(p.ToggleControl,{label:"Private Video",help:pe?"Video is only accessible to those who are logged in.":"Video is accessible to everyone.",checked:pe,onChange:function(e){o({visibility:e?"private":"public"})}})),(0,x.tZ)(i.Fragment,null,H.stream&&(0,x.tZ)(p.Button,{isPrimary:!0,onClick:function(){return j("stream")}},pe?(0,f.__)("Add/Select Private Video Stream","presto-player"):(0,f.__)("Add/Select Video Stream","presto-player")),!de&&H.storage&&(0,x.tZ)(p.Button,{isSecondary:H.stream,isPrimary:!H.stream,onClick:function(){return j("storage")}},pe?(0,f.__)("Add/Select Private Video (Classic)","presto-player"):(0,f.__)("Add/Select Video (Classic)","presto-player")),!H.stream&&!X&&H.storage&&(0,x.tZ)(p.Button,{isSecondary:!0,onClick:function(){ce(!0),U("stream")}},(0,f.__)("Enable Bunny.net Stream!","presto-player")),!!ue&&(he=[],!X&&he.push({title:H.stream?(0,f.__)("Reconnect Stream","presto-player"):(0,f.__)("Connect Stream","presto-player"),onClick:function(){U("stream"),ce(!1)}}),!de&&he.push({title:H.storage?(0,f.__)("Reconnect Storage (Classic)","presto-player"):(0,f.__)("Connect Storage (Classic)","presto-player"),onClick:function(){return U("storage")}}),(0,x.tZ)(p.DropdownMenu,{icon:"ellipsis",label:(0,f.__)("Connection Options","presto-player"),controls:he})))),"storage"===R&&(0,x.tZ)(K,{isPrivate:pe,closePopup:function(){return j("")},noticeOperations:a,onSelect:fe}),"stream"===R&&(0,x.tZ)(Wn,{isPrivate:pe,closePopup:function(){return j("")},noticeOperations:a,onSelect:fe}))}))),io=r(6183);function lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var co=wp.i18n.__,uo="presto-player/bunny",po=so(so({},io.Z),{},{attributes:so(so({},io.Z.attributes),{thumbnail:{type:String,default:""},preview:{type:String,default:""}}),premium:!0,title:co("Presto Bunny.net Video","presto-player"),description:co("Serve video through Bunny.net CDN.","presto-player"),variations:[{name:"public",isDefault:!0,title:co("Presto Bunny.net Video","presto-player"),description:co("Serve public video through Bunny.net CDN.","presto-player"),attributes:{visibility:"public"}},{name:"private",title:co("Presto Bunny.net Private Video","presto-player"),icon:(0,x.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,x.tZ)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})),description:co("Serve private, secure video through Bunny.net CDN.","presto-player"),attributes:{visibility:"private"}}],icon:(0,x.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,x.tZ)("polyline",{points:"8 17 12 21 16 17"}),(0,x.tZ)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,x.tZ)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),edit:ao})},8024:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return fe},options:function(){return ye}});var n,o=r(9062),a=r(4942),i=(r(9307),r(3324)),l=r(2175),s=r(6263),c=r(2485),u=r(8989),p=r(4184),d=r.n(p),f=r(2777),y=r(917),v=window.location.href,m=wp.components,h=m.Button,b=(m.Notice,m.Placeholder),g=(m.DropZone,m.withFilters),__=(m.BaseControl,m.ToggleControl,m.FormFileUpload,wp.i18n.__),Z=wp.element,w=Z.useState,_=Z.useEffect,k=wp.data.useSelect,x=(wp.deprecated,wp.editor),C=x.MediaUpload,P=x.MediaUploadCheck,O=x.URLPopover,S=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,y.tZ)(O,{onClose:o},(0,y.tZ)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,y.tZ)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":__("URL","presto-player"),placeholder:__("Paste or type a Youtube, Vimeo or .mp4 video URL","presto-player"),onChange:r,value:t}),(0,y.tZ)(h,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:__("Apply","presto-player"),type:"submit"})))},E=g("editor.MediaPlaceholder")((function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,o=void 0===n?[]:n,a=e.className,l=e.icon,s=e.url,c=void 0===s||s,u=e.labels,p=void 0===u?{}:u,m=e.mediaPreview,g=e.notices,Z=e.isAppender,x=e.isPrivate,O=e.addToGallery,E=e.onSelect,$=e.onCancel,N=e.onSelectURL,T=e.onDoubleClick,A=e.children,R=e.allowURLs,j=k((function(e){return(0,e("core/block-editor").getSettings)().mediaUpload}),[]),L=w(""),I=(0,i.Z)(L,2),D=I[0],B=I[1],M=w(!1),F=(0,i.Z)(M,2),V=F[0],U=F[1];_((function(){var e;B(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")}),[r]);var z=function(e){B(e.target.value)},G=function(){U(!0)},H=function(){U(!1)},W=function(e){e.preventDefault(),D&&N&&(N(D),H())},q=function(e,t){var r=p.instructions,n=p.title;j||N||(r=__("To edit this block, you need permission to upload media.","presto-player"));var o=d()("block-editor-media-placeholder",a,{"is-appender":Z});return(0,y.tZ)(b,{icon:l,label:n,instructions:r,className:o,notices:g,onClick:t,onDoubleClick:T,preview:m},A,e)},Y=function(){return N&&(0,y.tZ)("div",{className:"block-editor-media-placeholder__url-input-container"},c&&(0,y.tZ)(h,{"data-cy":"video-url",className:"block-editor-media-placeholder__button",onClick:G,isPressed:V,isTertiary:!0},__("Video URL","presto-player")),V&&(0,y.tZ)(S,{src:D,onChange:z,onSubmit:W,onClose:H}))};return(0,y.tZ)(P,{fallback:q(Y())},function(){var e=(0,y.tZ)(C,{title:__(x?"Select or Upload Private Video":"Select or Upload Video","presto-player"),addToGallery:O,gallery:!1,multiple:!1,onSelect:function(e){f.Z.unsetUrlParams(),E(e)},onClose:function(){f.Z.unsetUrlParams()},allowedTypes:o,value:Array.isArray(r)?r.map((function(e){return e.id})):r.id,render:function(e){var t=e.open;return(0,y.tZ)(h,{"data-cy":"add-video",isPrimary:!0,onClick:function(e){e.stopPropagation(),f.Z.unsetUrlParams(),x?f.Z.setUrlPrivate(v):f.Z.setUrlPublic(v),t()}},__(x?"Add/Select Private Video":"Add/Select Video","presto-player"))}});if(j){var t=(0,y.tZ)(React.Fragment,null,e,!!R&&Y(),$&&(0,y.tZ)(h,{className:"block-editor-media-placeholder__cancel-button",title:__("Cancel","presto-player"),isLink:!0,onClick:$},__("Cancel","presto-player")));return q(t)}return q(e)}())})),$=r(9807),N=wp.i18n.__,T=wp.components,A=T.withNotices,R=T.BaseControl,j=T.ToggleControl,L=T.Notice,I=wp.data.dispatch,D=["video"],B=A((function(e){var t,r=e.noticeUI,n=e.onSelect,o=e.children,a=e.onSelectURL,i=e.onUploadError,l=e.setAttributes,s=e.attributes,c="private"===s.visibility;return(0,y.tZ)("div",null,(0,y.tZ)(E,{icon:c?(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,y.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),labels:{title:N(c?"Presto Private Video":"Presto Video","presto-player"),instructions:N(c?"Upload a video file, or pick one from your media library.":"Upload a video file, pick one from your media library, or add one with a URL.","presto-player")},onSelect:n,onSelectURL:a,switcher:!0,isPrivate:c,allowURLs:!c,accept:"video/*",setAttributes:l,allowedTypes:D,value:s,notices:r,onError:i},(0,y.tZ)("div",{style:{width:"100%"}},(0,y.tZ)(R,{className:"presto-player__placeholder-control"},(0,y.tZ)(j,{label:(0,y.tZ)("div",null,N("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.tZ)($.Z,null)),help:N(c?"This video is only accessible to those who are logged in.":"This video is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?l({visibility:e?"private":"public"}):I("presto-player/player").setProModal(!0)}})),!!o&&(0,y.tZ)("div",{style:{width:"100%"}},o),!!c&&(0,y.tZ)(L,{status:"warning",isDismissible:!1},(0,y.tZ)("div",null,(0,y.tZ)("div",null,(0,y.tZ)("strong",null,N("Note","presto-player"))),N("Private videos use php to stream your video. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player"))))))})),M=r(9235),F=r(7705),V=r(1713),U=wp.i18n.__,z=wp.blob,G=z.getBlobByURL,H=z.isBlobURL,W=wp.components,q=W.Button,Y=W.Disabled,X=W.Toolbar,K=W.Notice,Q=W.withNotices,J=W.Placeholder,ee=W.Spinner,te=wp.compose.compose,re=wp.element,ne=re.useEffect,oe=re.useState,ae=wp.data.dispatch,ie=wp.blocks.createBlock,le=["video"],se=te([(0,u.Z)(),(0,c.Z)()])(Q((function(e){e.noticeUI;var t=e.attributes,r=e.setAttributes,n=(e.isSelected,e.noticeOperations),o=e.branding,a=e.loading,c=e.presetData,u=e.createVideo,p=e.onRemoveSrc,d=e.renderKey,f=e.lockSave,v=e.unlockSave,m=e.clientId,h=e.defaultPreset,b=t.poster,g=t.src,Z=t.id,w=t.tracks,_=oe(""),k=(0,i.Z)(_,2),x=k[0],C=k[1],P=function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)};return ne((function(){if(!Z&&H(g)){var e=G(g);e&&mediaUpload({filesList:[e],onFileChange:function(e){var t=(0,i.Z)(e,1)[0].url;r({src:t})},onError:function(e){n.createErrorNotice(e)},allowedTypes:le})}}),[]),g?a||!Z?(0,y.tZ)(J,{className:"presto-player__placeholder is-loading"},(0,y.tZ)(ee,null)):(0,y.tZ)("div",null,(0,y.tZ)(l.BlockControls,null,(0,y.tZ)(M.Z,{tracks:w,onChange:function(e){r({tracks:e})}}),(0,y.tZ)(X,null,(0,y.tZ)(q,{onClick:function(){return p()}},U("Replace","presto-player")))),(0,y.tZ)(l.InspectorControls,null,(0,y.tZ)(F.Z,{setAttributes:r,attributes:t})),(0,y.tZ)("figure",null,(0,y.tZ)(Y,null,(0,y.tZ)(V.Z,{poster:b,src:g,id:Z,type:"hosted",attributes:t,setAttributes:r,preset:c,branding:o,key:d})))):(0,y.tZ)("div",null,(0,y.tZ)(B,{onSelect:function(e){e&&e.url?(r({src:e.url,preset:null==h?void 0:h.id,attachment_id:e.id}),f(),u({src:e.url,type:"attachment",attachment_id:e.id}).catch((function(e){r({src:""}),P(e)})).finally(v)):r({src:void 0,id:void 0})},onSelectURL:function(e){var t;if(r({attachment_id:null}),!e||!(0,s.dA)(e)||null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium){if(e!==g){var n=(0,s.Ln)(e).type;if("youtube"===n){var o=ie("presto-player/youtube",{src:e});return void ae("core/editor").replaceBlock(m,o)}if("vimeo"===n){var a=ie("presto-player/vimeo",{src:e});return void ae("core/editor").replaceBlock(m,a)}r({src:e,attachmend_id:null}),r({preset:null==h?void 0:h.id}),f(),u({src:e,type:"link"}).catch((function(e){r({src:""}),P(e)})).finally(v)}}else C((0,y.tZ)(K,{status:"info",onRemove:function(){return C("")}},(0,y.tZ)("div",null,(0,y.tZ)("div",null,(0,y.tZ)("strong",null,U("Get HLS Streaming and more with Presto Player Pro!","presto-player"))),U("Stream HLS links and more with Presto Player Pro.","presto-player"),(0,y.tZ)("div",{style:{marginTop:"1em"}},(0,y.tZ)(q,{isPrimary:!0},U("Upgrade","presto-player"))))))},setAttributes:r,attributes:t,onError:function(e){n.removeAllNotices(),n.createErrorNotice(e)}},x))}))),ce=r(6183);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=wp.i18n.__,fe="presto-player/self-hosted",ye=pe(pe({},ce.Z),{},{title:de("Presto Video","presto-player"),description:de("Presto Self-hosted video block.","presto-player"),variations:[{name:"public",isDefault:!0,title:de("Presto Video","presto-player"),description:de("Presto Self-hosted video block.","presto-player"),attributes:{visibility:"public"}}].concat((0,o.Z)(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium?[{name:"private",title:de("Presto Private Video","presto-player"),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:de("Private video self-hosted block.","presto-player"),attributes:{visibility:"private"}}]:[])),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,y.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),edit:se})},6055:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return u},options:function(){return p}}),r(9307);var n=r(5736),o=r(4831),a=r(2175),i=r(5609),l=r(7798),s=r(9818),c=r(917),u="presto-player/playlist-list-item",p={attributes:{id:{type:Number,default:0},title:{type:String,default:""},duration:{type:String,default:""}},category:"presto",parent:["presto-player/playlist-list"],title:(0,n.__)("Playlist Item","presto-player"),description:(0,n.__)("Playlist Item","presto-player"),usesContext:["presto-player/playlist-media-id"],edit:function(e){var t,r=e.attributes,u=e.setAttributes,p=e.context,d=r.id,f=r.title,y=r.duration,v=(0,a.useBlockProps)(),m=(0,s.useSelect)((function(e){var t;if(!d)return{};var r=["postType","pp_video_block",d];return(t=e(l.store)).getEditedEntityRecord.apply(t,r)}),[d]).video;return(0,c.tZ)(React.Fragment,null,(0,c.tZ)(a.InspectorControls,null,(0,c.tZ)(i.PanelBody,{title:(0,n.__)("General","presto-player"),initialOpen:!0},(0,c.tZ)(i.TextControl,{label:(0,n.__)("Title","presto-player"),value:f,onChange:function(e){u({title:e})}}),(0,c.tZ)(i.TextControl,{label:(0,n.__)("Duration","presto-player"),value:y,onChange:function(e){u({duration:e})}}))),(0,c.tZ)("div",v,(0,c.tZ)(o.T9,{active:p["presto-player/playlist-media-id"]===d},(0,c.tZ)("div",{className:"item-title",slot:"item-title"},(0,c.tZ)(a.RichText,{tagName:"span",value:f||(null==m||null===(t=m.title)||void 0===t?void 0:t.raw),allowedFormats:[],onChange:function(e){return u({title:e})},placeholder:(0,n.__)("Title...","presto-player")})),(0,c.tZ)("div",{className:"item-duration",slot:"item-duration"},(0,c.tZ)(a.RichText,{tagName:"span",value:y,allowedFormats:[],onChange:function(e){return u({duration:e})}})))))},icon:(0,c.tZ)("svg",{width:"19",height:"14",className:"playlist-block-icon",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,c.tZ)("path",{d:"M0 10H7V8H0M15 8V4H13V8H9V10H13V14H15V10H19V8M11 0H0V2H11M11 4H0V6H11V4Z",fill:"currentColor"}))}},8952:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return O},options:function(){return S}});var n=r(9307),o=r(2175),a=r(5736),i=r(5861),l=r(168),s=r(3324),c=r(1284),u=r.n(c),p=r(7453),d=r(4981),f=r(7798),y=r(9818),v=r(1006),m=r(4942),h=r(5987);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g,Z,w=function(e){var t=e.icon,r=e.size,o=void 0===r?24:r,a=(0,h.Z)(e,["icon","size"]);return(0,n.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:o,height:o},a))},_=r(444),k=(0,n.createElement)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(_.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),x=r(5609),C=r(917),P=function(e){var t=e.onCreate,r=e.onRequestClose,o=(0,n.useState)(""),i=(0,s.Z)(o,2),l=i[0],c=i[1];return(0,C.tZ)(x.Modal,{title:(0,a.__)("Add New Playlist Item","presto-player"),onRequestClose:r},(0,C.tZ)(x.Flex,{direction:"column",gap:4},(0,C.tZ)(x.TextControl,{value:l,onChange:function(e){return c(e)},placeholder:(0,a.__)("Title","presto-player"),required:!0,label:(0,a.__)("Title","presto-player"),autoFocus:!0}),(0,C.tZ)(x.Flex,{justify:"start",align:"center"},(0,C.tZ)(x.Button,{style:{margin:0},variant:"primary",onClick:function(){return t(l)}},(0,a.__)("Create","presto-player")),(0,C.tZ)(x.Button,{variant:"tertiary",style:{margin:0},onClick:r},(0,a.__)("Cancel","presto-player")))))},O="presto-player/playlist-list",S={apiVersion:"2",attributes:{lock:{type:Object,default:{remove:!0,move:!1}}},category:"presto",supports:{align:!0},save:function(){return(0,C.tZ)(o.InnerBlocks.Content,null)},parent:["presto-player/playlist-block"],title:(0,a.__)("Playlist List","presto-player"),description:(0,a.__)("Presto Playlist List Block - Holds the Playlist List Items.","presto-player"),edit:function(e){var t=e.clientId,r=e.isSelected,c=(0,y.useDispatch)(o.store),m=c.selectBlock,h=c.insertBlock,b=(0,y.useDispatch)(f.store).saveEntityRecord,_=(0,o.useBlockProps)({slot:"list"}),C=(0,n.useState)(!1),O=(0,s.Z)(C,2),S=O[0],E=O[1],$=(0,a.__)("Add Media","presto-player"),N=(0,y.useSelect)((function(e){return(e("core/block-editor").getBlocks(t)||[]).map((function(e){return parseInt(e.attributes.id)}))}),[t]),T=(0,o.useInnerBlocksProps)(_,{renderAppender:function(){return(0,p.tZ)(v.Z,{onCreate:function(){return E(!0)},value:N,popoverProps:{placement:"bottom-center"},onSelect:function(e){var r;return h((0,d.createBlock)("presto-player/playlist-list-item",{id:e.id,title:null===(r=e.title)||void 0===r?void 0:r.raw}),999999,t)},css:(0,p.iv)(g||(g=(0,l.Z)(["\n          width: 100%;\n          padding: 5px;\n          box-sizing: border-box !important;\n        "]))),renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,p.tZ)(x.Button,{className:"block-editor-button-block-appender",onClick:r,"aria-haspopup":!0,"aria-expanded":t,label:$,css:(0,p.iv)(Z||(Z=(0,l.Z)(["\n              box-sizing: border-box !important;\n            "])))},(0,p.tZ)(x.VisuallyHidden,{as:"span"},$),(0,p.tZ)(w,{icon:k}))}})},allowedBlocks:["presto-player/reusable-display"],templateLock:!1}),A=function(){var e=(0,i.Z)(u().mark((function e(r){var n,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("postType","pp_video_block",{title:r,status:"publish",content:'\x3c!-- wp:presto-player/reusable-edit --\x3e\n        <div class="wp-block-presto-player-reusable-edit"></div>\n        \x3c!-- /wp:presto-player/reusable-edit --\x3e'},{throwOnError:!0});case 2:n=e.sent,o=n.id,a=n.title.raw,h((0,d.createBlock)("presto-player/playlist-list-item",{id:o,title:a}),999999,t);case 6:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),R=(0,y.useSelect)((function(e){var r=e("core/block-editor").getBlockHierarchyRootClientId(t),n=e("core/block-editor").getBlockAttributes(r);return{listCount:e("core/block-editor").getBlocks(t).length,heading:null==n?void 0:n.heading,listTextPlural:null==n?void 0:n.listTextPlural,listTextSingular:null==n?void 0:n.listTextSingular,parentClientId:r}}),[t]),j=R.listCount,L=R.heading,I=R.listTextSingular,D=R.listTextPlural,B=R.parentClientId;return(0,n.useEffect)((function(){r&&m(B)}),[r]),(0,p.tZ)(React.Fragment,null,(0,p.tZ)("div",{slot:"title"},L),(0,p.tZ)("div",{slot:"count"},j," ",j>1?D:I),(0,p.tZ)("div",T),S&&(0,p.tZ)(P,{onRequestClose:function(){return E(!1)},onCreate:A}))},icon:(0,C.tZ)("svg",{width:"20",height:"14",className:"playlist-block-icon",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,C.tZ)("path",{d:"M11 4H0V6H11V4ZM11 0H0V2H11V0ZM0 10H7V8H0V10ZM18.5 5.5L20 7L13 14L8.5 9.5L10 8L13 11L18.5 5.5Z",fill:"currentColor"}))}},503:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return i},options:function(){return l}}),r(9307);var n=r(5736),o=r(2175),a=r(917),i="presto-player/playlist-preview",l={apiVersion:"2",attributes:{lock:{type:Object,default:{remove:!0,move:!0}}},category:"presto",supports:{align:!0},parent:["presto-player/playlist"],title:(0,n.__)("Playlist Preview","presto-player"),description:(0,n.__)("Presto Playlist Preview Block - Shows the preview of the playlist item.","presto-player"),edit:function(){var e=(0,o.useBlockProps)({slot:"preview"}),t=(0,o.useInnerBlocksProps)(e,{renderAppender:o.InnerBlocks.ButtonBlockAppender,templateLock:"all",template:[["presto-player/reusable-display"]],allowedBlocks:["presto-player/reusable-display"]});return(0,a.tZ)("div",t)},icon:(0,a.tZ)("svg",{width:"19",height:"14",className:"playlist-block-icon",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.tZ)("path",{d:"M0 0V2H11V0H0ZM0 4V6H11V4H0ZM17 4.1C16.9 4.1 16.7 4.2 16.6 4.3L15.6 5.3L17.7 7.4L18.7 6.4C18.9 6.2 18.9 5.8 18.7 5.6L17.4 4.3C17.3 4.2 17.2 4.1 17 4.1ZM15.1 5.9L9 11.9V14H11.1L17.2 7.9L15.1 5.9ZM0 8V10H7V8H0Z",fill:"currentColor"}))}},277:function(e,t,r){"use strict";r.r(t),r.d(t,{metadata:function(){return S},name:function(){return E},options:function(){return $}});var n,o,a,i,l=r(9307),s=r(5736),c=r(7462),u=r(168),p=r(7453),d=r(4831),f=r(2175),y=r(4981),v=r(5609),m=r(5861),h=r(3324),b=r(1284),g=r.n(b),Z=r(7798),w=r(9818),_=r(3961),k=r(1006),x=r(917),C=function(e){var t=e.selectedItems,r=e.setAttributes,n=e.className,o=(0,l.useState)("select"),a=(0,h.Z)(o,2),i=a[0],c=a[1],u=(0,l.useState)(!1),p=(0,h.Z)(u,2),d=p[0],f=p[1],y=(0,l.useState)(""),b=(0,h.Z)(y,2),C=b[0],P=b[1],O=(0,w.useDispatch)(Z.store).saveEntityRecord,S=(0,w.useDispatch)(_.store).createErrorNotice,E=function(){var e=(0,m.Z)(g().mark((function e(){var t,n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&!d){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,f(!0),e.next=6,O("postType","pp_video_block",{title:C,status:"publish",content:'\x3c!-- wp:presto-player/reusable-edit --\x3e\n          <div class="wp-block-presto-player-reusable-edit"></div>\n          \x3c!-- /wp:presto-player/reusable-edit --\x3e'},{throwOnError:!0});case 6:t=e.sent,n=t.id,o=t.title.raw,r({id:n,title:o||C}),f(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),S((null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,s.__)("Something went wrong","presto-player"));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return"create"===i?(0,x.tZ)(v.Flex,{className:n,direction:"column",gap:4},(0,x.tZ)(v.TextControl,{value:C,onChange:function(e){return P(e)},placeholder:(0,s.__)("Title","presto-player"),required:!0,label:(0,s.__)("Title","presto-player"),disabled:d,autoFocus:!0}),(0,x.tZ)(v.Flex,{justify:"start",align:"center"},(0,x.tZ)(v.Button,{style:{margin:0},variant:"primary",isBusy:d,onClick:d?function(){}:E},(0,s.__)("Create","presto-player")," ",d&&(0,x.tZ)(v.Spinner,{style:{marginTop:0}})),(0,x.tZ)(v.Button,{variant:"tertiary",style:{margin:0},isBusy:d,onClick:function(){return c(!1)}},"← ",(0,s.__)("Go Back","presto-player")))):(0,x.tZ)(v.Flex,{className:n,direction:"column",gap:4},(0,x.tZ)(k.Z,{popoverProps:{placement:"bottom-start"},value:t,onSelect:function(e){var t;return r({id:e.id,title:null==e||null===(t=e.title)||void 0===t?void 0:t.raw})},onCreate:function(){return c("create")}}))},P=r(6269),O=["presto-player/playlist-preview","presto-player/playlist-list"],S=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/playlist","apiVersion":2,"title":"Presto Playlist","category":"presto","description":"Create a playlist of videos or audio.","keywords":["playlist","video"],"textdomain":"presto-player","supports":{"align":true,"multiple":false,"color":{"gradients":false,"link":false,"__experimentalDefaultControls":{"background":true,"text":true}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}},"attributes":{"heading":{"type":"string","default":"Playlist"},"selectedItem":{"type":"number","default":null},"listTextSingular":{"type":"string","default":"Video"},"listTextPlural":{"type":"string","default":"Videos"},"color":{"type":"string"},"textColor":{"type":"string"},"highlightColor":{"type":"string"},"transitionDuration":{"type":"number","default":5},"matchPlaylistToPlayerColor":{"type":"boolean"}},"providesContext":{"presto-player/playlist-media-id":"selectedItem"},"script":"presto-components"}'),E=S.name,$={icon:(0,x.tZ)("svg",{width:"19",height:"15",className:"playlist-block-icon",viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,x.tZ)("path",{d:"M0 4H11V6H0V4ZM0 0H11V2H0V0ZM0 8H7V10H0V8ZM13 7V15L19 11L13 7Z",fill:"currentColor"})),edit:function(e){var t,r,m,h,b,g,Z,_=e.attributes,k=e.setAttributes,x=e.clientId,S=_.heading,E=_.listTextSingular,$=_.listTextPlural,N=_.highlightColor,T=_.transitionDuration,A=_.selectedItem,R=_.matchPlaylistToPlayerColor,j=(0,w.useDispatch)(f.store).replaceInnerBlocks,L=(0,f.useBlockProps)({css:(0,p.iv)(n||(n=(0,u.Z)(["\n      wp-block,\n      [data-block] {\n        margin: 0 !important;\n        max-width: none !important;\n      }\n    "])))}),I=(0,w.useSelect)((function(e){var t=e(f.store).getBlocks(x),r=(t||[]).find((function(e){return"presto-player/playlist-list"===e.name})),n=(t||[]).find((function(e){return"presto-player/playlist-preview"===e.name}));return{selectedBlock:e(f.store).getSelectedBlock(),previewWrapper:n,playlistBlocks:e(f.store).getBlocks(null==r?void 0:r.clientId),previewBlocks:e(f.store).getBlocks(null==n?void 0:n.clientId),playListWrapper:r}}),[x]),D=I.selectedBlock,B=I.playlistBlocks,M=I.playListWrapper;(0,l.useEffect)((function(){var e,t;null!=D&&null!==(e=D.attributes)&&void 0!==e&&e.id&&"presto-player/playlist-list-item"===D.name&&k({selectedItem:parseInt(null==D||null===(t=D.attributes)||void 0===t?void 0:t.id)})}),[B,null==D||null===(t=D.attributes)||void 0===t?void 0:t.id]),(0,l.useEffect)((function(){if(!A){var e,t,r,n,o=parseInt(null==B||null===(e=B[0])||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.id);isNaN(o)||k({selectedItem:parseInt(null==B||null===(r=B[0])||void 0===r||null===(n=r.attributes)||void 0===n?void 0:n.id)})}}),[B]);var F=(0,f.useInnerBlocksProps)(L,{renderAppender:!1,allowedBlocks:O,template:[["presto-player/playlist-preview"],["presto-player/playlist-list"]],templateLock:"all"}),V=(0,f.__experimentalUseMultipleOriginColorsAndGradients)(),U=(0,f.__experimentalUseBorderProps)(_),z=(0,f.__experimentalUseColorProps)(_);return 0===B.length?(0,p.tZ)("div",L,(0,p.tZ)(v.Placeholder,{icon:(0,p.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"playlist-block-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.tZ)("path",{fill:"currentColor",d:"M3 10h11v2H3zm0-4h11v2H3zm0 8h7v2H3zm13-1v8l6-4z"})),instructions:(0,s.__)("Add a Playlist Item to get started.","presto-player"),label:(0,s.__)("Presto Player Playlist","presto-player"),isColumnLayout:!0},(0,p.tZ)(C,{css:(0,p.iv)(o||(o=(0,u.Z)(["\n              max-width: 600px;\n            "]))),setAttributes:function(e){var t=e.id,r=e.title;k({selectedItem:t}),j(null==M?void 0:M.clientId,[(0,y.createBlock)("presto-player/playlist-list-item",{id:t,title:r})])}}))):(0,p.tZ)(React.Fragment,null,(0,p.tZ)(f.InspectorControls,{group:"color"},(0,p.tZ)(f.__experimentalColorGradientSettingsDropdown,(0,c.Z)({__experimentalIsRenderedInSidebar:!0,settings:[{colorValue:N,label:(0,s.__)("Highlight Color"),onColorChange:function(e){return k({highlightColor:e})},resetAllFilter:function(){return k({highlightColor:void 0})}}]},V,{panelId:x,gradients:[],disableCustomGradients:!0})),(0,p.tZ)(f.ContrastChecker,{backgroundColor:N,textColor:"#ffffff"}),P(null===(r=prestoPlayer)||void 0===r?void 0:r.proVersion,"2.0.4")>=0&&!!N&&(0,p.tZ)(v.ToggleControl,{label:(0,s.__)("Pass highlight color to player","presto-player"),help:(0,s.__)("Use the playlist highlight color as player color in case your playlist color is different from your brand.","presto-player"),checked:R,onChange:function(e){return k({matchPlaylistToPlayerColor:e})},css:(0,p.iv)(a||(a=(0,u.Z)(["\n                min-width: 250px;\n              "])))})),(0,p.tZ)(f.InspectorControls,null,(0,p.tZ)(v.PanelBody,{title:(0,s.__)("General","presto-player"),initialOpen:!0},(0,p.tZ)(v.TextControl,{label:(0,s.__)("Playlist Title","presto-player"),value:S,onChange:function(e){return k({heading:e})}}),(0,p.tZ)(v.TextControl,{label:(0,s.__)("Playlist Items Text - Singular","presto-player"),value:E,onChange:function(e){return k({listTextSingular:e})}}),(0,p.tZ)(v.TextControl,{label:(0,s.__)("Playlist Items Text - Plural","presto-player"),value:$,onChange:function(e){return k({listTextPlural:e})}}),(0,p.tZ)(v.__experimentalNumberControl,{label:(0,s.__)("Transition Duration (Seconds)","presto-player"),value:T,onChange:function(e){return k({transitionDuration:e})},max:30,min:.5,step:.1}))),(0,p.tZ)("div",{style:{"--presto-playlist-highlight-color":N,"--presto-player-highlight-color":R?N:"","--presto-playlist-background-color":null==z||null===(m=z.style)||void 0===m?void 0:m.backgroundColor,"--presto-playlist-text-color":null==z||null===(h=z.style)||void 0===h?void 0:h.color,"--presto-playlist-border-color":null==U||null===(b=U.style)||void 0===b?void 0:b.borderColor,"--presto-playlist-border-width":null==U||null===(g=U.style)||void 0===g?void 0:g.borderWidth,"--presto-playlist-border-radius":null==U||null===(Z=U.style)||void 0===Z?void 0:Z.borderRadius,border:"none"},css:(0,p.iv)(i||(i=(0,u.Z)(["\n          width: 100%;\n          .wp-block-video {\n            margin: 0 !important;\n          }\n        "])))},(0,p.tZ)(d.Gc,F)))},save:function(){var e=f.useBlockProps.save(),t=f.useInnerBlocksProps.save(e);return(0,x.tZ)("div",t)}}},318:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return h},options:function(){return b}});var n,o,a=r(9307),i=r(168),l=r(3324),s=r(7453),c=r(2175),u=r(4981),p=r(5609),d=r(7798),f=r(9818),y=r(5736),v=r(917),m=wp.blockEditor,h=(m.InnerBlocks,m.useBlockProps,"presto-player/reusable-display"),b={title:"Reusable Block Display",category:"presto",attributes:{id:Number},supports:{align:!0,inserter:!1,reusable:!1,html:!1},usesContext:["presto-player/playlist-media-id"],icon:(0,v.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,v.tZ)("circle",{cx:"12",cy:"12",r:"10"}),(0,v.tZ)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,v.tZ)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),edit:function(e){var t=e.attributes,r=e.context,v=e.isSelected,m=e.clientId,h=t.id,b=r["presto-player/playlist-media-id"]||h,g=(0,c.useBlockProps)(),Z=(0,f.useDispatch)("core/editor").selectBlock,w=(0,d.useEntityBlockEditor)("postType","pp_video_block",{id:b}),_=(0,l.Z)(w,3),k=_[0],x=_[1],C=_[2],P=(0,d.useEntityProp)("postType","pp_video_block","title",b),O=(0,l.Z)(P,2),S=O[0],E=O[1],$=(0,c.useInnerBlocksProps)(g,{value:k,onInput:x,onChange:C,templateLock:"all"});(0,a.useEffect)((function(){if(v&&r["presto-player/playlist-media-id"]){var e=wp.data.select("core/block-editor").getBlockOrder(m)[0];Z(e)}}),[v]);var N,T=function(e){return C([(0,u.createBlock)("presto-player/".concat(e))],{})},A=(0,f.useSelect)((function(e){var t,r=["postType","pp_video_block",b],n=e(d.store).hasFinishedResolution("getEntityRecord",r),o=(t=e(d.store)).getEntityRecord.apply(t,r);return{canEdit:e(d.store).canUserEditEntityRecord("pp_video_block"),isMissing:n&&!o,hasResolved:n,isResolving:e(d.store).isResolving("getEntityRecord",r),form:o}}),[b]),R=A.isMissing;return A.hasResolved?b||void 0===r["presto-player/playlist-media-id"]?R?(0,s.tZ)("div",g,(0,y.__)("The selected media item has been deleted or is unavailable.","presto-player")):k.length?(0,s.tZ)(React.Fragment,null,(0,s.tZ)(c.InspectorControls,null,(0,s.tZ)(p.PanelBody,{title:(0,y.__)("Media Hub Title","surecart")},(0,s.tZ)(p.PanelRow,null,(0,s.tZ)(p.TextControl,{label:(0,y.__)("Media Hub Title","surecart"),value:S,onChange:function(e){return E(e)}})))),(0,s.tZ)("div",$)):(0,s.tZ)(p.Placeholder,{css:(0,s.iv)(o||(o=(0,i.Z)(["\n          &.components-placeholder {\n            min-height: 350px;\n          }\n        "]))),icon:(0,s.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,s.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,s.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:(0,y.__)("Choose a video type to get started.","presto-player"),label:(0,y.__)("Choose a Video Type","presto-player")},(0,s.tZ)(p.Button,{variant:"primary",onClick:function(){T("self-hosted")}},(0,y.__)("Video","presto-player")),(0,s.tZ)(p.Button,{variant:"primary",onClick:function(){T("youtube")}},(0,y.__)("Youtube","presto-player")),(0,s.tZ)(p.Button,{variant:"primary",onClick:function(){T("vimeo")}},(0,y.__)("Vimeo","presto-player")),!(null===(N=prestoPlayer)||void 0===N||!N.isPremium)&&(0,s.tZ)(p.Button,{variant:"primary",onClick:function(){T("bunny")}},(0,y.__)("Bunny.net","presto-player")),(0,s.tZ)(p.Button,{variant:"primary",onClick:function(){T("audio")}},(0,y.__)("Audio","presto-player"))):(0,s.tZ)(p.Placeholder,{css:(0,s.iv)(n||(n=(0,i.Z)(["\n          &.components-placeholder {\n            min-height: 350px;\n          }\n        "]))),withIllustration:!0}):(0,s.tZ)("div",g,(0,s.tZ)(p.Placeholder,null,(0,s.tZ)(p.Spinner,null)))},save:function(){return null}}},2692:function(e,t,r){"use strict";r.r(t),r.d(t,{metadata:function(){return f},name:function(){return y},options:function(){return v}});var n,o=r(9307),a=r(5736),i=r(168),l=r(7453),s=r(2175),c=r(4981),u=r(5609),p=r(9818),d=r(917),f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/reusable-edit","apiVersion":2,"title":"Reusable Block Container","category":"presto","description":"Create a playlist of videos or audio.","textdomain":"presto-player","usesContext":["presto-player/playlist-media-id"],"supports":{"inserter":false,"reusable":false,"html":false},"script":"presto-components"}'),y=f.name,v={icon:(0,d.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,d.tZ)("circle",{cx:"12",cy:"12",r:"10"}),(0,d.tZ)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,d.tZ)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),edit:function(e){var t,r=e.clientId,d=e.isSelected,f=e.context,y=(0,p.useDispatch)(s.store),v=y.insertBlock,m=y.selectBlock,h=(0,p.useDispatch)(s.store).setTemplateValidity,b=(0,p.useSelect)((function(e){return e(s.store).getBlock(r).innerBlocks})),g=(0,s.useBlockProps)(),Z=(0,s.useInnerBlocksProps)(g,{templateLock:!1,renderAppender:!1}),w=function(e){return v((0,c.createBlock)("presto-player/".concat(e)),0,r)};return h(!0),(0,o.useEffect)((function(){if(d&&f["presto-player/playlist-media-id"]){var e=(0,p.select)(s.store).getBlockOrder(r)[0];e&&m(e)}}),[d]),null!=b&&b.length?(0,l.tZ)("div",g,(0,l.tZ)("div",Z)):(0,l.tZ)("div",g,(0,l.tZ)(u.Placeholder,{css:(0,l.iv)(n||(n=(0,i.Z)(["\n            &.components-placeholder {\n              min-height: 350px;\n            }\n          "]))),icon:(0,l.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,l.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,l.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:(0,a.__)("Choose a video type to get started.","presto-player"),label:(0,a.__)("Choose a Video Type","presto-player")},(0,l.tZ)(u.Button,{isPrimary:!0,onClick:function(){w("self-hosted")}},(0,a.__)("Video","presto-player")),(0,l.tZ)(u.Button,{isPrimary:!0,onClick:function(){return w("youtube")}},(0,a.__)("Youtube","presto-player")),(0,l.tZ)(u.Button,{isPrimary:!0,onClick:function(){return w("vimeo")}},(0,a.__)("Vimeo","presto-player")),null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?(0,l.tZ)(u.Button,{isPrimary:!0,onClick:function(){return w("bunny")}},(0,a.__)("Bunny.net","presto-player")):"",(0,l.tZ)(u.Button,{isPrimary:!0,onClick:function(){return w("audio")}},(0,a.__)("Audio","presto-player"))),(0,l.tZ)("div",Z))},save:function(){var e=s.useBlockProps.save(),t=s.useInnerBlocksProps.save(e);return(0,d.tZ)("div",t)}}},4048:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return P},options:function(){return O}});var n=r(4942),o=(r(9307),r(2175)),a=r(2485),i=r(8989),l=r(7705),s=r(1713),c=r(2383),u=r(6263),p=r(7161),d=r(917),f=wp.components,y=f.Button,v=f.Disabled,m=f.Toolbar,h=f.Placeholder,b=f.Spinner,g=f.withNotices,Z=wp.element.useEffect,__=wp.i18n.__,w=(0,wp.compose.compose)([(0,i.Z)(),(0,a.Z)()])(g((function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,a=e.noticeOperations,i=e.loading,f=e.createVideo,g=e.lockSave,w=e.unlockSave,_=e.presetData,k=e.onRemoveSrc,x=e.renderKey,C=t.poster,P=t.src,O=t.id,S=(0,p.D9)(P);return Z((function(){S&&r({id:0});var e=(0,u.L2)(P);r({video_id:e}),g(),f({src:P,external_id:e,type:"vimeo"}).catch((function(e){r({src:""}),function(e){a.removeAllNotices(),a.createErrorNotice(null==e?void 0:e.message)}(e)})).finally(w)}),[P]),P?i||!O?(0,d.tZ)(h,{className:"presto-player__placeholder is-loading"},(0,d.tZ)(b,null)):(0,d.tZ)(React.Fragment,null,(0,d.tZ)(o.BlockControls,null,(0,d.tZ)(m,null,(0,d.tZ)(y,{onClick:function(){return k()}},__("Replace","presto-player")))),(0,d.tZ)(o.InspectorControls,null,(0,d.tZ)(l.Z,{setAttributes:r,attributes:t})),(0,d.tZ)("figure",null,(0,d.tZ)(v,null,(0,d.tZ)(s.Z,{poster:C,src:P,type:"vimeo",id:O,attributes:t,setAttributes:r,preset:_,branding:n,key:x})))):(0,d.tZ)("div",null,(0,d.tZ)(c.Z,{icon:(0,d.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,d.tZ)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),label:__("Presto Vimeo Video","presto-player"),instructions:__("Enter Vimeo Video URL","presto-player"),placeholder:__("Vimeo URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==P&&r({src:e})}}))}))),_=r(6183);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=wp.i18n.__,P="presto-player/vimeo",O=x(x({},_.Z),{},{attributes:x(x({},_.Z.attributes),{},{video_id:{type:String}}),title:C("Presto Vimeo Video","presto-player"),description:C("A vimeo video wrapped in an awesome player.","presto-player"),icon:(0,d.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,d.tZ)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),edit:w})},8989:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=wp.data.withSelect;function o(e){return n((function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getPresets"),presets:e("presto-player/player").getPresets(),defaultPreset:e("presto-player/player").getDefaultPreset()}}))}},2485:function(e,t,r){"use strict";var n=r(7462),o=r(4942),a=r(5861),i=r(3324),l=(r(9307),r(1284)),s=r.n(l),c=r(7161),u=r(9512),p=r(917);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=wp.compose.createHigherOrderComponent,v=wp.element,m=v.useEffect,h=v.useState;t.Z=function(){return y((function(e){return function(t){var r=t.presets,o=t.attributes,l=t.setAttributes,d=t.defaultPreset,y=t.isSelected,v=t.branding,b=h({}),g=(0,i.Z)(b,2),Z=g[0],w=g[1],k=h(1),x=(0,i.Z)(k,2),C=x[0],P=x[1],O=o.poster,S=o.chapters;m((function(){y&&null!=o&&o.selectionOverrideClientId&&wp.data.dispatch("core/block-editor").selectBlock(null==o?void 0:o.selectionOverrideClientId)}),[y]),m((function(){if(r&&r.length){var e=r.find((function(e){return e.id===(null==o?void 0:o.preset)}));e?w(e):(w(d),l({preset:null==d?void 0:d.id}))}}),[r,null==o?void 0:o.preset]),m((function(){E()}),[O,Z,S,v.logo]);var E=function(){P(C+1)},$=(0,c.D9)(S);m((function(){var e=null==S?void 0:S.map((function(e){return e.time})),t=null==$?void 0:$.map((function(e){return e.time}));_.difference(e,t).length&&E()}),[S]);var N=function(){var e=(0,a.Z)(s().mark((function e(t){var r,n,o,a,i,c,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,o=t.attachment_id,a=t.type,i=t.title,r||n||o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,u.Z)({method:"POST",path:"/presto-player/v1/videos",data:f(f({attachment_id:o,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},i?{title:i}:{}),{},{src:r,type:a})});case 5:c=e.sent,p=c.id,l({id:p});case 8:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();return null!=o&&o.preset||l({preset:null==d?void 0:d.id}),(0,p.tZ)(e,(0,n.Z)({},t,{lockSave:function(){return wp.data.dispatch("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return wp.data.dispatch("core/editor").unlockPostSaving("presto-player")},createVideo:N,onUpdate:E,onRemoveSrc:function(){confirm("Remove this video?")&&l(f(f(f(f({src:"",id:void 0},null!=o&&o.thumbnail?{thumbnail:null}:{}),null!=o&&o.preview?{preview:null}:{}),null!=o&&o.previewSrc?{previewSrc:null}:{}),null!=o&&o.previewThumbnail?{previewThumbnail:null}:{}))},presetData:Z,setPresetData:w,renderKey:C}))}}),"withPlayerEdit")}},2132:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return P},options:function(){return O}});var n=r(4942),o=(r(9307),r(2175)),a=r(2485),i=r(8989),l=r(7705),s=r(1713),c=r(2383),u=r(6263),p=r(7161),d=r(917),f=wp.components,y=f.Button,v=f.Disabled,m=f.Toolbar,h=f.Placeholder,b=f.Spinner,g=f.withNotices,Z=wp.element.useEffect,__=wp.i18n.__,w=(0,wp.compose.compose)([(0,i.Z)(),(0,a.Z)()])(g((function(e){var t=e.attributes,r=e.setAttributes,n=e.noticeOperations,a=e.branding,i=e.createVideo,f=e.loading,g=e.presetData,w=e.onRemoveSrc,_=e.lockSave,k=e.unlockSave,x=e.renderKey,C=t.poster,P=t.src,O=t.id,S=(0,p.D9)(P);return Z((function(){S&&r({id:0});var e=(0,u.qS)(P);r({video_id:e}),_(),i({src:P,external_id:e,type:"youtube"}).catch((function(e){r({src:""}),function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)}(e)})).finally(k)}),[P]),P?f||!O?(0,d.tZ)(h,{className:"presto-player__placeholder is-loading"},(0,d.tZ)(b,null)):(0,d.tZ)(React.Fragment,null,(0,d.tZ)(o.BlockControls,null,(0,d.tZ)(m,null,(0,d.tZ)(y,{onClick:function(){return w()}},__("Replace","presto-player")))),(0,d.tZ)(o.InspectorControls,null,(0,d.tZ)(l.Z,{setAttributes:r,attributes:t})),(0,d.tZ)("figure",null,(0,d.tZ)(v,null,(0,d.tZ)(s.Z,{poster:C,src:P,type:"youtube",id:O,attributes:t,setAttributes:r,preset:g,branding:a,key:x})))):(0,d.tZ)("div",null,(0,d.tZ)(c.Z,{icon:(0,d.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,d.tZ)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,d.tZ)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),label:__("Presto Youtube Video","presto-player"),instructions:__("Enter Youtube Video URL","presto-player"),placeholder:__("Youtube URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==P&&r({src:e})}}))}))),_=r(6183);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=wp.i18n.__,P="presto-player/youtube",O=x(x({},_.Z),{},{attributes:x(x({},_.Z.attributes),{},{video_id:{type:String}}),title:C("Presto Youtube Video","presto-player"),description:C("A youtube video wrapped in an awesome player.","presto-player"),icon:(0,d.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,d.tZ)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,d.tZ)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),edit:w})},5367:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return w},options:function(){return k}});var n=r(5861),o=r(3324),a=r(9307),i=r(1284),l=r.n(i),s=r(5736),c=r(5609),u=window.wp.editPost,p=r(9818),d=r(4981),f=r(6989),y=r.n(f),v=r(917);function m(_x){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(l().mark((function e(t){var r,n,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("presto-shortcode-input").value,n=t.currentTarget,o=n.textContent,t.currentTarget.textContent=(0,s.__)("Copied!","presto-player"),setTimeout((function(){n.textContent=o}),1500),!navigator.clipboard||!window.isSecureContext){e.next=9;break}return e.abrupt("return",navigator.clipboard.writeText(r));case 9:return(a=document.createElement("textarea")).value=r,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select(),e.abrupt("return",new Promise((function(e,t){document.execCommand("copy")?e():t(),a.remove()})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){return(0,v.tZ)(c.PanelBody,{title:(0,s.__)("Timestamp Shortcode","presto-player")},(0,v.tZ)("div",{className:"block-editor-inserter__shortcode-input"},(0,v.tZ)("p",null,(0,s.__)("Add convenient links to skip the player to a specific timestamp.","presto-player")),(0,v.tZ)("input",{id:"presto-shortcode-input",style:{width:"100%",fontSize:"11px",marginBottom:"10px"},type:"text",readOnly:!0,value:'[pptime time="1:00"]Optional Text[/pptime]'}),(0,v.tZ)("button",{type:"button",className:"components-button is-primary",onClick:m},(0,s.__)("Copy to clipboard","presto-player"))))},g=function(e){var t=e.icon,r=e.title,n=e.id,o=e.selectBlock,a=e.i;return(0,v.tZ)("button",{type:"button",id:"video-".concat(n),tabIndex:a,onClick:o,role:"option",className:"components-button block-editor-block-types-list__item editor-block-list-item-kadence-spacer"},(0,v.tZ)("span",{className:"block-editor-block-types-list__item-icon"},(0,v.tZ)("span",{className:"block-editor-block-icon has-colors"},t)),(0,v.tZ)("span",{className:"block-editor-block-types-list__item-title"},r))},Z=wp.blockSerializationDefaultParser.parse,w="presto-player",k={render:function(){var e,t,r,i=(e=(0,a.useState)(0),(t=(0,o.Z)(e,2))[0],r=t[1],function(){return r((function(e){return e+1}))}),f=(0,v.tZ)("svg",{viewBox:"0 0 35 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,v.tZ)("g",null,(0,v.tZ)("path",{d:"M23.3722 16.9766L33.2059 11.2991L33.2059 22.6541L23.3722 16.9766Z",fillOpacity:"0.7"}),(0,v.tZ)("path",{d:"M23.3745 5.6227L33.2082 11.3002L23.3745 16.9776L23.3745 5.6227Z",fillOpacity:"0.75"}),(0,v.tZ)("path",{d:"M23.3745 5.62242L23.3745 16.9773L13.5409 11.2999L23.3745 5.62242Z",fillOpacity:"0.8"}),(0,v.tZ)("path",{d:"M23.399 5.613L13.5654 11.2905L13.5654 -0.0644536L23.399 5.613Z",fillOpacity:"0.85"}),(0,v.tZ)("path",{d:"M13.5699 11.3038L13.5699 22.6587L3.73623 16.9813L13.5699 11.3038Z",fillOpacity:"0.8"}),(0,v.tZ)("path",{d:"M13.5699 -0.0245525L13.5699 11.3304L3.73623 5.6529L13.5699 -0.0245525Z",fillOpacity:"0.9"}),(0,v.tZ)("path",{d:"M13.5699 22.6451L13.5699 34L3.73623 28.3226L13.5699 22.6451Z",fillOpacity:"0.7"}),(0,v.tZ)("path",{d:"M23.3745 16.9774L33.2082 22.6549L23.3745 28.3323L23.3745 16.9774Z",fillOpacity:"0.65"}),(0,v.tZ)("path",{d:"M3.73774 16.9774L13.5714 22.6549L3.73774 28.3323L3.73774 16.9774Z",fillOpacity:"0.75"}),(0,v.tZ)("path",{d:"M3.73774 5.63149L13.5714 11.3089L3.73774 16.9864L3.73774 5.63149Z",fillOpacity:"0.85"}),(0,v.tZ)("path",{d:"M23.3745 16.9772L23.3745 28.3321L13.5409 22.6546L23.3745 16.9772Z",fillOpacity:"0.6"})),(0,v.tZ)("defs",null,(0,v.tZ)("clipPath",{id:"clip0"},(0,v.tZ)("rect",{width:"35",height:"34",fill:"white"})))),m=(0,a.useState)(!1),h=(0,o.Z)(m,2),w=h[0],k=h[1],x=(0,a.useState)(1),C=(0,o.Z)(x,2),P=C[0],O=C[1],S=(0,a.useState)(!1),E=(0,o.Z)(S,2),$=E[0],N=E[1],T=(0,a.useState)(""),A=(0,o.Z)(T,2),R=A[0],j=A[1],L=(0,a.useCallback)(_.debounce((function(e){F({replace:!0,term:e})}),250),[]);(0,a.useEffect)((function(){L(R)}),[R]),(0,a.useEffect)((function(){N(!0),F({replace:!1})}),[P]);var I=(0,p.useSelect)((function(e){return e("presto-player/player").getReusableVideos()}),[R,P]),D=I.videos,B=I.total_pages,M=I.hasResolved,F=function(){var e=(0,n.Z)(l().mark((function e(t){var r,n,o,a,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.replace,n=t.term,e.next=3,y()({path:wp.url.addQueryArgs("wp/v2/presto-videos",{search:n,page:P,per_page:10}),parse:!1});case 3:return o=e.sent,e.next=6,o.json();case 6:a=e.sent,s=o.headers&&parseInt(o.headers.get("X-WP-Total")),c=o.headers&&parseInt(o.headers.get("X-WP-TotalPages")),r?(0,p.dispatch)("presto-player/player").updateVideos({videos:a,hasResolved:!0,total:s,total_pages:c}):((0,p.dispatch)("presto-player/player").appendVideos(a),(0,p.dispatch)("presto-player/player").updateVideos({hasResolved:!0,total:s,total_pages:c})),i(),N(!1);case 12:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){k(P<B)}),[P,B]);var V=function(e){var t,r,n,o,a=Z(null==e||null===(t=e.content)||void 0===t?void 0:t.raw);if(null!=a&&null!==(r=a[0])&&void 0!==r&&null!==(n=r.innerBlocks)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.blockName){var i,l,s,c,u=(0,d.getBlockType)(null==a||null===(i=a[0])||void 0===i||null===(l=i.innerBlocks)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.blockName);return null!=u&&null!==(c=u.icon)&&void 0!==c&&c.src?u.icon.src:""}return""};return(0,v.tZ)(a.Fragment,null,(0,v.tZ)(u.PluginSidebarMoreMenuItem,{target:"presto-player-sidebar",icon:f},(0,s.__)("Presto Player","presto-player")),(0,v.tZ)(u.PluginSidebar,{name:"presto-player-sidebar",title:(0,s.__)("Presto Player","presto-player"),icon:f},(0,v.tZ)(b,null),(0,v.tZ)(c.PanelBody,{title:(0,s.__)("Media Hub","presto-player")},(0,v.tZ)("div",null,(0,v.tZ)(c.SearchControl,{value:R,onChange:function(e){O(1),j(e)}})),(0,v.tZ)("div",{className:"block-editor-inserter__panel-content"},M?(0,v.tZ)("div",{role:"listbox",className:"block-editor-block-types-list presto-player__panel-grid-list",style:{display:"flex",flexWrap:"wrap"},"aria-label":(0,s.__)("Media Hub","presto-player")},D.length?D.map((function(e,t){var r;return(0,v.tZ)(g,{selectBlock:function(t){(0,p.dispatch)("core/editor").insertBlock((0,d.createBlock)("presto-player/reusable-display",{id:null==e?void 0:e.id}))},icon:V(e),title:(null==e||null===(r=e.title)||void 0===r?void 0:r.raw)||"Untitled",id:null==e?void 0:e.id,i:t,key:null==e?void 0:e.id})})):function(){if(!D.length)return R?(0,v.tZ)("p",null,(0,s.__)("No videos found.","presto-player")):(0,v.tZ)(c.Button,{href:"post-new.php?post_type=pp_video_block",isSecondary:!0},(0,s.__)("Create A Reusable Video","presto-player"))}(),!R&&w&&D.length?(0,v.tZ)("div",{style:{"margin-top":"20px","text-align":"center",display:"flex","justify-content":"center",width:"100%"}},(0,v.tZ)(c.Button,{isSecondary:!0,isSmall:!0,onClick:function(){var e=P+1;O(e=e>B?B:e)},isBusy:$},"Load More")):""):(0,v.tZ)(c.Spinner,null)))))}}},7705:function(e,t,r){"use strict";r.d(t,{Z:function(){return $r}});var n=r(9307),o=r(5609),a=r(5736),i=r(9818),l=r(7798),s=r(4994),c=r(398),u=r(9807),p=r(168),d=r(3324),f=r(9062),y=r(4942),v=r(7453),m=r(4831),h=r(7161),b=r(1713),g=r(917);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _,k,x=function(e){var t,r,i,l=e.state,s=e.branding,c=e.menu,u=e.src,p=e.poster,f=e.currentTime,y=e.preload,v=e.overlays,Z=e.isDisabled,_=void 0===Z||Z,k=(0,n.useState)(1),x=(0,d.Z)(k,2),C=x[0],P=x[1],O=l.email_collection,S=l.cta,E=l.search;(0,n.useEffect)((function(){P(C+1)}),[l.skin,l["play-large"],l.rewind,l.play,l["fast-forward"],l.progress,l["current-time"],l.mute,l.volume,l.speed,l.pip,l.fullscreen,l.captions,l.hide_logo]);var $={email:!(null==O||!O.enabled)&&(0,g.tZ)(m.zi,{className:"email-overlay",slot:"player-end",headline:null==O?void 0:O.headline,style:w(w({"--presto-player-email-border-radiuss":"".concat(null==O?void 0:O.button_radius,"px"),"--plyr-color-main":(null==l?void 0:l.background_color)||(null==s?void 0:s.color)},O.button_color?{"--presto-player-button-color":"".concat(O.button_color)}:{}),O.button_text_color?{"--presto-player-button-text":"".concat(O.button_text_color)}:{}),defaultHeadline:(0,a.__)("Enter your email to play.","presto-player"),bottomText:null==O?void 0:O.bottom_text,allowSkip:null==O?void 0:O.allow_skip,skipText:(0,a.__)("Skip","presto-player"),buttonText:null==O?void 0:O.button_text,placeholder:(0,a.__)("Email address","presto-player"),i18n:window.prestoPlayer.i18n}),cta:!(null==S||!S.enabled)&&(0,g.tZ)(m.UP,{className:"cta-overlay",style:w(w(w({"--presto-player-button-border-radius":"".concat(S.button_radius,"px")},null!=S&&S.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==S?void 0:S.background_opacity)/100)}:{}),S.button_color?{"--presto-player-button-color":"".concat(S.button_color)}:{}),S.button_text_color?{"--presto-player-button-text":"".concat(S.button_text_color)}:{}),slot:"player-end",headline:null==S?void 0:S.headline,"bottom-text":null==S?void 0:S.bottom_text,"button-link":null==S?void 0:S.button_link,"allow-skip":100!==(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_skip),borderRadius:null==S?void 0:S.border_radius,"allow-rewatch":100===(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_rewatch),"skip-text":(0,a.__)("Skip","presto-player"),"show-button":null==S?void 0:S.show_button,"button-text":null==S?void 0:S.button_text,i18n:null===(t=window)||void 0===t||null===(r=t.prestoPlayer)||void 0===r?void 0:r.i18n})};return(0,g.tZ)(o.Disabled,{isDisabled:_,className:"disable-player",style:{width:"100%"}},(0,g.tZ)("div",{className:"presto-player__wrapper"},(0,g.tZ)(b.Z,{src:u||"",className:"\n            ".concat("cta"===c&&!(null==S||!S.enabled)&&"cta-active"," \n            ").concat("email"===c&&!(null==O||!O.enabled)&&"email-active","\n            ").concat("search"===c&&!(null==E||!E.enabled)&&"search-active"),preset:l,branding:w(w({},s),{},{logo:null!=l&&l.hide_logo?"":s.logo}),i18n:null===(i=prestoPlayerAdmin)||void 0===i?void 0:i.i18n,preload:y,attributes:{chapters:[],poster:p},currentTime:f?(0,h.ZD)(f):"",overlays:v,key:C,adminPreview:(null==$?void 0:$[c])||""})))},C=r(5297),__=wp.i18n.__,P=wp.components.TextareaControl,O=wp.element.useState,S=function(e){var t=e.text,r=e.update,n=e.onFocus,o=O(!1),a=(0,d.Z)(o,2),i=a[0],l=a[1];return(0,g.tZ)("div",{style:{display:"block",width:"100%"}},(0,g.tZ)(P,{label:"Text",help:(0,g.tZ)("span",null,__("This field accepts","presto-player")," ",(0,g.tZ)("a",{href:"#",onClick:function(e){l(!i),e.preventDefault()}},__("Dynamic Data","presto-player")),!!i&&(0,g.tZ)("div",{style:{marginTop:"20px"}},__("This field will also accept dynamic values that we will replace with dynamic content: {user.user_login}, {user.user_nicename}, {user.user_email}, {user.user_url},{user.user_registered}, {user.display_name}, {site.url}, {site.name}, {ip_address}","presto-player"))),className:"presto-player__overlay--text",placeholder:__("Enter some text.","presto-player"),value:t||"",onChange:function(e){return r({text:e})},autoComplete:"off",onFocus:n}))},E=r(1145),$=wp.i18n.__,N=wp.components,T=N.Flex,A=N.FlexItem,R=N.TextControl,j=N.Button,L=N.BaseControl,I=N.RadioControl,D=N.RangeControl,B=(N.withFocusReturn,wp.element),M=B.useRef,F=B.useEffect,V=wp.element.useState,U={name:"1azpx8r",styles:"margin-bottom:20px"},z=function(e){var t=e.overlayIndex,r=e.update,n=e.remove,o=e.className,a=e.startTime,i=e.endTime,l=e.text,s=e.link,c=e.position,u=e.color,p=e.backgroundColor,f=e.opacity,y=e.updateCurrentTime,m=V(a),b=(0,d.Z)(m,2),g=b[0],Z=b[1],w=V(i),_=(0,d.Z)(w,2),k=_[0],x=_[1],P=V(c),O=(0,d.Z)(P,2),N=O[0],B=O[1],z=M();F((function(){if((0,h.ZD)(a)>=(0,h.ZD)(i)){var e=(0,h.as)(a),t=(0,h.ZD)(e)+1;e=(0,h.as)((0,h.nH)(t)),r({endTime:e}),x(e)}}),[a,i]);var G=function(){var e=(0,h.as)(g);r({startTime:e}),Z(e),y(e)};return(0,v.tZ)("div",null,(0,v.tZ)(T,{align:"center",className:o},(0,v.tZ)(A,null,(0,v.tZ)(R,{ref:z,id:"start-time-".concat(t),label:$("Start Time","presto-player"),className:"presto-player__overlay--start-time",value:g,onChange:function(e){return Z(e)},onBlur:G,onFocus:G,autoComplete:"off",placeholder:"0:00"})),(0,v.tZ)(A,null,(0,v.tZ)(R,{label:$("End Time","presto-player"),className:"presto-player__overlay--end-time",value:k,onChange:x,onBlur:function(){var e=(0,h.as)(k);r({endTime:e}),x(e)},autoComplete:"off",placeholder:"0:00"}))),(0,v.tZ)(S,{text:l,update:r,onFocus:function(){y((0,h.as)(g))}}),(0,v.tZ)(L,{style:{width:"100%"}},(0,v.tZ)(L.VisualLabel,null,(0,v.tZ)("p",null," ",$("Link","presto-player"))),(0,v.tZ)(C.Z,{onFocus:function(){y((0,h.as)(g))},setSettings:function(e){return r({link:e})},settings:s||{}})),(0,v.tZ)(L,{className:o},(0,v.tZ)(I,{label:$("Position","presto-player"),options:[{label:$("Top Right","presto-player"),value:"top-right"},{label:$("Top Left","presto-player"),value:"top-left"}],selected:N||"right",onFocus:function(){y((0,h.as)(g))},onChange:function(e){r({position:e}),B(e),y((0,h.as)(g))}})),(0,v.tZ)(L,{className:"presto-player__control--overlay-text-color"},(0,v.tZ)(T,null,(0,v.tZ)(L.VisualLabel,null,$("Text Color","presto-player")),(0,v.tZ)(E.Z,{onFocus:function(){y((0,h.as)(g))},color:u,setColor:function(e){r({color:e&&e.hex})}}))),(0,v.tZ)(L,{className:"presto-player__control--overlay-background-color"},(0,v.tZ)(T,null,(0,v.tZ)(L.VisualLabel,null,$("Background Color","presto-player")),(0,v.tZ)(E.Z,{onFocus:function(){y((0,h.as)(g))},color:p,setColor:function(e){r({backgroundColor:e&&e.hex})}}))),(0,v.tZ)(L,null,(0,v.tZ)(D,{label:$("Opacity","presto-player"),help:$("Opacity percentage of the overlay.","presto-player"),value:f,onChange:function(e){return r({opacity:e})},min:0,max:100})),n&&(0,v.tZ)(L,{className:o},(0,v.tZ)(T,{justify:"flex-end"},(0,v.tZ)(j,{isDestructive:!0,isSmall:!0,onClick:n},$("Remove Overlay","presto-player")))),(0,v.tZ)("hr",{css:U}))};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W,q=wp.i18n.__,Y=wp.components,X=Y.Button,K=Y.Flex,Q=Y.FlexItem,J=Y.FlexBlock,ee=Y.Modal,te=wp.element,re=te.useState,ne=te.useEffect,oe=wp.data.useSelect,ae={name:"1cwazio",styles:"padding:3px"},ie=function(e){var t=e.closeModal,r=e.attributes,n=e.setAttributes,o=e.updateOverlayAttribute,a=re(!1),i=(0,d.Z)(a,2),l=i[0],s=i[1],c=re(""),u=(0,d.Z)(c,2),y=u[0],m=u[1],h=r.overlays,b=r.preset,g=r.src,Z=r.poster,w=r.previewSrc,C=oe((function(e){return e("presto-player/player").branding()})),P=oe((function(e){return e("presto-player/player").getPreset(b)}));ne((function(){h.length||O()}),[]);var O=function(){var e={startTime:"0:00",endTime:"0:05",text:q("Here's a link to click!","presto-player"),link:{},position:"top-right",color:"#fff",backgroundColor:"#000",opacity:75};h[h.length-1]&&(e=H({},h[h.length-1])),e.id=((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(10),n({overlays:[].concat((0,f.Z)(h||[]),[e])})};return(0,v.tZ)(ee,{title:q("Manage Video Overlays","presto-player"),onRequestClose:t,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay",shouldCloseOnClickOutside:!1},(0,v.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,v.tZ)(K,{align:"stretch",className:"presto-player__style-preview-area"},(0,v.tZ)(Q,{className:"presto-player__style-sidebar"},(0,v.tZ)("div",{css:ae},(h||[]).sort((function(e,t){return parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])==0?parseInt(e.startTime.split(":")[1])-parseInt(t.startTime.split(":")[1]):parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])})).map((function(e,t){return(0,v.tZ)(z,{key:"".concat(t,"-").concat(e.startTime),overlayIndex:t,className:"presto-player__overlay",startTime:e.startTime,endTime:e.endTime,text:e.text,link:e.link,position:e.position,color:e.color,backgroundColor:e.backgroundColor,opacity:e.opacity,overlay:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h.indexOf(e),o=h.map((function(e,n){return n!==r?e:H(H({},e),t)}));n({overlays:o})}(e,t)},remove:function(){!function(e){var t=h.indexOf(e);n({overlays:h.filter((function(e,r){return r!==t}))})}(e)},updateCurrentTime:function(e){var t;t=e,m(""),process.nextTick((function(){m(t)}))}})})),(0,v.tZ)(X,{isPrimary:!0,onClick:O},q("Add An Overlay","presto-player")))),(0,v.tZ)(J,{className:"presto-player__style-preview-panel"},(0,v.tZ)(x,{preload:"auto",currentTime:y,src:w||g,isDisabled:!1,state:H(H({},P),{},{lazy_load_youtube:!1,invert_time:!1}),branding:C,poster:Z,overlays:h}))),(0,v.tZ)("br",null),(0,v.tZ)("div",{css:(0,v.iv)(_||(_=(0,p.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,v.tZ)("div",{css:(0,v.iv)(k||(k=(0,p.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))}),(0,v.tZ)("div",null,(0,v.tZ)(X,{isTertiary:!0,onClick:t,style:{margin:"0 6px"}},q("Cancel","presto-player")),(0,v.tZ)(X,{isPrimary:!0,isBusy:l,disabled:l,onClick:function(){s(!0),o(h),s(!1),t()},"data-cy":"submit-preset"},q("Save Overlays","presto-player"))))))},le=wp.i18n.__,se=wp.element.useState,ce=wp.data,ue=(ce.useSelect,ce.dispatch),pe=wp.components,de=(pe.withNotices,pe.BaseControl),fe=(pe.Spinner,pe.Button),ye=function(e){var t,r=e.setAttributes,n=e.attributes,o=n.overlays,a=se(!1),i=(0,d.Z)(a,2),l=i[0],s=i[1];return(0,v.tZ)(React.Fragment,null,(0,v.tZ)(de,null,(0,v.tZ)(fe,{isPrimary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?s(!0):ue("presto-player/player").setProModal(!0)}},o.length?le("Update Overlays","presto-player"):le("Add Overlay","presto-player"),!!o.length&&(0,v.tZ)("div",{css:(0,v.iv)(W||(W=(0,p.Z)(["\n                font-size: 10px;\n                background: #fff;\n                color: var(--wp-admin-theme-color);\n                font-weight: bold;\n                display: inline-block;\n                line-height: 6px;\n                padding: 5px;\n                border-radius: 9999px;\n                margin-left: 10px;\n              "])))},o.length)),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,v.tZ)(u.Z,null)),l&&(0,v.tZ)(ie,{closeModal:function(){return s(!1)},attributes:n,setAttributes:r,updateOverlayAttribute:function(e){r({overlays:e})}}))},ve=r(6774),me=r(5861),he=r(1284),be=r.n(he),ge=r(9493),Ze=r(3865),we=wp.i18n.__,_e=wp.components,ke=_e.ToggleControl,xe=_e.BaseControl,Ce=_e.HorizontalRule,Pe=_e.__experimentalAlignmentMatrixControl,Oe=_e.SelectControl;function Se(e){var t=e.state,r=e.updateState,n=e.className;return(0,g.tZ)("div",{className:n},(0,g.tZ)(xe,null,(0,g.tZ)("h3",null,we("Behavior","presto-player"))),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Auto-Hide Controls","presto-player"),help:we("Hide video controls automatically after 2 seconds of no mouse movement.","presto-player"),onChange:function(e){r({auto_hide:e})},checked:t.auto_hide})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Show Time Elapsed","presto-player"),help:we("Show the time elapsed or the time remaining for the video on the player. By default, the time remaining is shown.","presto-player"),onChange:function(e){r({show_time_elapsed:e})},checked:t.show_time_elapsed})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Save Play Position","presto-player"),help:we("Saves the user's play position so when they come back to the page they can continue the video from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Captions On By Default","presto-player"),help:we("Toggles if captions should be active by default.","presto-player"),onChange:function(e){r({captions_enabled:e})},checked:t.captions_enabled})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Focus Mode","presto-player"),help:we("Play only when tab is visible and video is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Sticky On Scroll","presto-player"),help:we("Stick videos to the side of the screen when the page is scrolled and the video is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),!!t.sticky_scroll&&(0,g.tZ)(React.Fragment,null,(0,g.tZ)(xe,{label:we("Choose a position for your sticky player.","presto-player")},(0,g.tZ)(Pe,{value:t.sticky_scroll_position,onChange:function(e){r({sticky_scroll_position:e})}}))),(0,g.tZ)(xe,null,(0,g.tZ)(Oe,{label:we("On Video End","presto-player"),value:t.on_video_end,options:[{value:"select",label:we("Select","presto-player")},{value:"loop",label:we("Loop","presto-player")},{value:"go-to-start",label:we("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})),(0,g.tZ)(Ce,null),(0,g.tZ)(xe,null),(0,g.tZ)(xe,null,(0,g.tZ)("h3",null,we("Youtube","presto-player"))),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Hide Youtube UI (Experimental)","presto-player"),help:we("Hides the Youtube logo and related videos.","presto-player"),onChange:function(e){r({hide_youtube:e})},checked:t.hide_youtube})),(0,g.tZ)(xe,null,(0,g.tZ)(ke,{label:we("Lazy Load Videos","presto-player"),help:we("Improves page loading performance by only loading the video when clicked.","presto-player"),onChange:function(e){r({lazy_load_youtube:e})},checked:t.lazy_load_youtube})))}var Ee=wp.i18n.__,$e=wp.components,Ne=$e.ToggleControl,Te=$e.BaseControl;function Ae(e){var t=e.state,r=e.updateState,n=e.className;return(0,g.tZ)("div",{className:n},(0,g.tZ)(Te,null,(0,g.tZ)("h3",null,Ee("Controls","presto-player"))),(0,g.tZ)(Te,{className:"presto-player__control--large-play"},(0,g.tZ)(Ne,{label:Ee("Large Play Button","presto-player"),help:Ee("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,g.tZ)(Te,{className:"presto-player__control--rewind"},(0,g.tZ)(Ne,{label:Ee("Rewind","presto-player"),help:Ee("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,g.tZ)(Te,{className:"presto-player__control--play"},(0,g.tZ)(Ne,{label:Ee("Small Play Button","presto-player"),help:Ee("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,g.tZ)(Te,{className:"presto-player__control--fast-forward"},(0,g.tZ)(Ne,{label:Ee("Fast Forward","presto-player"),help:Ee("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,g.tZ)(Te,{className:"presto-player__control--progress"},(0,g.tZ)(Ne,{label:Ee("Progress Bar","presto-player"),help:Ee("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,g.tZ)(Te,{className:"presto-player__control--current-time"},(0,g.tZ)(Ne,{label:Ee("Current Time","presto-player"),help:Ee("Shows the video timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,g.tZ)(Te,{className:"presto-player__control--volume"},(0,g.tZ)(Ne,{label:Ee("Volume","presto-player"),help:Ee("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,g.tZ)(Te,{className:"presto-player__control--speed"},(0,g.tZ)(Ne,{label:Ee("Speed","presto-player"),help:Ee("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})),(0,g.tZ)(Te,{className:"presto-player__control--pip"},(0,g.tZ)(Ne,{label:Ee("Picture In Picture (HTML5 only)","presto-player"),help:Ee("Allows users to dock the player on their screen and watch when using other app on their computer.","presto-player"),onChange:function(e){r({pip:e})},checked:t.pip})),(0,g.tZ)(Te,{className:"presto-player__control--fullscreen"},(0,g.tZ)(Ne,{label:Ee("Fullscreen","presto-player"),help:Ee("Adds a button to allow the player to be fullscreen.","presto-player"),onChange:function(e){r({fullscreen:e})},checked:t.fullscreen})),(0,g.tZ)(Te,{className:"presto-player__control--captions"},(0,g.tZ)(Ne,{label:Ee("Captions","presto-player"),help:Ee("Shows a dedicated caption toggle button.","presto-player"),onChange:function(e){r({captions:e})},checked:t.captions})))}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=wp.i18n.__,Ie=wp.components,De=Ie.ToggleControl,Be=Ie.BaseControl,Me=Ie.RadioControl,Fe=Ie.Flex,Ve=Ie.RangeControl,Ue=wp.element.useEffect,ze=function(e){var t=e.state,r=e.updateState,n=e.className,o=t.watermark,a={text:Le("Enter your watermark text.","presto-player"),position:"top-right",color:"#fff",backgroundColor:"#333",opacity:80};Ue((function(){Object.keys(a).forEach((function(e){var r;void 0===(null==t||null===(r=t.watermark)||void 0===r?void 0:r[e])&&i((0,y.Z)({},e,a[e]))}))}),[t]);var i=function(e){r(je(je({},t),{},{watermark:je(je({},o),e)}))};return(0,g.tZ)("div",{className:n},(0,g.tZ)(Be,null,(0,g.tZ)("h3",null,Le("Dynamic Watermark Text","presto-player"))),(0,g.tZ)(Be,{className:"presto-player__control--watermark"},(0,g.tZ)(De,{label:Le("Enable","presto-player"),help:Le("Add a simulated dynamic watermark over your video.","presto-player"),onChange:function(e){i({enabled:e})},checked:null==o?void 0:o.enabled})),(null==o?void 0:o.enabled)&&(0,g.tZ)("div",null,(0,g.tZ)(S,{text:null==o?void 0:o.text,update:function(e){var t=e.text;i({text:t})}}),(0,g.tZ)(Be,{className:n},(0,g.tZ)(Me,{label:Le("Position","presto-player"),options:[{label:Le("Top Right","presto-player"),value:"top-right"},{label:Le("Top Left","presto-player"),value:"top-left"},{label:Le("Change Every 10 Seconds","presto-player"),value:"randomize"}],selected:(null==o?void 0:o.position)||"top-right",onChange:function(e){return i({position:e})}})),(0,g.tZ)(Be,{className:"presto-player__control-text-color"},(0,g.tZ)(Fe,null,(0,g.tZ)(Be.VisualLabel,null,Le("Text Color","presto-player")),(0,g.tZ)(E.Z,{color:(null==o?void 0:o.color)||"#fff",setColor:function(e){return i({color:e&&e.hex})}}))),(0,g.tZ)(Be,{className:"presto-player__control-text-color"},(0,g.tZ)(Fe,null,(0,g.tZ)(Be.VisualLabel,null,Le("Background Color","presto-player")),(0,g.tZ)(E.Z,{color:(null==o?void 0:o.backgroundColor)||"#333",setColor:function(e){return i({backgroundColor:e&&e.hex})}}))),(0,g.tZ)(Be,null,(0,g.tZ)(Ve,{label:Le("Opacity","presto-player"),help:Le("Opacity percentage of the watermark.","presto-player"),value:(null==o?void 0:o.opacity)||100,onChange:function(e){return i({opacity:e})},min:0,max:100}))))},Ge=r(444),He=(0,n.createElement)(Ge.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(Ge.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),We=(0,n.createElement)(Ge.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(Ge.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe,Ke,Qe,Je=function(e){var t=e.state,r=e.updateState,i=e.className,l=t.search,s=(0,n.useState)(!1),c=(0,d.Z)(s,2),u=c[0],p=c[1],f={enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"Search"};(0,n.useEffect)((function(){Object.keys(f).forEach((function(e){var r;void 0===(null==t||null===(r=t.search)||void 0===r?void 0:r[e])&&v((0,y.Z)({},e,f[e]))}))}),[t]);var v=function(e){r(Ye(Ye({},t),{},{search:Ye(Ye({},l),e)}))};return(0,g.tZ)("div",{className:i},(0,g.tZ)(o.BaseControl,null,(0,g.tZ)("h3",null,(0,a.__)("Searchable Captions","presto-player"))),(0,g.tZ)(o.BaseControl,{className:"presto-player__control--search"},(0,g.tZ)(o.ToggleControl,{label:(0,a.__)("Enable","presto-player"),help:(0,a.__)("Show a search bar on your player which enables searching within the subtitles of the video.","presto-player"),onChange:function(e){v({enabled:e})},checked:null==l?void 0:l.enabled})),(null==l?void 0:l.enabled)&&(0,g.tZ)("div",null,(0,g.tZ)(o.BaseControl,{className:"presto-player__control--placeholder-text"},(0,g.tZ)(o.TextControl,{label:(0,a.__)("Placeholder Text","presto-player"),help:"",value:null==l?void 0:l.placeholder,onChange:function(e){return v({placeholder:e})}})),(0,g.tZ)(o.BaseControl,null,(0,g.tZ)(o.Button,{onClick:function(){return p(!u)},iconPosition:"right",icon:u?He:We,variant:"link"},(0,a.__)("Advanced Settings","presto-player"))),!!u&&(0,g.tZ)(React.Fragment,null,(0,g.tZ)(o.BaseControl,null,(0,g.tZ)(o.RangeControl,{label:(0,a.__)("Minimum Matching Character Length","presto-player"),help:(0,a.__)("Only the matches whose length exceeds this value will be returned. (For instance, if you want to ignore single character matches in the result, set it to 2","presto-player"),value:(null==l?void 0:l.minMatchCharLength)||1,onChange:function(e){return v({minMatchCharLength:e})},min:0,max:10})),(0,g.tZ)(o.BaseControl,null,(0,g.tZ)(o.RangeControl,{label:(0,a.__)("Threshold","presto-player"),help:(0,a.__)("At what point does the match algorithm give up. A threshold of 0.0 requires a perfect match (of both letters and location), a threshold of 1.0 would match anything.","presto-player"),value:(null==l?void 0:l.threshold)||1,onChange:function(e){return v({threshold:e})},min:0,max:1,step:.1})))))},et=r(7833),tt=r(9632),rt=wp.i18n.__,nt=wp.components,ot=nt.ToggleControl,at=nt.BaseControl,it=nt.RangeControl,lt=nt.SelectControl,st=nt.ColorPicker;function ct(e){var t=e.state,r=e.updateState,n=e.className;return(0,g.tZ)("div",{className:n},(0,g.tZ)(at,null,(0,g.tZ)("h3",null,rt("Style","presto-player"))),(0,g.tZ)(at,null,(0,g.tZ)(ot,{label:rt("Hide Logo","presto-player"),help:rt("Hides the logo on this video.","presto-player"),onChange:function(e){r({hide_logo:e})},checked:t.hide_logo})),(0,g.tZ)(at,null,(0,g.tZ)(it,{label:rt("Round Corners","presto-player"),help:rt("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25,css:(0,v.iv)(Xe||(Xe=(0,p.Z)(["\n            padding-left: 4px;\n            .components-range-control__root {\n              align-items: flex-start;\n            }\n          "])))})),(0,g.tZ)(at,null,(0,g.tZ)(lt,{label:rt("Caption Style","presto-player"),labelPosition:"top",value:null==t?void 0:t.caption_style,options:[{label:rt("Default","presto-player"),value:"default"},{label:rt("Full","presto-player"),value:"full"}],onChange:function(e){r({caption_style:e})}})),(0,g.tZ)(at,null,(0,g.tZ)(at.VisualLabel,null,(0,g.tZ)("p",null,rt("Caption Background","presto-player"))),(0,g.tZ)(st,{color:(null==t?void 0:t.caption_background)||"#000000",onChangeComplete:function(e){r({caption_background:e.hex})},disableAlpha:!0})))}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt=wp.i18n.__,ft=wp.components,yt=ft.TextControl,vt=ft.BaseControl,mt=ft.Icon,ht=ft.Notice,bt=ft.Button,gt=ft.Flex,Zt=ft.FlexItem,wt=ft.SelectControl,_t=ft.FlexBlock,kt=ft.Modal,xt=wp.element,Ct=xt.useState,Pt=xt.useEffect,Ot=wp.data,St=Ot.useSelect,Et=Ot.dispatch,$t=function(e){var t=e.type,r=void 0===t?"new":t,n=e.closeModal,o=e.addPreset,a=e.onSave,i=e.updatePreset,l=e.name,s=void 0===l?"":l,c=e.preset,u=void 0===c?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,fullscreen:!0,captions:!1,save_player_position:!1,reset_on_end:!1,auto_hide:!0,show_time_elapsed:!1,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"modern",caption_style:"default",caption_background:"#000000",hide_youtube:!1,lazy_load_youtube:!1,cta:{},email_collection:{},action_bar:{},enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"search"}:c,f=Ct(!1),y=(0,d.Z)(f,2),m=y[0],b=y[1],g=Ct(""),Z=(0,d.Z)(g,2),w=Z[0],_=Z[1],k=Ct(""),C=(0,d.Z)(k,2),P=C[0],O=C[1],S=Ct(s),E=(0,d.Z)(S,2),$=E[0],N=E[1],T=Ct(u),A=(0,d.Z)(T,2),R=A[0],j=A[1],L=St((function(e){return e("presto-player/player").branding()})),I=Ct(""),D=(0,d.Z)(I,2),B=D[0],M=D[1],F={message:dt("The preset could not be saved. Please reload the page and try again.","presto-player")},V=St((function(e){return e("presto-player/player").youtube()}));Pt((function(){M(V.channel_id)}),[null==V?void 0:V.channel_id]);var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(pt(pt({},R),e))},z=function(){var e=(0,me.Z)(be().mark((function e(){var t,r,o,l;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,t=pt(pt({},R),{name:$}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(u.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw F;case 8:i(r),n(),a&&a(r),(0,h.i1)({message:dt("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),_(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:F);case 17:return e.prev=17,b(!1),e.finish(17);case 20:return Et("presto-player/player").updateYoutube({channel_id:B}),o=pt(pt({},V),{channel_id:B}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 25:null!=(l=e.sent)&&l.presto_player_youtube&&(Et("presto-player/player").setYoutube(null==l?void 0:l.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[1,14,17,20],[22,29]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,me.Z)(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"preset",data:pt(pt({},{name:$}),R)});case 4:if(t=e.sent){e.next=7;break}throw F;case 7:o(t),n(),a&&a(t),(0,h.i1)({message:dt("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),_(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:F);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),H=[{name:"controls",title:dt("Controls","presto-player"),icon:(0,v.tZ)(mt,{icon:"admin-settings"}),component:(0,v.tZ)(Ae,{updateState:U,state:R})},{name:"behavior",title:dt("Behavior","presto-player"),icon:(0,v.tZ)(mt,{icon:"admin-generic"}),component:(0,v.tZ)(Se,{updateState:U,state:R})},{name:"style",title:dt("Style","presto-player"),icon:(0,v.tZ)(mt,{icon:"admin-customizer"}),component:(0,v.tZ)(ct,{updateState:U,state:R})},{name:"email",title:dt("Email Capture","presto-player"),icon:(0,v.tZ)(mt,{icon:"email"}),component:(0,v.tZ)(tt.Z,{updateState:U,state:R})},{name:"cta",title:dt("Call To Action","presto-player"),icon:(0,v.tZ)(mt,{icon:"megaphone"}),component:(0,v.tZ)(et.Z,{updateState:U,state:R})},{name:"action_bar",title:dt("Action Bar","presto-player"),icon:(0,v.tZ)(mt,{icon:"cover-image"}),component:(0,v.tZ)(Ze.Z,{updateState:U,state:R,value:B,setValue:M})},{name:"watermark",title:dt("Dynamic Watermark","presto-player"),icon:(0,v.tZ)(mt,{icon:"lock"}),component:(0,v.tZ)(ze,{updateState:U,state:R})},{name:"search",title:dt("Searchable Captions","presto-player"),icon:(0,v.tZ)(mt,{icon:"search"}),component:(0,v.tZ)(Je,{updateState:U,state:R})}];return(0,v.tZ)(kt,{title:dt("edit"==r?"Edit A Video Preset":"Create A New Video Preset","presto-player"),onRequestClose:n,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,v.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,v.tZ)(yt,{value:$,hideLabelFromVision:!0,label:dt("Preset Name","presto-player"),onChange:function(e){return N(e)},placeholder:dt("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,v.tZ)(gt,{align:"stretch",className:"presto-player__style-preview-area"},(0,v.tZ)(Zt,{className:"presto-player__style-sidebar"},(0,v.tZ)("div",null,(0,v.tZ)(ge.Z,{items:H,title:dt("Customize","presto-player"),onSelect:O},(function(e){return e.component})))),(0,v.tZ)(_t,{className:"presto-player__style-preview-panel"},(0,v.tZ)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,v.tZ)(wt,{label:dt("Skin","presto-player"),labelPosition:"side",value:null==R?void 0:R.skin,options:[{label:dt("Modern","presto-player"),value:"modern"},{label:dt("Business","presto-player"),value:"business"},{label:dt("Stacked","presto-player"),value:"stacked"},{label:dt("Basic","presto-player"),value:"default"}],onChange:function(e){U({skin:e})}})),(0,v.tZ)(x,{poster:"https://source.unsplash.com/daily",state:R,branding:L,menu:P}))),(0,v.tZ)("br",null),w&&(0,v.tZ)(vt,null,(0,v.tZ)(ht,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},w.replace(/(<([^>]+)>)/gi,""))),(0,v.tZ)("div",{css:(0,v.iv)(Ke||(Ke=(0,p.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,v.tZ)("div",{css:(0,v.iv)(Qe||(Qe=(0,p.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",u.id),(0,v.tZ)("div",null,(0,v.tZ)(bt,{isTertiary:!0,onClick:n,style:{margin:"0 6px"}},dt("Cancel","presto-player")),(0,v.tZ)(bt,{isPrimary:!0,isBusy:m,disabled:m,onClick:function(){if($)return"edit"===r?z():G();_(dt("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},dt("edit"==r?"Update Preset":"Create Preset","presto-player"))))))},Nt=wp.i18n.__,Tt=wp.components,At=Tt.Icon,Rt=Tt.Spinner,jt=Tt.Modal,Lt=Tt.Button,It=Tt.ButtonGroup,Dt=wp.element.useState;function Bt(e){var t,r,n=e.preset,o=e.index,a=e.isActive,i=e.remove,l=e.setPreset,s=e.onEdit,c=Dt(!1),u=(0,d.Z)(c,2),p=u[0],f=u[1],y=Dt(!1),v=(0,d.Z)(y,2),m=v[0],h=v[1],b=function(){return h(!1)},Z=function(){var e=(0,me.Z)(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return i(n),e.abrupt("return");case 3:return e.prev=3,f(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(i(n),wp.data.dispatch("core/notices").createNotice("success",Nt("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,h(!1),f(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,11,15,19]])})));return function(){return e.apply(this,arguments)}}();return p?(0,g.tZ)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,g.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,g.tZ)(Rt,null))):(0,g.tZ)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){l(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,g.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,g.tZ)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,g.tZ)(At,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,g.tZ)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,g.tZ)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,g.tZ)("div",{className:"block-editor-block-styles__item-edit"},(0,g.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:s},(0,g.tZ)(At,{icon:"edit"})),(0,g.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return h(!0)}},(0,g.tZ)(At,{icon:"trash"}))),m&&(0,g.tZ)(jt,{title:Nt("Trash Preset?","presto-player"),onRequestClose:b,style:{maxWidth:"250px"}},(0,g.tZ)("p",null,(0,g.tZ)("strong",null,Nt("Warning!","presto-player")," "),Nt("Any videos assigned to this preset will automatically use the default preset.","presto-player")),(0,g.tZ)(It,null,(0,g.tZ)(Lt,{isDestructive:!0,onClick:Z,style:{margin:"0 4px"}},Nt("Trash","presto-player")),(0,g.tZ)(Lt,{isTertiary:!0,onClick:b,style:{margin:"0 4px",boxShadow:"none"}},Nt("Cancel","presto-player")))))}var Mt=wp.i18n.__,Ft=wp.components,Vt=Ft.withNotices,Ut=Ft.BaseControl,zt=Ft.Spinner,Gt=Ft.Button,Ht=wp.element,Wt=Ht.useState,qt=(Ht.useEffect,wp.data),Yt=qt.useSelect,Xt=qt.dispatch,Kt=Vt((function(e){var t,r=e.attributes,n=e.setAttributes,o=Wt(!1),a=(0,d.Z)(o,2),i=a[0],l=a[1],s=function(){return l(!1)},c=Wt(null),p=(0,d.Z)(c,2),f=p[0],y=p[1],v=Wt(null),m=(0,d.Z)(v,2),h=m[0],b=m[1],Z=Yt((function(e){return{presets:e("presto-player/player").getPresets(),loading:e("presto-player/player").isResolving("getPresets")}})),w=Z.presets,_=Z.loading,k=function(e){Xt("presto-player/player").addPreset(e)},x=function(e){Xt("presto-player/player").removePreset(e)},C=function(e){n({preset:e.id})},P=(0,ve.Z)("div",{target:"e108l63h0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return _?(0,g.tZ)("div",{className:"presto-settings__loading"},(0,g.tZ)(zt,null)):(0,g.tZ)(React.Fragment,null,w.length?(0,g.tZ)("p",null,Mt("Select a video configuration preset, or add your own.","presto-player")):"",(0,g.tZ)(Ut,null,(0,g.tZ)(P,null,(w||[]).length?w.map((function(e,t){return(0,g.tZ)(Bt,{setPreset:C,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){b(e.name),y(e),l("edit")},remove:x})})):Mt("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,g.tZ)(Ut,null,(0,g.tZ)(Gt,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?l("new"):Xt("presto-player/player").setProModal(!0)}},Mt("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,g.tZ)(u.Z,null)),"new"==i&&(0,g.tZ)($t,{closeModal:s,addPreset:k,type:"new",onSave:C}),"edit"==i&&(0,g.tZ)($t,{closeModal:s,addPreset:k,updatePreset:function(e){Xt("presto-player/player").updatePreset(e)},type:"edit",preset:f,name:h}))})),Qt=r(6263);function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr=wp.i18n.__,rr=wp.components,nr=(rr.PanelRow,rr.TextControl,rr.SelectControl,rr.BaseControl),or=rr.Button,ar=rr.FocalPointPicker,ir=rr.RangeControl,lr=wp.blockEditor,sr=lr.MediaUpload,cr=lr.MediaUploadCheck,ur=(wp.element.useState,["image"]),pr=function(e){var t=e.attributes,r=e.setAttributes,n=e.instanceId,o=t.mutedOverlay,a="video-block__overlay-image-description-".concat(n);return(0,g.tZ)(React.Fragment,null,(0,g.tZ)(cr,null,(0,g.tZ)(nr,{className:"editor-video-overlay-control"},(0,g.tZ)(nr.VisualLabel,null,(0,g.tZ)("p",null,tr("Overlay Image","presto-player"))),(0,g.tZ)(sr,{title:tr("Select overlay image","presto-player"),onSelect:function(e){r({mutedOverlay:er(er({},o),{src:e.url})})},allowedTypes:ur,render:function(e){var t=e.open;return(0,g.tZ)(or,{className:"presto-setting__poster",isPrimary:!0,onClick:t},null!=o&&o.src?tr("Replace","presto-player"):tr("Select","presto-player"))}}),(0,g.tZ)("p",{id:a,hidden:!0},null!=o&&o.src?sprintf(tr("The current overlay image url is %s","presto-player"),null==o?void 0:o.src):tr("There is no overlay image currently selected","presto-player")),!(null==o||!o.src)&&(0,g.tZ)(or,{onClick:function(){r({mutedOverlay:er(er({},o),{src:""})})},className:"presto-setting__remove-poster",isTertiary:!0},tr("Remove","presto-player")))),!(null==o||!o.src)&&(0,g.tZ)(ar,{url:"",dimensions:{width:160,height:90},value:null==o?void 0:o.focalPoint,onChange:function(e){return r({mutedOverlay:er(er({},o),{focalPoint:e})})}}),!(null==o||!o.src)&&(0,g.tZ)(ir,{label:tr("Max Width (%)","presto-player"),value:null==o?void 0:o.width,onChange:function(e){return r({mutedOverlay:er(er({},o),{width:e})})},min:1,max:100}))};function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yr=wp.i18n.__,vr=wp.components,mr=vr.ToggleControl,hr=vr.SelectControl,br=vr.BaseControl,gr=vr.Button,Zr=vr.PanelRow,wr=vr.Icon,_r=vr.Flex,kr=wp.data.dispatch,xr=wp.blockEditor,Cr=xr.MediaUpload,Pr=xr.MediaUploadCheck,Or=["image"],Sr=wp.compose.useInstanceId,Er=function e(t){var r,n,o=t.setAttributes,a=t.attributes,i=a.mutedPreview,l=a.autoplay,s=a.playsInline,c=a.preload,p=a.poster,d=a.mutedOverlay,f=Sr(e),v="video-block__poster-image-description-".concat(f),m=function(e){return function(t){o((0,y.Z)({},e,t))}};return(0,g.tZ)(React.Fragment,null,!l&&(0,g.tZ)(React.Fragment,null,(0,g.tZ)(mr,{label:(0,g.tZ)(React.Fragment,null,yr("Muted Autoplay Preview","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,g.tZ)(u.Z,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedPreview:fr(fr({},i),{enabled:e})}):kr("presto-player/player").setProModal(!0)},checked:null==i?void 0:i.enabled,className:"presto-setting__mutedPreview",help:yr("Shows a muted preview of the video.","presto-player")}),!(null==i||!i.enabled)&&!(null!=a&&a.video_id)&&(0,g.tZ)(Zr,null,(0,g.tZ)(mr,{label:yr("Muted Preview Captions","presto-player"),onChange:function(e){o({mutedPreview:fr(fr({},i),{captions:e})})},checked:null==i?void 0:i.captions,className:"presto-setting__mutedPreviewCaptions",help:yr("Play captions during muted autoplay","presto-player")})),!!i.enabled&&(0,g.tZ)(Zr,null,(0,g.tZ)(mr,{label:(0,g.tZ)(React.Fragment,null,yr("Muted Preview Overlay","presto-player")," ",!(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium)&&(0,g.tZ)(u.Z,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedOverlay:fr(fr({},d),{enabled:e})}):kr("presto-player/player").setProModal(!0)},checked:null==d?void 0:d.enabled,className:"presto-setting__mutedOverlay",help:yr("Show an image over the top of the video either before or after the video.","presto-player")})),(null==d?void 0:d.enabled)&&(null==i?void 0:i.enabled)&&(0,g.tZ)(pr,{attributes:a,setAttributes:o})),!(null!=i&&i.enabled)&&(0,g.tZ)(mr,{label:yr("Autoplay","presto-player"),className:"presto-setting__autoplay",onChange:m("autoplay"),checked:l,help:function(e){return e?yr("Note: Autoplaying videos may cause usability issues for some visitors.","presto-player"):null}}),(0,g.tZ)(Zr,null,(0,g.tZ)(mr,{label:yr("Play inline","presto-player"),className:"presto-setting__playsInline","data-cy":"playsInline",onChange:m("playsInline"),checked:s,help:yr("On mobile browsers, play the video on the page instead of opening it up fullscreen.","presto-player")})),!(null!=a&&a.video_id)&&(0,g.tZ)(Zr,null,(0,g.tZ)(hr,{label:(0,g.tZ)(_r,null,(0,g.tZ)("div",null,yr("Performance Preference","presto-player")),(0,g.tZ)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,g.tZ)(wr,{icon:"editor-help"}))),className:"presto-setting__preload",value:c,onChange:function(e){return o({preload:e})},help:(!!(null!=a&&a.src&&(0,Qt.dA)(null==a?void 0:a.src)&&["metadata","none"].includes(c))||"none"===c&&!p)&&yr("A poster image is recommended for this setting.","presto-player"),options:[{value:"auto",label:yr("Video Playback Speed","presto-player")},{value:"metadata",label:yr("Page Load Speed","presto-player")},{value:"none",label:yr("Page Load Speed (Extreme)","presto-player")}]})),(0,g.tZ)(Pr,null,(0,g.tZ)(br,{className:"editor-video-poster-control"},(0,g.tZ)(br.VisualLabel,null,(0,g.tZ)("p",null,yr("Poster image","presto-player"))),(0,g.tZ)(Cr,{title:yr("Select poster image","presto-player"),onSelect:function(e){o({poster:e.url})},allowedTypes:Or,render:function(e){var t=e.open;return(0,g.tZ)(gr,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":v},yr(p?"Replace":"Select","presto-player"))}}),(0,g.tZ)("p",{id:v,hidden:!0},p?sprintf(yr("The current poster image url is %s","presto-player"),p):yr("There is no poster image currently selected","presto-player")),!!p&&(0,g.tZ)(gr,{onClick:function(){o({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},yr("Remove","presto-player")))))};function $r(e){var t,r,n,p,d=e.attributes,f=e.setAttributes,y=(0,i.useSelect)((function(e){return e(l.store).canUser("read","settings")}));return(0,g.tZ)(React.Fragment,null,(0,g.tZ)(o.PanelBody,{title:(0,g.tZ)(React.Fragment,null,(0,a.__)("Chapters","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,g.tZ)(u.Z,null)),initialOpen:null===(r=prestoPlayer)||void 0===r?void 0:r.isPremium},(0,g.tZ)(c.Z,{setAttributes:f,attributes:d})),(0,g.tZ)(o.PanelBody,{title:(0,g.tZ)(React.Fragment,null,(0,a.__)("Overlays","presto-player")," ",!(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium)&&(0,g.tZ)(u.Z,null)),initialOpen:null===(p=prestoPlayer)||void 0===p?void 0:p.isPremium},(0,g.tZ)(ye,{setAttributes:f,attributes:d})),(0,g.tZ)(o.PanelBody,{title:(0,a.__)("Video settings","presto-player")},(0,g.tZ)(Er,{setAttributes:f,attributes:d})),(0,g.tZ)(o.PanelBody,{title:(0,a.__)("Video Preset","presto-player")},(0,g.tZ)(Kt,{setAttributes:f,attributes:d})),!!y&&(0,g.tZ)(o.PanelBody,{title:(0,a.__)("Global Player Branding","presto-player"),initialOpen:!1},(0,g.tZ)(s.Z,{setAttributes:f,attributes:d})))}},2383:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(3324),o=(r(9307),r(917)),a=wp.components,i=a.Button,l=a.Placeholder,s=a.TextControl,c=a.Flex,u=a.FlexItem,p=a.FlexBlock,d=wp.element.useState,__=wp.i18n.__;function f(e){var t=e.attributes,r=(e.setAttributes,e.icon),a=e.onSelectURL,f=e.label,y=e.instructions,v=e.placeholder,m=t.src,h=d({src:m}),b=(0,n.Z)(h,2),g=b[0],Z=b[1];return(0,o.tZ)(l,{icon:r,label:f||__("Presto Embedded Video","presto-player"),instructions:y||__("Enter video URL","presto-player")},(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),a(g.url)}},(0,o.tZ)(c,{style:{width:"100%",maxWidth:"400px"}},(0,o.tZ)(p,null,(0,o.tZ)(s,{type:"url",className:"presto-link-placeholder-input",placeholder:v||__("Youtube URL","presto-player"),value:g.url,onChange:function(e){return Z({url:e})}})),(0,o.tZ)(u,null,(0,o.tZ)(i,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},__("Add Video","presto-player"))))))}},1713:function(e,t,r){"use strict";var n=r(4942),o=r(9062),a=r(9307),i=r(4831),l=r(7161),s=r(9818),c=r(6263),u=r(917);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t,r,n,p,f,y=e.src,v=e.classes,m=e.preset,h=e.branding,b=e.attributes,g=e.adminPreview,Z=e.currentTime,w=e.preload,_=void 0===w?"metadata":w,k=e.overlays,x=e.type,C=(0,a.useRef)(),P=b.previewThumbnail,O=b.preview,S=b.chapters,E=b.poster,$=b.mutedOverlay,N=b.mutedPreview,T=b.title,A=(0,s.useSelect)((function(e){var t,r;return{youtube:null===(t=e("presto-player/player"))||void 0===t?void 0:t.youtube(),playerCSS:null===(r=e("presto-player/player"))||void 0===r?void 0:r.playerCSS()}})),R=A.youtube,j=A.playerCSS;return(0,a.useEffect)((function(){C.current.src=y,C.current["data-css"]=j,C.current.classes=v,C.current.currentTime=Z,C.current.overlays=k,C.current.isAdmin=!0,C.current.preload=_,C.current.preset=m,C.current.bunny={thumbnail:P,preview:O},C.current.youtube={channelId:null==R?void 0:R.channel_id},C.current.tracks=(0,o.Z)(null!=m&&m.captions?[{kind:"captions",label:"English",srclang:"en",src:"/path/to/captions.en.vtt",default:!0}]:[]),C.current.branding=h,C.current.chapters=S,C.current.blockAttributes=b,C.current.poster=E,C.current.provider="audio"===x?"audio":(0,l.VH)(y),C.current.mediaTitle=T}),[y,v,m,h,b,g,Z,_,k,x]),(0,u.tZ)("div",{className:"wp-block-video presto-block-video",style:"audio"===x?d(d(d({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px")},null!=m&&m.background_color?{"--plyr-audio-controls-background":m.background_color}:{"--plyr-audio-controls-background":null==h?void 0:h.color}),null!=m&&m.control_color?{"--plyr-audio-control-color":m.control_color,"--plyr-range-thumb-background":m.control_color,"--plyr-range-fill-background":m.control_color,"--plyr-audio-progress-buffered-background":(0,c.eR)(m.control_color||(null==h?void 0:h.color)||"#00b3ff",.5)}:{"--plyr-audio-control-color":"#ffffff","--plyr-range-thumb-background":"#ffffff","--plyr-range-fill-background":"#ffffff"}),{},{"--plyr-range-thumb-shadow":"0px"}):d(d(d({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px")},null!=m&&m.caption_background?{"--plyr-captions-background":m.caption_background}:{}),null!=h&&h.color?{"--plyr-color-main":"var(--presto-player-highlight-color, ".concat(h.color,")")}:{}),{},{"--presto-player-email-border-radius":"".concat((null==m||null===(t=m.email_collection)||void 0===t?void 0:t.border_radius)||0,"px"),"--presto-player-logo-width":"".concat((null==h?void 0:h.logo_width)||75,"px")})},(0,u.tZ)(i.pv,{ref:C},(0,u.tZ)("div",{slot:"player-end"},!(null===(r=m.search)||void 0===r||!r.enabled)&&(0,u.tZ)(i.Zs,{style:{position:"absolute",top:"15px",right:"23px",zIndex:1},placeholder:null===(n=m.search)||void 0===n?void 0:n.placeholder}),(null==N?void 0:N.enabled)&&(null==$?void 0:$.enabled)&&(0,u.tZ)("div",{className:"presto-player__overlay is-image",style:{position:"absolute",width:"".concat((null==$?void 0:$.width)||100,"%"),left:"".concat(100*((null==$||null===(p=$.focalPoint)||void 0===p?void 0:p.x)||.5),"%"),top:"".concat(100*((null==$||null===(f=$.focalPoint)||void 0===f?void 0:f.y)||.5),"%")}},(0,u.tZ)("img",{src:null==$?void 0:$.src,style:{transform:"translateX(-50%) translateY(-50%)"}})),g)))}},4994:function(e,t,r){"use strict";var n=r(5861),o=r(3324),a=(r(9307),r(1284)),i=r.n(a),l=r(9807),s=r(917),__=wp.i18n.__,c=wp.components,u=c.ColorPicker,p=c.Button,d=c.withNotices,f=c.BaseControl,y=c.RangeControl,v=wp.blockEditor,m=v.MediaUpload,h=v.MediaUploadCheck,b=wp.compose.useInstanceId,g=wp.element.useState,Z=wp.data,w=Z.dispatch,_=Z.useSelect,k=["image"];t.Z=d((function e(t){t.setAttributes,t.attributes;var r,a=t.type,c=b(e),d=g(1),v=(0,o.Z)(d,2),Z=v[0],x=v[1],C=_((function(e){return e("presto-player/player").branding()})),P=function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("presto-player/player").saveOptions({branding:C});case 2:wp.data.dispatch("core/notices").createNotice("success","Player branding saved.",{type:"snackbar",isDismissible:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.tZ)("div",{className:"presto-player__panel--branding"},"audio"!==a&&(0,s.tZ)("p",null,__("Here you can select the global player branding This will apply to all players on the site.","presto-player")),(0,s.tZ)(h,null,(0,s.tZ)(f,{className:"editor-video-poster-control"},"audio"!==a&&(0,s.tZ)(React.Fragment,null,(0,s.tZ)(f.VisualLabel,null,(0,s.tZ)("p",null,__("Logo Overlay","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,s.tZ)(l.Z,null))),(0,s.tZ)(m,{title:__("Select logo overlay image","presto-player"),onSelect:function(e){w("presto-player/player").updateBranding("logo",e.url)},allowedTypes:k,render:function(e){var t=e.open;return(0,s.tZ)(p,{className:"presto-setting__logo",isSecondary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?t():w("presto-player/player").setProModal(!0)},"aria-describedby":"video-block__logo-image-description-".concat(c)},null!=C&&C.logo?__("Replace","presto-player"):__("Select","presto-player"))}})),(0,s.tZ)("p",{id:"video-block__logo-image-description-".concat(c),hidden:!0},null!=C&&C.logo?sprintf(/* translators: %s: poster image URL. */
__("The current logo image url is %s","presto-player"),null==C?void 0:C.logo):__("There is no logo image currently selected","presto-player")),!(null==C||!C.logo)&&(0,s.tZ)(p,{onClick:function(){w("presto-player/player").updateBranding("logo","")},isTertiary:!0},__("Remove","presto-player")))),!(null==C||!C.logo)&&(0,s.tZ)(y,{label:__("Logo Max Width","presto-player"),value:(null==C?void 0:C.logo_width)||150,onChange:function(e){return w("presto-player/player").updateBranding("logo_width",e)},min:1,max:400}),(0,s.tZ)(u,{color:null==C?void 0:C.color,onChangeComplete:function(e){w("presto-player/player").updateBranding("color",e.hex)},key:Z,disableAlpha:!0}),(null==C?void 0:C.color)&&(0,s.tZ)(f,null,(0,s.tZ)(p,{isSecondary:!0,onClick:function(){var e,t;w("presto-player/player").updateBranding("color",(null===(e=prestoPlayer)||void 0===e||null===(t=e.defaults)||void 0===t?void 0:t.color)||"#00b3ff"),x(Z+1)}},__("Reset Color","presto-player"))),(0,s.tZ)(p,{isPrimary:!0,onClick:P},__("Save Branding","presto-player")))}))},398:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(9062),o=r(4942),a=r(3324),i=r(9307),l=r(5736),s=r(5609),c=r(7161),u=r(917),p=function(e){var t=e.update,r=e.add,n=e.remove,o=e.className,p=e.time,d=e.title,f=(0,i.useState)(p),y=(0,a.Z)(f,2),v=y[0],m=y[1];return(0,u.tZ)(s.Flex,{align:"center",className:o},(0,u.tZ)(s.FlexItem,null,(0,u.tZ)(s.TextControl,{className:"presto-player__caption--time",style:{width:"60px"},placeholder:"0:00",value:v,onChange:function(e){return m(e)},onBlur:function(){var e=(0,c.as)(v);t({time:e}),m(e)},autoComplete:"off"})),(0,u.tZ)(s.FlexBlock,null,(0,u.tZ)(s.TextControl,{className:"presto-player__caption--title",placeholder:(0,l.__)("Title","presto-player"),value:d||"",onChange:function(e){return t({title:e})},autoComplete:"off"})),(0,u.tZ)(s.FlexItem,null,n&&(0,u.tZ)(s.Button,{icon:"minus",className:"ph-chapter__remove",style:{marginBottom:"8px"},label:(0,l.__)("Remove Chapter","presto-player"),onClick:n}),r&&(0,u.tZ)(s.Button,{icon:"plus-alt",className:"ph-chapter__add",label:(0,l.__)("Add Chapter","presto-player"),style:{marginBottom:"8px"},onClick:function(){r(),m("")}})))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}wp.i18n.__;var y=wp.element.useState,v=wp.data.dispatch,m=function(e){var t,r=e.setAttributes,o=e.attributes,i=function(){v("presto-player/player").setProModal(!0)};if(null===(t=prestoPlayer)||void 0===t||!t.isPremium)return(0,u.tZ)(p,{disabled:!0,className:"ph-chapter is-new",time:"",title:"",update:function(){},showNotice:i,add:i});var l=o.chapters,s=y({title:"",time:""}),c=(0,a.Z)(s,2),d=c[0],m=c[1];return(0,u.tZ)(React.Fragment,null,(l||[]).sort((function(e,t){return parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])==0?parseInt(e.time.split(":")[1])-parseInt(t.time.split(":")[1]):parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])})).map((function(e,t){return(0,u.tZ)(p,{key:"".concat(t,"-").concat(e.time),className:"ph-chapter",time:e.time,title:e.title,chapter:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l.indexOf(e),o=l.map((function(e,r){return r!==n?e:f(f({},e),t)}));r({chapters:o})}(e,t)},remove:function(){!function(e){var t=l.indexOf(e);r({chapters:l.filter((function(e,r){return r!==t}))})}(e)}})})),(0,u.tZ)(p,{className:"ph-chapter is-new",time:d.time,title:d.title,update:function(e){m(f(f({},d),e))},add:function(){d.time&&d.title&&(r({chapters:[].concat((0,n.Z)(l||[]),[{time:d.time,title:d.title}])}),m({title:"",time:""}))}}))}},1145:function(e,t,r){"use strict";var n,o=r(168),a=r(3324),i=(r(9307),r(7453)),l=wp.components,s=l.ColorPicker,c=l.ColorIndicator,u=l.Popover,p=l.Button,d=(l.Flex,wp.element),f=d.useState,y=d.useEffect,__=wp.i18n.__,v={name:"dbcz6",styles:"width:25px;height:25px;border-radius:9999px"},m={name:"h3ohiq",styles:"display:flex;align-items:center;justify-content:space-between;padding:10px"},h={name:"1yzqyz8",styles:"margin:0 5px"},b={name:"iml53j",styles:"display:flex;justify-content:flex-end;padding:10px"},g={name:"1yzqyz8",styles:"margin:0 5px"};t.Z=function(e){var t=e.color,r=e.setColor,l=e.onFocus,d=f(!1),Z=(0,a.Z)(d,2),w=Z[0],_=Z[1],k=f(t),x=(0,a.Z)(k,2),C=x[0],P=x[1];return y((function(){w&&t&&P(t)}),[w]),(0,i.tZ)("span",null,(0,i.tZ)(c,{css:v,colorValue:t,onClick:function(){_(!w),l&&l()}}),!!w&&(0,i.tZ)(u,{position:"bottom left",focusOnMount:!0,onFocusOutside:function(e){_(!1)},css:(0,i.iv)(n||(n=(0,o.Z)(["\n            .components-color-picker,\n            .react-colorful {\n              width: 100%;\n            }\n          "])))},(0,i.tZ)(s,{color:t||"",onChangeComplete:function(e){return(null==e?void 0:e.hex)&&r(e)},disableAlpha:!0}),(0,i.tZ)("div",{css:m},(0,i.tZ)(p,{css:h,isTertiary:!0,onClick:function(){r({hex:null}),_(!1)}},__("Reset","presto-player")),(0,i.tZ)("div",{css:b},(0,i.tZ)(p,{css:g,isTertiary:!0,onClick:function(){r({hex:C}),_(!1)}},__("Cancel","presto-player")),(0,i.tZ)(p,{isPrimary:!0,onClick:function(){return _(!1)}},__("Apply","presto-player"))))))}},9807:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}}),r(9307);var n=r(917),__=wp.i18n.__;function o(){return(0,n.tZ)("div",{className:"presto-player__pro-badge"},__("Pro","presto-player"))}},1006:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n,o,a,i,l,s,c,u,p=r(7462),d=r(9062),f=r(5861),y=r(3324),v=r(5987),m=r(9307),h=r(1284),b=r.n(h),g=r(5736),Z=window.wp.url,w=r(3961),_=r(7798),k=r(6989),x=r.n(k),C=r(9818),P=r(9496),O=r.n(P),S=r(168),E=r(5609),$=r(7453),N=r(917),T=["options","isLoading","hasMore","search","onSearch","onSelect","onNextPage","onCreate","renderItem"],A=function(e){var t=e.options,r=e.isLoading,s=e.hasMore,c=e.search,u=e.onSearch,d=e.onSelect,f=e.onNextPage,y=e.onCreate,m=e.renderItem,h=void 0===m?null:m,b=(0,v.Z)(e,T);return(0,N.tZ)("div",{class:"pp_search_dropdown_container",css:(0,$.iv)(a||(a=(0,S.Z)(["\n        width: 100%;\n        position: relative;\n      "])))},(0,N.tZ)(E.Dropdown,(0,p.Z)({renderContent:function(){return(0,N.tZ)("div",{css:(0,$.iv)(i||(i=(0,S.Z)(["\n              width: 500px;\n              max-width: 100vw;\n              .components-menu-group {\n                padding: 8px;\n                margin-top: 0;\n                margin-bottom: 0;\n                margin-left: -8px;\n                margin-right: -8px;\n              }\n              .components-menu-group + .components-menu-group {\n                margin-top: 0;\n                border-top: 1px solid #ccc;\n                padding: 8px;\n              }\n              .components-menu-group:last-child {\n                margin-bottom: -8px;\n              }\n              .components-menu-group:first-child {\n                margin-top: -8px;\n              }\n            "])))},(0,N.tZ)(E.SearchControl,{placeholder:(0,g.__)("Search...","presto-player"),value:c,onChange:u,css:(0,$.iv)(l||(l=(0,S.Z)(["\n                padding: 0.5em 0.5em 0em 0.5em;\n              "])))}),r&&!t.length?(0,N.tZ)(E.Spinner,null):(0,N.tZ)(React.Fragment,null,!!y&&(0,N.tZ)(E.MenuGroup,null,(0,N.tZ)(E.MenuItem,{icon:(0,N.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",css:(0,$.iv)(n||(n=(0,S.Z)(["\n                    width: 18px;\n                  "])))},(0,N.tZ)("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})),iconPosition:"left",onClick:y},(0,g.__)("Add New","presto-player"))),!t.length&&c?(0,N.tZ)(E.Disabled,null,(0,N.tZ)(E.MenuItem,null,(0,g.__)("None found.","presto-player"))):(0,N.tZ)(E.MenuGroup,null,(t||[]).map((function(e){var t;return h?h({item:e,onSelect:d}):(0,N.tZ)(E.MenuItem,(0,p.Z)({icon:null==e?void 0:e.icon,iconPosition:"left",onClick:function(){return d(e)}},e),(null==e||null===(t=e.title)||void 0===t?void 0:t.raw)||"Untitled")}))),s&&t.length&&(0,N.tZ)("div",{css:(0,$.iv)(o||(o=(0,S.Z)(["\n              margin-top: 20px;\n              text-align: center;\n              display: flex;\n              justify-content: center;\n              width: 100%;\n            "])))},(0,N.tZ)(E.Button,{variant:"secondary",size:"small",onClick:f,isBusy:r},(0,g.__)("Load More","presto-player")))))}},b)))},R=r(4981),j=function(e){var t,r,n=e.thumbnail,o=e.type;return n?(0,N.tZ)("img",{css:(0,$.iv)(c||(c=(0,S.Z)(["\n          width: 24px;\n          height: 24px;\n          object-fit: cover;\n          margin-right: 8px;\n          border-radius: 3px;\n        "]))),src:n,alt:"Presto video thumbnail"}):(0,N.tZ)("div",{css:(0,$.iv)(u||(u=(0,S.Z)(["\n        width: 24px;\n        margin-right: 8px;\n        line-height: 0;\n      "])))},null!=(r=(0,R.getBlockType)("presto-player/".concat(o)))&&null!==(t=r.icon)&&void 0!==t&&t.src?r.icon.src:(0,N.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",css:(0,$.iv)(s||(s=(0,S.Z)(["\n          color: var(--wp-admin-theme-color, #007cba);\n        "])))},(0,N.tZ)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z",clipRule:"evenodd"})))},L=r(7161),I=["onSelect","value"],D=function(e){var t=e.onSelect,r=e.value,n=(0,v.Z)(e,I),o=(0,m.useState)(""),a=(0,y.Z)(o,2),i=a[0],l=a[1],s=(0,m.useState)(1),c=(0,y.Z)(s,2),u=c[0],h=c[1],k=(0,m.useState)(!1),P=(0,y.Z)(k,2),S=P[0],$=P[1],T=(0,m.useState)([]),R=(0,y.Z)(T,2),D=R[0],B=R[1],M=(0,m.useState)(0),F=(0,y.Z)(M,2),V=F[0],U=F[1],z=(0,C.useDispatch)(w.store).createErrorNotice,G=(0,C.useDispatch)(_.store).receiveEntityRecords,H=O()((function(){h(1),B(null),q()}),500,{leading:!0});(0,m.useEffect)((function(){H(i)}),[i]),(0,m.useEffect)((function(){q()}),[u]);var W=u<V,q=function(){var e=(0,f.Z)(b().mark((function e(){var t,r,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(!0),t=(0,C.select)(_.store).getEntityConfig("postType","pp_video_block").baseURL,e.next=5,x()({path:(0,Z.addQueryArgs)(t,{search:i,page:u,per_page:10,_embed:1}),parse:!1});case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,U(parseInt(r.headers.get("X-WP-TotalPages"))),G("postType","pp_video_block",n),B(!i&&u>1?[].concat((0,d.Z)(D),(0,d.Z)(n)):n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),z((null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,g.__)("Something went wrong","presto-player"),{type:"snackbar"});case 17:return e.prev=17,$(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),Y=Array.isArray(r)?r:[r];return(0,N.tZ)(A,(0,p.Z)({popoverProps:{placement:"bottom-end"},isLoading:S,options:D||[],search:i,onSearch:l,onSelect:function(e){e&&t(e)},hasMore:W&&!i,onNextPage:function(){var e=u+1;h(e=e>V?V:e)},renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,N.tZ)(E.Button,{variant:"primary",onClick:r,"aria-expanded":t},(0,g.__)("Create or select media","presto-player"))},renderItem:function(e){var t,r,n,o=e.item,a=e.onSelect,i=o.id,l=o.title,s=(o.details||{}).type,c=(null==o||null===(t=o._embedded)||void 0===t||null===(r=t["wp:featuredmedia"])||void 0===r||null===(n=r[0])||void 0===n?void 0:n.source_url)||"";return(0,N.tZ)(E.MenuItem,{icon:(0,N.tZ)(j,{thumbnail:c,type:s}),iconPosition:"left",suffix:s?(0,L.kC)(s):(0,g.__)("Choose media","presto-player"),onClick:function(){return a(o)},disabled:(Y||[]).includes(i),key:i},(null==l?void 0:l.raw)||(0,g.__)("Untitled","presto-player"))}},n))}},5297:function(e,t,r){"use strict";var n,o,a,i,l,s,c,u=r(168),p=r(4942),d=r(3324),f=(r(9307),r(7453));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var __=wp.i18n.__,m=wp.components,h=m.Button,b=m.Popover,g=m.Icon,Z=wp.blockEditor.__experimentalLinkControl,w=wp.element.useState,_=wp.url.prependHTTP;t.Z=function(e){var t=e.setSettings,r=e.settings,p=w(!1),y=(0,d.Z)(p,2),m=y[0],k=y[1],x=r.url,C=w(),P=(0,d.Z)(C,2),O=P[0],S=P[1],E=v({url:null==r?void 0:r.url,type:null==r?void 0:r.type,id:null==r?void 0:r.id,opensInNewTab:null==r?void 0:r.opensInNewTab},O),$=function(e){e=v(v({},O),e);var r=E.opensInNewTab!==e.opensInNewTab&&E.url===e.url&&void 0===e.url;if(S(r?e:void 0),!r){var n=_(e.url);t({url:n,type:e.type,id:void 0!==e.id&&null!==e.id?String(e.id):void 0,opensInNewTab:e.opensInNewTab})}};return(0,f.tZ)("span",null,x?(0,f.tZ)("div",{css:(0,f.iv)(n||(n=(0,u.Z)(["\n            display: flex;\n            justify-content: space-between;\n          "])))},(0,f.tZ)("div",{css:(0,f.iv)(o||(o=(0,u.Z)(["\n              max-width: 85%;\n              overflow: hidden;\n              display: flex;\n              align-items: center;\n            "])))},(0,f.tZ)("a",{href:"#",css:(0,f.iv)(a||(a=(0,u.Z)(["\n                padding: 10px;\n                background: #f3f3f3;\n                border-radius: 4px;\n                width: 100%;\n                display: inline-flex;\n                align-items: center;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                text-decoration: none;\n              "]))),onClick:function(){return k(!m)}},(0,f.tZ)(g,{icon:"edit",css:(0,f.iv)(i||(i=(0,u.Z)(["\n                  cursor: pointer;\n                  opacity: 0.75;\n                  margin: 0 2px;\n                  font-size: 16px;\n                  width: 16px;\n                  height: 16px;\n                  text-decoration: none;\n                "])))}),x),m&&(0,f.tZ)(b,{position:"bottom center",onClose:function(){return k(!1)}},(0,f.tZ)(Z,{value:r,onChange:$}))),(0,f.tZ)("div",{css:(0,f.iv)(l||(l=(0,u.Z)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,f.tZ)(g,{onClick:function(){confirm(__("Are you sure you wish to remove this link?","presto-player"))&&t({})},icon:"trash",className:"presto-icon",css:(0,f.iv)(s||(s=(0,u.Z)(["\n                cursor: pointer;\n                opacity: 0.75;\n                margin: 0 2px;\n                fontsize: 18px;\n                width: 18px;\n                height: 18px;\n\n                &:hover {\n                  color: #cc1818;\n                }\n              "])))}))):(0,f.tZ)("span",null,(0,f.tZ)(h,{isPrimary:!0,isSmall:!0,onClick:function(){return k(!m)}},__("Add Link","presto-player")),m&&(0,f.tZ)(b,{css:(0,f.iv)(c||(c=(0,u.Z)(["margin-top: 10px"]))),position:"bottom right",onClose:function(){return k(!1)}},(0,f.tZ)(Z,{value:r,onChange:$}))))}},2777:function(e,t){"use strict";var r={setUrlPrivate:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=private";window.history.pushState({path:t},"",t)},setUrlPublic:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=public";window.history.pushState({path:t},"",t)},unsetUrlParams:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new URL(e);return t.forEach((function(e){r.searchParams.delete(e)})),r.href}(window.location.href,["presto_video_type"]);window.history.pushState({path:e},"",e)}};t.Z=r},3865:function(e,t,r){"use strict";r.d(t,{Z:function(){return W}});var n,o,a,i=r(168),l=r(4942),s=r(3324),c=(r(9307),r(1145)),u=r(5297),p=r(5861),d=r(1284),f=r.n(d),y=r(7453);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h,b,__=wp.i18n.__,g=wp.components,Z=g.TextControl,w=g.ExternalLink,_=g.Button,k=(g.Flex,wp.element),x=k.useState,C=k.useEffect,P=wp.data,O=P.useSelect,S=P.dispatch,E=function(e){var t=e.onClose,r=e.value,l=e.setValue,c=x(!1),u=(0,s.Z)(c,2),d=u[0],v=u[1],h=wp.data.useSelect((function(e){return e("core").canUser("read","settings")})),b=O((function(e){return e("presto-player/player").youtube()}));C((function(){l(b.channel_id)}),[null==b?void 0:b.channel_id]);var g=function(){var e=(0,p.Z)(f().mark((function e(n){var o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),S("presto-player/player").updateYoutube({channel_id:r}),o=m(m({},b),{channel_id:r}),e.prev=4,e.next=7,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 7:null!=(a=e.sent)&&a.presto_player_youtube&&(S("presto-player/player").setYoutube(null==a?void 0:a.presto_player_youtube),t()),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,11,13,16]])})));return function(_x){return e.apply(this,arguments)}}();return h?(0,y.tZ)("form",{onSubmit:g},(0,y.tZ)(Z,{css:(0,y.iv)(n||(n=(0,i.Z)(["\n          margin-bottom: 0 !important;\n        "]))),label:__("Youtube Channel ID","presto-player"),help:(0,y.tZ)("p",null,(0,y.tZ)(w,{href:"https://support.google.com/youtube/answer/3250431?hl=en"},__("Find my channel id","presto-player"))),value:r,onChange:function(e){return l(e)}}),(0,y.tZ)(_,{disabled:d,isBusy:d,css:(0,y.iv)(o||(o=(0,i.Z)(["\n          margin-bottom: 1em;\n        "]))),isPrimary:!0,type:"submot"},__("Save","presto-player")),(0,y.tZ)(_,{onClick:t,css:(0,y.iv)(a||(a=(0,i.Z)(["\n          margin-bottom: 1em;\n        "]))),isTertiary:!0},__("Cancel","presto-player"))):""},$=r(917);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=wp.i18n.__,R=wp.components,j=R.ToggleControl,L=R.Flex,I=R.Button,D=R.BaseControl,B=R.RangeControl,M=R.TextControl,F=R.SelectControl,V=R.TextareaControl,U=wp.element,z=U.useEffect,G=U.useState,H=wp.data.useSelect;function W(e){var t=e.state,r=e.updateState,n=e.className,o=e.value,a=e.setValue,l=t.action_bar,p=G(!1),d=(0,s.Z)(p,2),f=d[0],v=d[1],m=H((function(e){return e("presto-player/player").branding()})),g=H((function(e){return e("presto-player/player").youtube()})),Z=function(e){r(T(T({},t),{},{action_bar:T(T({},l),e)}))};return z((function(){null!=l&&l.text||Z({text:"Like this?"}),null!=l&&l.button_type||Z({button_type:"custom"}),null!=l&&l.button_text||Z({button_text:"Click Here"})}),[t]),(0,$.tZ)("div",{className:n},(0,$.tZ)(D,null,(0,$.tZ)("h3",null,A("Action Bar","presto-player"))),(0,$.tZ)(D,{className:"presto-player__control--large-play"},(0,$.tZ)(j,{label:A("Enable","presto-player"),help:A("Show an action bar below your player while it's playing.","presto-player"),onChange:function(e){Z({enabled:e})},checked:null==l?void 0:l.enabled})),!(null==l||!l.enabled)&&(0,$.tZ)(React.Fragment,null,(0,$.tZ)(D,{className:"presto-player__control--percentage-watched",css:(0,y.iv)(h||(h=(0,i.Z)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,$.tZ)(B,{label:A("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){Z({percentage_start:e})},marks:[{value:0,label:A("Start","presto-player")},{value:50,label:A("50% Watched","presto-player")},{value:100,label:A("End","presto-player")}],shiftStep:5,value:(null==l?void 0:l.percentage_start)||0,css:(0,y.iv)(b||(b=(0,i.Z)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(0,$.tZ)(D,{className:"presto-player__control--large-play"},(0,$.tZ)(V,{label:A("Text","presto-player"),help:A("Action bar text.","presto-player"),value:null==l?void 0:l.text,onChange:function(e){return Z({text:e})}})),(0,$.tZ)(D,{className:"presto-player__control--large-play"},(0,$.tZ)(L,null,(0,$.tZ)(D.VisualLabel,null,A("Action Bar Background","presto-player")),(0,$.tZ)(c.Z,{color:(null==l?void 0:l.background_color)||"#1d1d1d",setColor:function(e){return Z({background_color:e&&e.hex})}}))),(0,$.tZ)(D,null,(0,$.tZ)("h3",null,A("Button","presto-player"))),(0,$.tZ)(D,{className:"presto-player__control--button-type"},(0,$.tZ)(F,{label:A("Button Type","presto-player"),value:null==l?void 0:l.button_type,options:[{value:"custom",label:A("Custom","presto-player")},{value:"youtube",label:A("YouTube Subscribe","presto-player")},{value:"none",label:A("None","presto-player")}],onChange:function(e){return Z({button_type:e})}})),"youtube"===(null==l?void 0:l.button_type)&&(null==g?void 0:g.channel_id)&&(0,$.tZ)(j,{label:A("Show Count","presto-player"),help:A("Show your follower count.","presto-player"),onChange:function(e){Z({button_count:e})},checked:null==l?void 0:l.button_count}),function(){if("youtube"===(null==l?void 0:l.button_type))return f?(0,$.tZ)(E,{onClose:function(){return v(!1)},value:o,setValue:a}):(0,$.tZ)("div",null,(0,$.tZ)(I,{isSecondary:!0,onClick:function(e){e.preventDefault(),v(!0)}},null!=g&&g.channel_id?A("Update Youtube Channel Id","presto-player"):A("Add Youtube Channel Id","presto-player")),(0,$.tZ)("br",null),(0,$.tZ)("br",null),(0,$.tZ)("br",null))}(),"custom"===(null==l?void 0:l.button_type)&&(0,$.tZ)("div",null,(0,$.tZ)(D,{className:"presto-player__control--button-text"},(0,$.tZ)(M,{label:A("Button Text","presto-player"),help:(0,$.tZ)("p",null,A("Submit button text","presto-player")),value:null==l?void 0:l.button_text,onChange:function(e){return Z({button_text:e})}})),(0,$.tZ)(D,{className:"presto-player__control--button-text"},(0,$.tZ)(D.VisualLabel,null,(0,$.tZ)("p",null," ",A("Button Link","presto-player"))),(0,$.tZ)(u.Z,{setSettings:function(e){Z({button_link:e})},settings:(null==l?void 0:l.button_link)||{}})),(0,$.tZ)(D,{className:"presto-player__control--button-radius"},(0,$.tZ)(B,{label:A("Round Corners","presto-player"),help:A("Border radius of the button","presto-player"),value:(null==l?void 0:l.button_radius)||0,onChange:function(e){return Z({button_radius:e})},min:0,max:25})),(0,$.tZ)(D,{className:"presto-player__control--button-color"},(0,$.tZ)(L,null,(0,$.tZ)(D.VisualLabel,null,A("Button Color","presto-player")),(0,$.tZ)(c.Z,{color:(null==l?void 0:l.button_color)||(null==m?void 0:m.color),setColor:function(e){return Z({button_color:e&&e.hex})}}))),(0,$.tZ)(D,{className:"presto-player__control--button-text-color"},(0,$.tZ)(L,null,(0,$.tZ)(D.VisualLabel,null,A("Button Text Color","presto-player")),(0,$.tZ)(c.Z,{color:(null==l?void 0:l.button_text_color)||"#ffffff",setColor:function(e){return Z({button_text_color:e&&e.hex})}}))))))}},7833:function(e,t,r){"use strict";var n,o,a,i,l,s,c=r(168),u=r(4942),p=r(9307),d=r(5736),f=r(5609),y=r(9818),v=r(5297),m=r(1145),h=r(7453);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e){var t=e.state,r=e.updateState,b=e.className,Z=t.cta,w=t.email_collection,_=(0,y.useSelect)((function(e){return e("presto-player/player").branding()})),k={percentage:100,show_rewatch:!0,show_skip:!0,headline:(0,d.__)("Want to learn more?","presto-player"),show_button:!0,button_text:(0,d.__)("Click Here","presto-player"),button_link:{opensInNewTab:!0}};(0,p.useEffect)((function(){Object.keys(k).forEach((function(e){var r;void 0===(null==t||null===(r=t.cta)||void 0===r?void 0:r[e])&&x((0,u.Z)({},e,k[e]))}))}),[t]);var x=function(e){r(g(g({},t),{},{cta:g(g({},Z),e)}))};return(0,h.tZ)("div",{className:b},(0,h.tZ)(f.BaseControl,null,(0,h.tZ)("h3",null,(0,d.__)("Call To Action","presto-player"))),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--large-play"},(0,h.tZ)(f.ToggleControl,{label:(0,d.__)("Enable","presto-player"),help:(0,d.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){x({enabled:e})},checked:null==Z?void 0:Z.enabled})),!(null==Z||!Z.enabled)&&(0,h.tZ)(React.Fragment,null,(0,h.tZ)(f.BaseControl,{className:"presto-player__control--percentage-watched",css:(0,h.iv)(n||(n=(0,c.Z)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,h.tZ)(f.RangeControl,{label:(0,d.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){x({percentage:e})},marks:[{value:0,label:(0,d.__)("Start","presto-player")},{value:50,label:(0,d.__)("50% Watched","presto-player")},{value:100,label:(0,d.__)("End","presto-player")}],shiftStep:5,value:null==Z?void 0:Z.percentage,css:(0,h.iv)(o||(o=(0,c.Z)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(null==w?void 0:w.enabled)&&(null==w?void 0:w.percentage)===(null==Z?void 0:Z.percentage)&&(0,h.tZ)(f.Notice,{css:(0,h.iv)(a||(a=(0,c.Z)(["\n                  margin: 0 0 30px 0 !important;\n                "]))),status:"warning",isDismissible:!1},(0,d.__)("You already have an email capture set display at the same time.","presto-player"),(0,h.tZ)(f.Button,{onClick:function(){r(g(g({},t),{},{email_collection:g(g({},w),{enabled:!1})}))},isLink:!0,css:(0,h.iv)(i||(i=(0,c.Z)(["\n                    margin-top: 10px !important;\n                  "])))},(0,d.__)("Disable Email Capture","presto-player"))),100===(null==Z?void 0:Z.percentage)?(0,h.tZ)(f.BaseControl,{className:"presto-player__control--show-rewatch"},(0,h.tZ)(f.ToggleControl,{label:(0,d.__)("Show Rewatch Button","presto-player"),help:(0,d.__)("Show a rewatch button at the end of the player.","presto-player"),onChange:function(e){x({show_rewatch:e})},checked:null==Z?void 0:Z.show_rewatch})):(0,h.tZ)(f.BaseControl,{className:"presto-player__control--show-skip"},(0,h.tZ)(f.ToggleControl,{label:(0,d.__)("Allow Skipping","presto-player"),help:(0,d.__)("Let the user continue watching the player.","presto-player"),onChange:function(e){x({show_skip:e})},checked:null==Z?void 0:Z.show_skip})),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--button-link"},(0,h.tZ)(f.BaseControl.VisualLabel,null,(0,h.tZ)("p",null," ",(0,d.__)("Link","presto-player"))),(0,h.tZ)(v.Z,{setSettings:function(e){x({button_link:e})},settings:(null==Z?void 0:Z.button_link)||{}})),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--headline"},(0,h.tZ)(f.TextareaControl,{label:(0,d.__)("Headline","presto-player"),help:(0,d.__)("The headline for your form.","presto-player"),value:null==Z?void 0:Z.headline,onChange:function(e){x({headline:e})}})),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--bottom-text"},(0,h.tZ)(f.TextareaControl,{label:(0,d.__)("Bottom Text","presto-player"),help:(0,d.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==Z?void 0:Z.bottom_text,onChange:function(e){x({bottom_text:e})}})),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--show-button"},(0,h.tZ)(f.ToggleControl,{label:(0,d.__)("Show Button","presto-player"),help:(0,d.__)("Show a call to action button.","presto-player"),onChange:function(e){x({show_button:e})},checked:null==Z?void 0:Z.show_button})),!(null==Z||!Z.show_button)&&(0,h.tZ)("div",null,(0,h.tZ)(f.BaseControl,{className:"presto-player__control--button-text"},(0,h.tZ)(f.TextControl,{label:(0,d.__)("Button Text","presto-player"),help:(0,h.tZ)("p",null,(0,d.__)("Button text for the Call To Action","presto-player")),value:null==Z?void 0:Z.button_text,onChange:function(e){return x({button_text:e})}})),(0,h.tZ)("h3",null,(0,d.__)("Style","presto-player")),(0,h.tZ)(f.BaseControl,null,(0,h.tZ)(f.RangeControl,{label:(0,d.__)("Round Corners","presto-player"),help:(0,d.__)("Border radius of form elements.","presto-player"),value:(null==Z?void 0:Z.button_radius)||0,onChange:function(e){return x({button_radius:e})},min:0,max:25,css:(0,h.iv)(l||(l=(0,c.Z)(["\n                    padding-left: 4px;\n                    .components-range-control__root {\n                      align-items: flex-start;\n                    }\n                  "])))})),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--button-color"},(0,h.tZ)(f.Flex,null,(0,h.tZ)(f.BaseControl.VisualLabel,null,(0,d.__)("Button Color","presto-player")),(0,h.tZ)(m.Z,{color:(null==Z?void 0:Z.button_color)||(null==_?void 0:_.color),setColor:function(e){return x({button_color:e&&e.hex})}}))),(0,h.tZ)(f.BaseControl,{className:"presto-player__control--button-text-color"},(0,h.tZ)(f.Flex,null,(0,h.tZ)(f.BaseControl.VisualLabel,null,(0,d.__)("Button Text Color","presto-player")),(0,h.tZ)(m.Z,{color:(null==Z?void 0:Z.button_text_color)||"#ffffff",setColor:function(e){return x({button_text_color:e&&e.hex})}})))),(0,h.tZ)(f.BaseControl,null,(0,h.tZ)(f.RangeControl,{label:(0,d.__)("Background Opacity","presto-player"),help:(0,d.__)("Opacity percentage of the cover background.","presto-player"),value:(null==Z?void 0:Z.background_opacity)||75,onChange:function(e){return x({background_opacity:e})},min:0,max:100,css:(0,h.iv)(s||(s=(0,c.Z)(["\n                padding-left: 4px;\n                .components-range-control__root {\n                  align-items: flex-start;\n                }\n              "])))}))))}Z.defaultProps={catName:"Sandy",eyeColor:"deepblue",age:"120"},t.Z=Z},9632:function(e,t,r){"use strict";r.d(t,{Z:function(){return Ze}});var n,o,a,i,l,s=r(168),c=r(4942),u=(r(9307),r(5736)),p=r(5609),d=r(9818),f=r(9062),y=r(5861),v=r(3324),m=r(1284),h=r.n(m),b=r(917),g=function(){return(0,b.tZ)("div",null,(0,b.tZ)("presto-player-skeleton",{style:{width:"30%",marginBottom:"10px"}}),(0,b.tZ)("presto-player-skeleton",{style:{height:"2rem",marginBottom:"20px"}}))},__=wp.i18n.__,Z=wp.components,w=Z.SelectControl,_=Z.TextControl,k=Z.Notice,x=wp.element,C=x.useEffect,P=x.useState,O=function(e){var t=e.options,r=e.updateEmailState,n=P(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=P([{value:null,label:__("Choose an audience","presto-player")}]),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=P(""),d=(0,v.Z)(p,2),m=d[0],Z=d[1],x=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailchimp/lists"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.name}])})),u(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return C((function(){x()}),[]),a?(0,b.tZ)("div",null,(0,b.tZ)(g,null),(0,b.tZ)(g,null)):m?(0,b.tZ)(k,{className:"presto-notice",status:"error",isDismissible:!1},m):(0,b.tZ)("div",null,(0,b.tZ)(w,{label:__("Choose an audience","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}),(0,b.tZ)(_,{label:__("Tag","presto-player"),help:(0,b.tZ)("p",null,__("Give this contact an optional tag when they are added to the list.","presto-player")),value:null==t?void 0:t.provider_tag,onChange:function(e){return r({provider_tag:e})}}))},S=wp.i18n.__,E=wp.components,$=E.SelectControl,N=E.Notice,T=wp.element,A=T.useEffect,R=T.useState,j=function(e){var t=e.options,r=e.updateEmailState,n=R(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=R([{value:null,label:S("Choose a group","presto-player")}]),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=R(""),d=(0,v.Z)(p,2),m=d[0],Z=d[1],w=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailerlite/groups"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.name}])})),u(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return A((function(){w()}),[]),a?(0,b.tZ)(g,null):m?(0,b.tZ)(N,{className:"presto-notice",status:"error",isDismissible:!1},m):(0,b.tZ)("div",null,(0,b.tZ)($,{label:S("Choose a group","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}))},L=wp.i18n.__,I=wp.components,D=I.SelectControl,B=I.Notice,M=wp.element,F=M.useEffect,V=M.useState,U=function(e){var t=e.options,r=e.updateEmailState,n=V(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=V(!1),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=V([{value:null,label:L("Choose a list","presto-player")}]),d=(0,v.Z)(p,2),m=d[0],Z=d[1],w=V([{value:null,label:L("Choose a tag","presto-player")}]),_=(0,v.Z)(w,2),k=_[0],x=_[1],C=V(""),P=(0,v.Z)(C,2),O=P[0],S=P[1],E=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/lists"});case 4:t=e.sent,r=m,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.name||L("Default list","presto-player")}])})),Z(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/tags"});case 4:t=e.sent,r=k,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.tag}])})),x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return F((function(){E(),$()}),[]),O?(0,b.tZ)(B,{className:"presto-notice",status:"error",isDismissible:!1},O):(0,b.tZ)("div",null,a?(0,b.tZ)(g,null):m.length>1&&(0,b.tZ)(D,{label:L("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:m,onChange:function(e){return r({provider_list:e})}}),c?(0,b.tZ)(g,null):k.length>1&&(0,b.tZ)(D,{label:L("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:k,onChange:function(e){return r({provider_tag:e})}}))},z=wp.i18n.__,G=wp.components,H=G.SelectControl,W=G.Notice,q=wp.element,Y=q.useEffect,X=q.useState,K=function(e){var t=e.options,r=e.updateEmailState,n=X(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=X(!1),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=X([{value:null,label:z("Choose a list","presto-player")}]),d=(0,v.Z)(p,2),m=d[0],Z=d[1],w=X([{value:null,label:z("Choose a tag","presto-player")}]),_=(0,v.Z)(w,2),k=_[0],x=_[1],C=X(""),P=(0,v.Z)(C,2),O=P[0],S=P[1],E=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/lists"});case 4:t=e.sent,r=m,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.title||e.slug}])})),Z(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/tags"});case 4:t=e.sent,r=k,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.title||e.slug}])})),x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Y((function(){E(),$()}),[]),O?(0,b.tZ)(W,{className:"presto-notice",status:"error",isDismissible:!1},O):(0,b.tZ)("div",null,a?(0,b.tZ)(g,null):m.length>1&&(0,b.tZ)(H,{label:z("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:m,onChange:function(e){return r({provider_list:e})}}),c?(0,b.tZ)(g,null):k.length>1&&(0,b.tZ)(H,{label:z("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:k,onChange:function(e){return r({provider_tag:e})}}))},Q=wp.i18n.__,J=wp.components,ee=J.SelectControl,te=J.Notice,re=wp.element,ne=re.useEffect,oe=re.useState,ae=function(e){var t=e.options,r=e.updateEmailState,n=oe(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=oe([{value:null,label:Q("Choose a webhook","presto-player")}]),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=oe(""),d=(0,v.Z)(p,2),m=d[0],Z=d[1],w=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/webhook"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,f.Z)(r),[{value:e.id,label:e.name}])})),u(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return ne((function(){w()}),[]),a?(0,b.tZ)(g,null):m?(0,b.tZ)(te,{className:"presto-notice",status:"error",isDismissible:!1},m):(0,b.tZ)("div",null,(0,b.tZ)(ee,{label:Q("Choose a webhook","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}))},ie=wp.i18n.__,le=wp.components,se=le.SelectControl,ce=le.Button,ue=le.Flex,pe=le.Icon,de=wp.element,fe=de.useEffect,ye=de.useState,ve=function(e){var t=e.options,r=e.updateEmailState,n=ye(!1),o=(0,v.Z)(n,2),a=o[0],i=o[1],l=ye([{value:"none",label:ie("None","presto-player")}]),s=(0,v.Z)(l,2),c=s[0],u=s[1],p=ye(""),d=(0,v.Z)(p,2),m=d[0],Z=d[1],w={presto_player_activecampaign:{label:"ActiveCampaign",value:"activecampaign"},presto_player_mailchimp:{label:"MailChimp",value:"mailchimp"},presto_player_mailerlite:{label:"MailerLite",value:"mailerlite"},presto_player_fluentcrm:{label:"FluentCRM",value:"fluentcrm"}},_=function(){var e=(0,y.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),Z(""),e.prev=2,e.next=5,wp.apiFetch({path:"wp/v2/settings"});case 5:t=e.sent,r=c,Object.keys(t).forEach((function(e){var n;null!=w&&w[e]&&null!==(n=t[e])&&void 0!==n&&n.connected&&(r=[].concat((0,f.Z)(r),[w[e]]))})),u([].concat((0,f.Z)(r),[{label:ie("Webhooks","presto-player"),value:"webhooks"}])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 14:return e.prev=14,i(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return fe((function(){_()}),[]),a?(0,b.tZ)(g,null):(0,b.tZ)("div",null,m,c.length>1?(0,b.tZ)("div",null,(0,b.tZ)(se,{label:ie("Choose an email provider","presto-player"),value:null==t?void 0:t.provider,options:c,onChange:function(e){return r({provider:e})}}),function(){var e=c.find((function(e){return e.value===(null==t?void 0:t.provider)}));if(Object.keys(e||{}).length)switch(null==t?void 0:t.provider){case"webhooks":return(0,b.tZ)(ae,{options:t,updateEmailState:r});case"mailchimp":return(0,b.tZ)(O,{options:t,updateEmailState:r});case"mailerlite":return(0,b.tZ)(j,{options:t,updateEmailState:r});case"activecampaign":return(0,b.tZ)(U,{options:t,updateEmailState:r});case"fluentcrm":return(0,b.tZ)(K,{options:t,updateEmailState:r})}}()):(0,b.tZ)(ue,null,(0,b.tZ)(ce,{target:"_blank",href:"/wp-admin/edit.php?post_type=pp_video_block&page=presto-player-settings#/integrations",isSecondary:!0,isSmall:!0},ie("Connect a provider","presto-player")),(0,b.tZ)(ce,{isSmall:!0,onClick:function(e){e.preventDefault(),_()}},(0,b.tZ)(pe,{icon:"update"}))))},me=r(1145),he=r(7453);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e){var t=e.state,r=e.updateState,c=e.className,f=t.email_collection,y=t.cta,v=(0,d.useSelect)((function(e){return e("presto-player/player").branding()})),m=function(e){r(ge(ge({},t),{},{email_collection:ge(ge({},f),e)}))};return(0,he.tZ)("div",{className:c},(0,he.tZ)(p.BaseControl,null,(0,he.tZ)("h3",null,(0,u.__)("Email Capture","presto-player"))),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--large-play"},(0,he.tZ)(p.ToggleControl,{label:(0,u.__)("Enable","presto-player"),help:(0,u.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){m({enabled:e})},checked:null==f?void 0:f.enabled})),!(null==f||!f.enabled)&&(0,he.tZ)(React.Fragment,null,(0,he.tZ)(p.BaseControl,{className:"presto-player__control--percentage-watched",css:(0,he.iv)(n||(n=(0,s.Z)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,he.tZ)(p.RangeControl,{label:(0,u.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){m({percentage:e})},marks:[{value:0,label:(0,u.__)("Start","presto-player")},{value:50,label:(0,u.__)("50% Watched","presto-player")},{value:100,label:(0,u.__)("End","presto-player")}],shiftStep:5,value:(null==f?void 0:f.percentage)||0,css:(0,he.iv)(o||(o=(0,s.Z)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(null==y?void 0:y.enabled)&&(null==f?void 0:f.percentage)===(null==y?void 0:y.percentage)&&(0,he.tZ)(p.Notice,{css:(0,he.iv)(a||(a=(0,s.Z)(["\n                margin: 0 0 30px 0 !important;\n              "]))),status:"warning",isDismissible:!1},(0,u.__)("You already have a Call To Action set display at the same time.","presto-player"),(0,he.tZ)(p.Button,{onClick:function(){r(ge(ge({},t),{},{cta:ge(ge({},y),{enabled:!1})}))},isLink:!0,css:(0,he.iv)(i||(i=(0,s.Z)(["\n                  margin-top: 10px !important;\n                "])))},(0,u.__)("Disable Call To Action","presto-player"))),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--large-play"},(0,he.tZ)(p.ToggleControl,{label:(0,u.__)("Allow Skipping","presto-player"),help:(0,u.__)("Let the viewer skip","presto-player"),onChange:function(e){m({allow_skip:e})},checked:null==f?void 0:f.allow_skip})),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--large-play"},(0,he.tZ)(p.TextareaControl,{label:(0,u.__)("Headline","presto-player"),help:(0,u.__)("The headline for your form.","presto-player"),value:null==f?void 0:f.headline,onChange:function(e){m({headline:e})}})),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--large-play"},(0,he.tZ)(p.TextareaControl,{label:(0,u.__)("Bottom Text","presto-player"),help:(0,u.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==f?void 0:f.bottom_text,onChange:function(e){m({bottom_text:e})}})),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--large-play"},(0,he.tZ)(p.TextControl,{label:(0,u.__)("Play Button Text","presto-player"),help:(0,he.tZ)("p",null,(0,u.__)("Submit button text","presto-player")),value:null==f?void 0:f.button_text,onChange:function(e){return m({button_text:e})}})),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--button-color"},(0,he.tZ)(p.Flex,null,(0,he.tZ)(p.BaseControl.VisualLabel,null,(0,u.__)("Button Color","presto-player")),(0,he.tZ)(me.Z,{color:(null==y?void 0:y.button_color)||(null==v?void 0:v.color),setColor:function(e){return m({button_color:e&&e.hex})}}))),(0,he.tZ)(p.BaseControl,{className:"presto-player__control--button-text-color"},(0,he.tZ)(p.Flex,null,(0,he.tZ)(p.BaseControl.VisualLabel,null,(0,u.__)("Button Text Color","presto-player")),(0,he.tZ)(me.Z,{color:(null==y?void 0:y.button_text_color)||"#ffffff",setColor:function(e){return m({button_text_color:e&&e.hex})}}))),(0,he.tZ)("h3",null,(0,u.__)("Integrate","presto-player")),(0,he.tZ)(p.BaseControl,null,(0,he.tZ)(ve,{updateEmailState:m,options:f})),(0,he.tZ)("h3",null,(0,u.__)("Style","presto-player")),(0,he.tZ)(p.BaseControl,null,(0,he.tZ)(p.RangeControl,{label:(0,u.__)("Round Corners","presto-player"),help:(0,u.__)("Border radius of form elements.","presto-player"),value:(null==f?void 0:f.border_radius)||0,onChange:function(e){return m({border_radius:e})},min:0,max:25,css:(0,he.iv)(l||(l=(0,s.Z)(["\n                padding-left: 4px;\n                .components-range-control__root {\n                  align-items: flex-start;\n                }\n              "])))}))))}},9235:function(e,t,r){"use strict";r.d(t,{Z:function(){return $}});var n=r(9062),o=r(3324),a=r(4942),i=(r(9307),r(917));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=wp.i18n,__=c.__,u=c.sprintf,p=wp.components,d=p.NavigableMenu,f=p.MenuItem,y=p.FormFileUpload,v=p.MenuGroup,m=p.ToolbarGroup,h=p.ToolbarButton,b=p.Dropdown,g=(p.SVG,p.Rect,p.Path,p.Button),Z=p.TextControl,w=(p.SelectControl,wp.blockEditor),_=w.MediaUpload,k=w.MediaUploadCheck,x=wp.data.useSelect,C=wp.element.useState,P=["text/vtt"],O=(0,i.tZ)("svg",{viewBox:"0 0 29 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5014 20.2854H28.6316V0.764648H0.110825V20.2854H11.241L14.3712 24.2854L17.5014 20.2854ZM14.3712 21.0401L16.5269 18.2854H26.6316V2.76465H2.11082V18.2854H12.2155L14.3712 21.0401Z"}),(0,i.tZ)("path",{d:"M10.4503 14.9446C9.56226 14.9446 8.76226 14.7606 8.05026 14.3926C7.33826 14.0166 6.77826 13.4966 6.37026 12.8326C5.97026 12.1606 5.77026 11.4006 5.77026 10.5526C5.77026 9.70464 5.97026 8.94864 6.37026 8.28464C6.77826 7.61264 7.33826 7.09264 8.05026 6.72464C8.76226 6.34864 9.56226 6.16064 10.4503 6.16064C11.2663 6.16064 11.9943 6.30464 12.6343 6.59264C13.2743 6.88064 13.8023 7.29664 14.2183 7.84064L12.4303 9.43664C11.9103 8.78064 11.2983 8.45264 10.5943 8.45264C10.0023 8.45264 9.52626 8.64464 9.16626 9.02864C8.80626 9.40464 8.62626 9.91264 8.62626 10.5526C8.62626 11.1926 8.80626 11.7046 9.16626 12.0886C9.52626 12.4646 10.0023 12.6526 10.5943 12.6526C11.2983 12.6526 11.9103 12.3246 12.4303 11.6686L14.2183 13.2646C13.8023 13.8086 13.2743 14.2246 12.6343 14.5126C11.9943 14.8006 11.2663 14.9446 10.4503 14.9446Z"}),(0,i.tZ)("path",{d:"M19.2042 14.9446C18.3162 14.9446 17.5162 14.7606 16.8042 14.3926C16.0922 14.0166 15.5322 13.4966 15.1242 12.8326C14.7242 12.1606 14.5242 11.4006 14.5242 10.5526C14.5242 9.70464 14.7242 8.94864 15.1242 8.28464C15.5322 7.61264 16.0922 7.09264 16.8042 6.72464C17.5162 6.34864 18.3162 6.16064 19.2042 6.16064C20.0202 6.16064 20.7482 6.30464 21.3882 6.59264C22.0282 6.88064 22.5562 7.29664 22.9722 7.84064L21.1842 9.43664C20.6642 8.78064 20.0522 8.45264 19.3482 8.45264C18.7562 8.45264 18.2802 8.64464 17.9202 9.02864C17.5602 9.40464 17.3802 9.91264 17.3802 10.5526C17.3802 11.1926 17.5602 11.7046 17.9202 12.0886C18.2802 12.4646 18.7562 12.6526 19.3482 12.6526C20.0522 12.6526 20.6642 12.3246 21.1842 11.6686L22.9722 13.2646C22.5562 13.8086 22.0282 14.2246 21.3882 14.5126C20.7482 14.8006 20.0202 14.9446 19.2042 14.9446Z"}));function S(e){var t,r=e.tracks,n=e.onEditPress;return t=0===r.length?(0,i.tZ)("p",{className:"block-library-video-tracks-editor__tracks-informative-message"},__("Captions are .vtt files that help make your content more accesible to a wider range of users.","presto-player")):r.map((function(e,t){return(0,i.tZ)("div",{key:t,className:"block-library-video-tracks-editor__track-list-track"},(0,i.tZ)("span",null,e.label," "),(0,i.tZ)(g,{isTertiary:!0,onClick:function(){return n(t)},"aria-label":u(/* translators: %s: Label of the video text track e.g: "French subtitles" */
__("Edit %s","presto-player"),e.label)},__("Edit","presto-player")))})),(0,i.tZ)(v,{label:__("Captions","presto-player"),className:"block-library-video-tracks-editor__track-list"},t)}function E(e){var t=e.track,r=e.onChange,n=e.onClose,o=e.onRemove,a=t.src,l=void 0===a?"":a,c=t.label,u=void 0===c?"":c,p=t.srcLang,f=void 0===p?"":p,y=(t.kind,l.startsWith("blob:")?"":l.substring(l.lastIndexOf("/")+1));return(0,i.tZ)(d,null,(0,i.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor"},(0,i.tZ)("span",{className:"block-library-video-tracks-editor__single-track-editor-edit-track-label"},__("Edit caption track","presto-player")),(0,i.tZ)("span",null,__("File","presto-player"),": ",(0,i.tZ)("b",null,y)),(0,i.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor-label-language"},(0,i.tZ)(Z,{autoFocus:!0,onChange:function(e){return r(s(s({},t),{},{label:e}))},label:__("Label","presto-player"),value:u,help:__("Title of track","presto-player")}),(0,i.tZ)(Z,{onChange:function(e){return r(s(s({},t),{},{srcLang:e}))},label:__("Source language","presto-player"),value:f,help:__("Language tag (en, fr, etc.)","presto-player")})),(0,i.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor-buttons-container"},(0,i.tZ)(g,{isSecondary:!0,onClick:function(){var e={},o=!1;""===u&&(e.label=__("English","presto-player"),o=!0),""===f&&(e.srcLang="en",o=!0),o&&r(s(s({},t),e)),n()}},__("Close","presto-player")),(0,i.tZ)(g,{isDestructive:!0,isLink:!0,onClick:o},__("Remove track","presto-player")))))}function $(e){var t=e.tracks,r=void 0===t?[]:t,a=e.onChange,l=x((function(e){return e("core/block-editor").getSettings().mediaUpload}),[]),c=C(null),u=(0,o.Z)(c,2),p=u[0],g=u[1];return l?(0,i.tZ)(b,{contentClassName:"block-library-video-tracks-editor",renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,i.tZ)(m,null,(0,i.tZ)(h,{label:__("Captions","presto-player"),showTooltip:!0,"aria-expanded":t,"aria-haspopup":"true",onClick:r,icon:O}))},renderContent:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),null!==p?(0,i.tZ)(E,{track:r[p],onChange:function(e){var t=(0,n.Z)(r);t[p]=e,a(t)},onClose:function(){return g(null)},onRemove:function(){a(r.filter((function(e,t){return t!==p}))),g(null)}}):(0,i.tZ)(React.Fragment,null,(0,i.tZ)(d,null,(0,i.tZ)(S,{tracks:r,onEditPress:g}),(0,i.tZ)(v,{className:"block-library-video-tracks-editor__add-tracks-container",label:__("Add caption languages","presto-player")},(0,i.tZ)(_,{onSelect:function(e){var t=e.url,o=r.length;a([].concat((0,n.Z)(r),[{src:t}])),g(o)},allowedTypes:P,render:function(e){var t=e.open;return(0,i.tZ)(f,{icon:"media",onClick:t},__("Open Media Library","presto-player"))}}),(0,i.tZ)(k,null,(0,i.tZ)(y,{onChange:function(e){var t=e.target.files,i=r.length;l({allowedTypes:P,filesList:t,onFileChange:function(e){var t=(0,o.Z)(e,1)[0].url,l=(0,n.Z)(r);l[i]||(l[i]={}),l[i]=s(s({},r[i]),{},{src:t}),a(l),g(i)}})},accept:".vtt,text/vtt",render:function(e){var t=e.openFileDialog;return(0,i.tZ)(f,{icon:"upload",onClick:function(){t()}},__("Upload","presto-player"))}})))))}}):null}},7161:function(e,t,r){"use strict";r.d(t,{D9:function(){return i},VH:function(){return p},ZD:function(){return s},as:function(){return u},i1:function(){return l},kC:function(){return d},nH:function(){return c}});var n=wp.element,o=n.useRef,a=n.useEffect;function i(e){var t=o();return a((function(){t.current=e})),t.current}function l(e){var t=e.status,r=void 0===t?"success":t,n=e.message;wp.data.dispatch("core/notices").createNotice(r,n,{type:"snackbar"})}function s(e){var t,r=e.split(":");return r.length>1&&(t=60*parseInt(r[0])),parseInt(r[1])+parseInt(t)}function c(e){var t=parseInt(e,10),r=Math.floor(t/60);return t<10&&(t="0"+t),r+":"+t}function u(e){var t=e;if(!(t=t.replace(/[^\d\d:\d\d.-]/g,"")).includes(":"))return"".concat(t,":00");0===t.substr(0,t.indexOf(":")).length&&(t="0".concat(t));var r=t.indexOf(":");return t.substring(0,r+3)}function p(e){if(e){if(e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/))return"youtube";if(e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/([a-z]*\/)*([‌​0-9]{6,11})[?]?.*/))return"vimeo";if(e.indexOf("https://vz-")>-1&&e.indexOf("b-cdn.net")>-1)return"bunny";if(e.indexOf(".mp3")>-1)return"audio"}return"self-hosted"}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}},9493:function(e,t,r){"use strict";var n=r(4942),o=r(3324),a=r(9307),i=r(4184),l=r.n(i),s=r(5736),c=r(2819),u=r(5609),p=r(917);t.Z=function(e){var t,r=e.className,i=e.children,d=e.items,f=e.title,y=e.orientation,v=void 0===y?"horizontal":y,m=e.activeClass,h=void 0===m?"is-active":m,b=e.onSelect,g=void 0===b?c.noop:b,Z=(0,a.useState)(null),w=(0,o.Z)(Z,2),_=w[0],k=w[1],x=(0,a.useState)("left"),C=(0,o.Z)(x,2),P=(C[0],C[1]),O=function(e){k(e),g&&g(e)},S=function(e,t){t.click()},E=(0,c.find)(d,{name:_}),$="".concat(null!==(t=null==E?void 0:E.name)&&void 0!==t?t:"none");return(0,a.useEffect)((function(){P(_?"right":"left")}),[_]),(0,p.tZ)("div",{className:r},(0,p.tZ)(u.Animate,{type:"slide-in",origin:E?"right":"left"},(function(e){var t=e.className;return E?(0,p.tZ)("div",{key:$,"aria-labelledby":$,role:"itempanel",id:"".concat($,"-view"),className:l()(t,"presto-player__menu-content")},(0,p.tZ)("div",{className:"presto-player__menu-items"},(0,p.tZ)("div",{className:"presto-player__menu-item is-back-button",onClick:function(){return O("")}},(0,p.tZ)("svg",{class:"back-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img","aria-hidden":"true",focusable:"false"},(0,p.tZ)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),(0,s.__)("Back","presto-player"))),i(E)):(0,p.tZ)("div",{className:l()(t,"is-from-right")},!!f&&(0,p.tZ)("h2",null,f),(0,p.tZ)(u.NavigableMenu,{role:"itemlist",orientation:v,onNavigate:S,className:l()("presto-player__menu-items")},d.map((function(e){return(0,p.tZ)("div",{className:l()("presto-player__menu-item",e.className,(0,n.Z)({},h,e.name===_)),itemId:"".concat(e.name),"aria-controls":"".concat(e.name,"-view"),selected:e.name===_,key:e.name,onClick:(0,c.partial)(O,e.name)},!!e.icon&&(0,p.tZ)("div",{class:"presto-player__menu-icon"},e.icon),e.title,(0,p.tZ)("svg",{className:"submenu-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img",ariaHidden:"true",focusable:"false"},(0,p.tZ)("path",{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})))}))))})))}},9512:function(e,t){"use strict";var r=wp.apiFetch;r.use(r.createNonceMiddleware(prestoPlayer.nonce)),r.use(r.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.prestoVersionString)),t.Z=r},6263:function(e,t,r){"use strict";function n(e){var t,r=(e||"").match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return r&&11===(null==r||null===(t=r[2])||void 0===t?void 0:t.length)?r[2]:null}function o(e){var t=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/.exec(e||"");return(null==t?void 0:t[5])||""}function a(e){var t=o(e);if(t)return{video_id:t,type:"vimeo"};var r=n(e);return r?{video_id:r,type:"youtube"}:{$video_id:0,$type:"none"}}function i(e){return"string"==typeof e&&e.includes(".m3u8")}r.d(t,{L2:function(){return o},Ln:function(){return a},dA:function(){return i},eR:function(){return l},qS:function(){return n}});var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.replace("#","");3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var n=parseInt(r.substring(0,2),16),o=parseInt(r.substring(2,4),16),a=parseInt(r.substring(4,6),16);return t>1&&t<=100&&(t/=100),"rgba("+n+","+o+","+a+","+t+")"}},4184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},9496:function(e){"use strict";function t(e){return"function"==typeof e?e():e}function r(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=void 0,i=void 0,l=void 0,s=[];return function(){var u=t(n),p=(new Date).getTime(),d=!a||p-a>u;a=p;for(var f=arguments.length,y=Array(f),v=0;v<f;v++)y[v]=arguments[v];if(d&&o.leading)return o.accumulate?Promise.resolve(e.call(this,[y])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(y)));if(i?clearTimeout(l):i=r(),s.push(y),l=setTimeout(c.bind(this),u),o.accumulate){var m=s.length-1;return i.promise.then((function(e){return e[m]}))}return i.promise};function c(){var t=i;clearTimeout(l),Promise.resolve(o.accumulate?e.call(this,s):e.apply(this,s[s.length-1])).then(t.resolve,t.reject),s=[],i=null}}},8679:function(e,t,r){"use strict";var n=r(9864),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?i:l[e.$$typeof]||o}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(y){var o=f(r);o&&o!==y&&e(t,o,n)}var i=u(r);p&&(i=i.concat(p(r)));for(var l=s(t),v=s(r),m=0;m<i.length;++m){var h=i[m];if(!(a[h]||n&&n[h]||v&&v[h]||l&&l[h])){var b=d(r,h);try{c(t,h,b)}catch(e){}}}}return t}},9921:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,Z=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case p:case a:case l:case i:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case o:return t}}}function _(e){return w(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=l,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===i||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===g||e.$$typeof===Z||e.$$typeof===h)},t.typeOf=w},9864:function(e,t,r){"use strict";e.exports=r(9921)},6376:function(e,t,r){const n=r(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=r(3295),{re:i,t:l}=r(5765),s=r(2893),{compareIdentifiers:c}=r(6742);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[l.LOOSE]:i[l.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=u},6269:function(e,t,r){const n=r(6376);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},3295:function(e){const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:function(e){const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:function(e){const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2893:function(e){const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=r(3295),o=r(4225),a=(t=e.exports={}).re=[],i=t.src=[],l=t.t={};let s=0;const c=(e,t,r)=>{const n=s++;o(e,n,t),l[e]=n,i[n]=t,a[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${i[l.NUMERICIDENTIFIER]})\\.(${i[l.NUMERICIDENTIFIER]})\\.(${i[l.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${i[l.NUMERICIDENTIFIERLOOSE]})\\.(${i[l.NUMERICIDENTIFIERLOOSE]})\\.(${i[l.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${i[l.NUMERICIDENTIFIER]}|${i[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${i[l.NUMERICIDENTIFIERLOOSE]}|${i[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${i[l.PRERELEASEIDENTIFIER]}(?:\\.${i[l.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${i[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[l.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${i[l.BUILDIDENTIFIER]}(?:\\.${i[l.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${i[l.MAINVERSION]}${i[l.PRERELEASE]}?${i[l.BUILD]}?`),c("FULL",`^${i[l.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${i[l.MAINVERSIONLOOSE]}${i[l.PRERELEASELOOSE]}?${i[l.BUILD]}?`),c("LOOSE",`^${i[l.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${i[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${i[l.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${i[l.XRANGEIDENTIFIER]})(?:\\.(${i[l.XRANGEIDENTIFIER]})(?:\\.(${i[l.XRANGEIDENTIFIER]})(?:${i[l.PRERELEASE]})?${i[l.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${i[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[l.XRANGEIDENTIFIERLOOSE]})(?:${i[l.PRERELEASELOOSE]})?${i[l.BUILD]}?)?)?`),c("XRANGE",`^${i[l.GTLT]}\\s*${i[l.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${i[l.GTLT]}\\s*${i[l.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",i[l.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${i[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${i[l.LONETILDE]}${i[l.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${i[l.LONETILDE]}${i[l.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${i[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${i[l.LONECARET]}${i[l.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${i[l.LONECARET]}${i[l.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${i[l.GTLT]}\\s*(${i[l.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${i[l.GTLT]}\\s*(${i[l.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${i[l.GTLT]}\\s*(${i[l.LOOSEPLAIN]}|${i[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${i[l.XRANGEPLAIN]})\\s+-\\s+(${i[l.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${i[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[l.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7202:function(e,t,r){var n={"./presto-action-bar-ui_2.entry.js":[578,809],"./presto-action-bar_17.entry.js":[2626,809],"./presto-cta-overlay-ui.entry.js":[3285,809],"./presto-email-overlay-ui_2.entry.js":[1871,809],"./presto-player-button.entry.js":[5657,809],"./presto-player-skeleton.entry.js":[4992,809],"./presto-player_4.entry.js":[2361,809],"./presto-playlist.entry.js":[1928,809],"./presto-search-bar-ui.entry.js":[9458,809],"./presto-timestamp.entry.js":[4317,809],"./presto-video-curtain-ui.entry.js":[5704,809],"./presto-video.entry.js":[4178,809]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return r.e(t[1]).then((function(){return r(o)}))}o.keys=function(){return Object.keys(n)},o.id=7202,e.exports=o},6652:function(e,t,r){var n={"./audio/index.js":6496,"./bunny/index.js":6849,"./hosted/index.js":8024,"./playlist-list-item/index.js":6055,"./playlist-list/index.js":8952,"./playlist-preview/index.js":503,"./playlist/index.js":277,"./reusable-display/index.js":318,"./reusable-edit/index.js":2692,"./vimeo/index.js":4048,"./youtube/index.js":2132};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=6652},14:function(e,t,r){var n={"./reusable-videos/index.js":5367};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=14},9196:function(e){"use strict";e.exports=window.React},2819:function(e){"use strict";e.exports=window.lodash},1284:function(e){"use strict";e.exports=window.regeneratorRuntime},6989:function(e){"use strict";e.exports=window.wp.apiFetch},2175:function(e){"use strict";e.exports=window.wp.blockEditor},4981:function(e){"use strict";e.exports=window.wp.blocks},5609:function(e){"use strict";e.exports=window.wp.components},4333:function(e){"use strict";e.exports=window.wp.compose},7798:function(e){"use strict";e.exports=window.wp.coreData},9818:function(e){"use strict";e.exports=window.wp.data},9307:function(e){"use strict";e.exports=window.wp.element},5736:function(e){"use strict";e.exports=window.wp.i18n},3961:function(e){"use strict";e.exports=window.wp.notices},444:function(e){"use strict";e.exports=window.wp.primitives},907:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},3878:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{Z:function(){return n}})},5057:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);function o(e){if(Array.isArray(e))return(0,n.Z)(e)}},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},5861:function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function l(e){n(i,o,a,l,s,"next",e)}function s(e){n(i,o,a,l,s,"throw",e)}l(void 0)}))}}r.d(t,{Z:function(){return o}})},5671:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7343);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.Z)(o.key),o)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7343);function o(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},7462:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:function(){return n}})},1120:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},136:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}},4578:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},9199:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{Z:function(){return n}})},1902:function(e,t,r){"use strict";function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,_x,a,i=[],_n=!0,l=!1;try{if(_x=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;_n=!1}else for(;!(_n=(n=_x.call(r)).done)&&(i.push(n.value),i.length!==t);_n=!0);}catch(e){l=!0,o=e}finally{try{if(!_n&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}r.d(t,{Z:function(){return n}})},5267:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{Z:function(){return n}})},2786:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{Z:function(){return n}})},5987:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(3366);function o(e,t){if(null==e)return{};var r,o,a=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},3366:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return n}})},2963:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1002),o=r(7326);function a(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},9611:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})},3324:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(3878),o=r(1902),a=r(181),i=r(5267);function l(e,t){return(0,n.Z)(e)||(0,o.Z)(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},168:function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{Z:function(){return n}})},9062:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5057),o=r(9199),a=r(181),i=r(2786);function l(e){return(0,n.Z)(e)||(0,o.Z)(e)||(0,a.Z)(e)||(0,i.Z)()}},5512:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(1002);function o(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==(0,n.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},7343:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1002),o=r(5512);function a(e){var t=(0,o.Z)(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},1002:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return n}})},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);function o(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},2407:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(1120),o=r(9611);function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,t,r){return i=a()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,o.Z)(a,r.prototype),a},i.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return i(e,arguments,(0,n.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(a,e)},l(e)}},7563:function(e,t,r){"use strict";r.d(t,{Ab:function(){return i},Fr:function(){return l},G$:function(){return a},K$:function(){return c},MS:function(){return n},h5:function(){return s},lK:function(){return u},uj:function(){return o}});var n="-ms-",o="-moz-",a="-webkit-",i="comm",l="rule",s="decl",c="@import",u="@keyframes"},8160:function(e,t,r){"use strict";r.d(t,{cD:function(){return a},qR:function(){return o}});var n=r(6686);function o(e){var t=(0,n.Ei)(e);return function(r,n,o,a){for(var i="",l=0;l<t;l++)i+=e[l](r,n,o,a)||"";return i}}function a(e){return function(t){t.root||(t=t.return)&&e(t)}}},2190:function(e,t,r){"use strict";r.d(t,{MY:function(){return i}});var n=r(7563),o=r(6686),a=r(6411);function i(e){return(0,a.cE)(l("",null,null,null,[""],e=(0,a.un)(e),0,[0],e))}function l(e,t,r,n,i,p,d,f,y){for(var v=0,m=0,h=d,b=0,g=0,Z=0,w=1,_=1,k=1,x=0,C="",P=i,O=p,S=n,E=C;_;)switch(Z=x,x=(0,a.lp)()){case 40:if(108!=Z&&58==(0,o.uO)(E,h-1)){-1!=(0,o.Cw)(E+=(0,o.gx)((0,a.iF)(x),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:E+=(0,a.iF)(x);break;case 9:case 10:case 13:case 32:E+=(0,a.Qb)(Z);break;case 92:E+=(0,a.kq)((0,a.Ud)()-1,7);continue;case 47:switch((0,a.fj)()){case 42:case 47:(0,o.R3)(c((0,a.q6)((0,a.lp)(),(0,a.Ud)()),t,r),y);break;default:E+="/"}break;case 123*w:f[v++]=(0,o.to)(E)*k;case 125*w:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+m:g>0&&(0,o.to)(E)-h&&(0,o.R3)(g>32?u(E+";",n,r,h-1):u((0,o.gx)(E," ","")+";",n,r,h-2),y);break;case 59:E+=";";default:if((0,o.R3)(S=s(E,t,r,v,m,i,f,C,P=[],O=[],h),p),123===x)if(0===m)l(E,t,S,S,P,p,h,f,O);else switch(99===b&&110===(0,o.uO)(E,3)?100:b){case 100:case 109:case 115:l(e,S,S,n&&(0,o.R3)(s(e,S,S,0,0,i,f,C,i,P=[],h),O),i,O,h,f,n?P:O);break;default:l(E,S,S,S,[""],O,0,f,O)}}v=m=g=0,w=k=1,C=E="",h=d;break;case 58:h=1+(0,o.to)(E),g=Z;default:if(w<1)if(123==x)--w;else if(125==x&&0==w++&&125==(0,a.mp)())continue;switch(E+=(0,o.Dp)(x),x*w){case 38:k=m>0?1:(E+="\f",-1);break;case 44:f[v++]=((0,o.to)(E)-1)*k,k=1;break;case 64:45===(0,a.fj)()&&(E+=(0,a.iF)((0,a.lp)())),b=(0,a.fj)(),m=h=(0,o.to)(C=E+=(0,a.QU)((0,a.Ud)())),x++;break;case 45:45===Z&&2==(0,o.to)(E)&&(w=0)}}return p}function s(e,t,r,i,l,s,c,u,p,d,f){for(var y=l-1,v=0===l?s:[""],m=(0,o.Ei)(v),h=0,b=0,g=0;h<i;++h)for(var Z=0,w=(0,o.tb)(e,y+1,y=(0,o.Wn)(b=c[h])),_=e;Z<m;++Z)(_=(0,o.fy)(b>0?v[Z]+" "+w:(0,o.gx)(w,/&\f/g,v[Z])))&&(p[g++]=_);return(0,a.dH)(e,t,r,0===l?n.Fr:u,p,d,f)}function c(e,t,r){return(0,a.dH)(e,t,r,n.Ab,(0,o.Dp)((0,a.Tb)()),(0,o.tb)(e,2,-2),0)}function u(e,t,r,i){return(0,a.dH)(e,t,r,n.h5,(0,o.tb)(e,0,i),(0,o.tb)(e,i+1,-1),i)}},211:function(e,t,r){"use strict";r.d(t,{P:function(){return i},q:function(){return a}});var n=r(7563),o=r(6686);function a(e,t){for(var r="",n=(0,o.Ei)(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function i(e,t,r,i){switch(e.type){case n.K$:case n.h5:return e.return=e.return||e.value;case n.Ab:return"";case n.lK:return e.return=e.value+"{"+a(e.children,i)+"}";case n.Fr:e.value=e.props.join(",")}return(0,o.to)(r=a(e.children,i))?e.return=e.value+"{"+r+"}":""}},6411:function(e,t,r){"use strict";r.d(t,{FK:function(){return l},JG:function(){return p},QU:function(){return P},Qb:function(){return _},Tb:function(){return d},Ud:function(){return m},cE:function(){return Z},dH:function(){return u},fj:function(){return v},iF:function(){return w},kq:function(){return k},lp:function(){return y},mp:function(){return f},q6:function(){return C},r:function(){return b},tP:function(){return h},un:function(){return g}});var n=r(6686),o=1,a=1,i=0,l=0,s=0,c="";function u(e,t,r,n,i,l,s){return{value:e,root:t,parent:r,type:n,props:i,children:l,line:o,column:a,length:s,return:""}}function p(e,t){return(0,n.f0)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function d(){return s}function f(){return s=l>0?(0,n.uO)(c,--l):0,a--,10===s&&(a=1,o--),s}function y(){return s=l<i?(0,n.uO)(c,l++):0,a++,10===s&&(a=1,o++),s}function v(){return(0,n.uO)(c,l)}function m(){return l}function h(e,t){return(0,n.tb)(c,e,t)}function b(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g(e){return o=a=1,i=(0,n.to)(c=e),l=0,[]}function Z(e){return c="",e}function w(e){return(0,n.fy)(h(l-1,x(91===e?e+2:40===e?e+1:e)))}function _(e){for(;(s=v())&&s<33;)y();return b(e)>2||b(s)>3?"":" "}function k(e,t){for(;--t&&y()&&!(s<48||s>102||s>57&&s<65||s>70&&s<97););return h(e,m()+(t<6&&32==v()&&32==y()))}function x(e){for(;y();)switch(s){case e:return l;case 34:case 39:34!==e&&39!==e&&x(s);break;case 40:41===e&&x(e);break;case 92:y()}return l}function C(e,t){for(;y()&&e+s!==57&&(e+s!==84||47!==v()););return"/*"+h(t,l-1)+"*"+(0,n.Dp)(47===e?e:y())}function P(e){for(;!b(v());)y();return h(e,l)}},6686:function(e,t,r){"use strict";r.d(t,{$e:function(){return m},Cw:function(){return u},Dp:function(){return o},EQ:function(){return s},Ei:function(){return y},R3:function(){return v},Wn:function(){return n},f0:function(){return a},fy:function(){return l},gx:function(){return c},tb:function(){return d},to:function(){return f},uO:function(){return p},vp:function(){return i}});var n=Math.abs,o=String.fromCharCode,a=Object.assign;function i(e,t){return 45^p(e,0)?(((t<<2^p(e,0))<<2^p(e,1))<<2^p(e,2))<<2^p(e,3):0}function l(e){return e.trim()}function s(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,r){return e.replace(t,r)}function u(e,t){return e.indexOf(t)}function p(e,t){return 0|e.charCodeAt(t)}function d(e,t,r){return e.slice(t,r)}function f(e){return e.length}function y(e){return e.length}function v(e,t){return t.push(e),e}function m(e,t){return e.map(t).join("")}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.m=r,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))},o.u=function(e){return e+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="@presto-player/presto-player:",o.l=function(r,n,a,i){if(e[r])e[r].push(n);else{var l,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+a){l=p;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+a),l.src=r),e[r]=[n];var d=function(t,n){l.onerror=l.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),s&&document.head.appendChild(l)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={346:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=a);var i=o.p+o.u(t),l=new Error;o.l(i,(function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}}),"chunk-"+t,t)}};var t=function(t,r){var n,a,i=r[0],l=r[1],s=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);s&&s(o)}for(t&&t(r);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk_presto_player_presto_player=self.webpackChunk_presto_player_presto_player||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};o.r(e),o.d(e,{branding:function(){return w},getAudioPresets:function(){return y},getDefaultAudioPreset:function(){return g},getDefaultPreset:function(){return b},getPreset:function(){return v},getPresets:function(){return f},getReusableVideo:function(){return h},getReusableVideos:function(){return m},playerCSS:function(){return _},presetsLoading:function(){return Z},proModal:function(){return x},youtube:function(){return k}});var t={};o.r(t),o.d(t,{addAudioPreset:function(){return D},addPreset:function(){return R},addVideo:function(){return T},appendVideos:function(){return N},fetchFromAPI:function(){return G},fetchFromWPAPI:function(){return H},fetchOptions:function(){return z},removeAudioPreset:function(){return M},removePreset:function(){return L},saveOptions:function(){return U},setAudioPresets:function(){return I},setBranding:function(){return F},setPresetAudioSettings:function(){return X},setPresetLoading:function(){return P},setPresetSettings:function(){return Y},setPresets:function(){return A},setProModal:function(){return S},setVideos:function(){return E},setVideosLoading:function(){return O},setYoutube:function(){return W},updateAudioPreset:function(){return B},updateBranding:function(){return V},updatePreset:function(){return j},updateVideos:function(){return $},updateYoutube:function(){return q}}),o(9307);var r=o(4942),n=o(9062),a=o(9818),i=o(6989),l=o.n(i),s=o(2819);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat((0,n.Z)(e),[t])},d=(0,a.combineReducers)({presetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRESET":return t.value;case"ADD_PRESET":return[].concat((0,n.Z)(e),[t.value]);case"UPDATE_PRESET":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)}));case"REMOVE_PRESET":return e.filter((function(e){return e!==t.value}))}return e},audioPresetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUDIO_PRESET":case"SET_AUDIO_PRESET":return t.value;case"ADD_AUDIO_PRESET":return[].concat((0,n.Z)(e),[t.value]);case"UPDATE_AUDIO_PRESET":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)}));case"REMOVE_AUDIO_PRESET":return e.filter((function(e){return e!==t.value}))}return e},presetLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRESET_LOADING"===e.type)return e.value},videosLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_VIDEOS_LOADING"===e.type)return e.value},videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0,total_pages:0,videos:[],hasResolved:!1,isError:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"UPDATE_VIDEOS":return u(u({},e),t.value);case"APPEND_VIDEOS":var r=e;return(t.value||[]).forEach((function(e){r.videos=p(r.videos,e)})),r;case"ADD_VIDEO":return u(u({},e),{},{videos:p(e.videos,t.value)});case"UPDATE_VIDEO":return u(u({},e),{},{videos:e.videos.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)}))});case"REMOVE_VIDEO":return u(u({},e),{},{videos:e.videos.filter((function(e){return e!==t.value}))})}return e},proModalReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRO_MODAL"===e.type)return e.value},brandingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BRANDING":return t.value;case"UPDATE_BRANDING":return u(u({},e),{},(0,r.Z)({},t.name,t.value))}return e},youtubeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_YOUTUBE":return t.value;case"UPDATE_YOUTUBE":return u(u({},e),{},(0,r.Z)({},t.name,t.value))}return e},presetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_SETTINGS"===t.type?t.value:e},optionsApi:function(e,t){switch(t.type){case"FETCH_OPTIONS":return l()({path:"/presto-player/v1/settings/"}).then((function(e){(0,a.dispatch)("presto-player/player").setBranding(e.presto_player_branding),(0,a.dispatch)("presto-player/player").setYoutube(e.presto_player_youtube),(0,a.dispatch)("presto-player/player").setPresetSettings(e.presto_player_presets),(0,a.dispatch)("presto-player/player").setPresetAudioSettings(e.presto_player_audio_presets)}));case"SAVE_OPTIONS":var r={presto_player_branding:(0,s.pick)(null==t?void 0:t.branding,["logo","color","logo_width","player_css"])};return Object.keys(r).forEach((function(e){return(null==r[e]||!Object.keys((null==r?void 0:r[e])||{}).length)&&delete r[e]})),l()({path:"/presto-player/v1/settings",method:"POST",data:r}),r}},audioPresetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_AUDIO_SETTINGS"===t.type?t.value:e}});function f(e){return(null==e?void 0:e.presetReducer)||[]}function y(e){return(null==e?void 0:e.audioPresetReducer)||[]}function v(e,t){var r;return null!=e&&null!==(r=e.presetReducer)&&void 0!==r&&r.length?null==e?void 0:e.presetReducer.find((function(e){return e.id===t})):[]}function m(e){return(null==e?void 0:e.videosReducer)||[]}function h(e,t){var r,n;return(null==e||null===(r=e.videosReducer)||void 0===r||null===(n=r.videos)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===t})))||[]}function b(e){var t,r=null==e||null===(t=e.presetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.presetReducer)||[]).find((function(e){return e.id&&e.id===r}));return n||(n=((null==e?void 0:e.presetReducer)||[]).find((function(e){return"default"==e.slug}))),n||(n=((null==e?void 0:e.presetReducer)||[])[0]),n}function g(e){var t,r=null==e||null===(t=e.audioPresetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.audioPresetReducer)||[]).find((function(e){return e.id&&e.id===r}));return n||(n=((null==e?void 0:e.audioPresetReducer)||[]).find((function(e){return"default"==e.slug}))),n||(n=((null==e?void 0:e.audioPresetReducer)||[])[0]),n}function Z(e){return!(null==e||!e.presetLoadingReducer)}function w(e){return null==e?void 0:e.brandingReducer}function _(e){var t;return null==e||null===(t=e.brandingReducer)||void 0===t?void 0:t.player_css}function k(e){return null==e?void 0:e.youtubeReducer}function x(e){return null==e?void 0:e.proModalReducer}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){return{type:"SET_PRESET_LOADING",value:e}}function O(e){return{type:"SET_VIDEOS_LOADING",value:e}}function S(e){return{type:"SET_PRO_MODAL",value:e}}function E(e){return{type:"SET_VIDEOS",value:e}}function $(e){return{type:"UPDATE_VIDEOS",value:e}}function N(e){return{type:"APPEND_VIDEOS",value:e}}function T(e){return{type:"ADD_VIDEO",value:e}}function A(e){return{type:"SET_PRESET",value:e}}function R(e){return{type:"ADD_PRESET",value:e}}function j(e){return{type:"UPDATE_PRESET",value:e}}function L(e){return{type:"REMOVE_PRESET",value:e}}function I(e){return{type:"SET_AUDIO_PRESET",value:e}}function D(e){return{type:"ADD_AUDIO_PRESET",value:e}}function B(e){return{type:"UPDATE_AUDIO_PRESET",value:e}}function M(e){return{type:"REMOVE_AUDIO_PRESET",value:e}}function F(e){return{type:"SET_BRANDING",value:e}}function V(e,t){return{type:"UPDATE_BRANDING",name:e,value:t}}function U(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"SAVE_OPTIONS"},e)}function z(){return{type:"FETCH_OPTIONS"}}function G(e){return{type:"FETCH_FROM_API",path:e}}function H(e,t){return{type:"FETCH_FROM_WP_API",path:e,args:t}}function W(e){return{type:"SET_YOUTUBE",value:e}}function q(e,t){return{type:"UPDATE_YOUTUBE",name:e,value:t}}function Y(e){return{type:"SET_PRESET_SETTINGS",value:e}}function X(e){return{type:"SET_PRESET_AUDIO_SETTINGS",value:e}}var K=o(5861),Q=o(1284),J=o.n(Q);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=wp.apiFetch,ne={FETCH_FROM_API:function(e){return re({url:prestoPlayer.root+prestoPlayer.prestoVersionString+e.path})},FETCH_FROM_WP_API:function(e){return(0,K.Z)(J().mark((function t(){var r,n,o,a,i,l,s;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.args,n=e.path,o=void 0===n?"":n,t.next=3,re(te(te(te({path:wp.url.addQueryArgs("wp/v2/".concat(o),null==r?void 0:r.query)},null!=r&&r.data?{data:r.data}:{}),null==r?void 0:r.options),{},{parse:!1}));case 3:return a=t.sent,t.next=6,a.json();case 6:return i=t.sent,l=a.headers&&a.headers.get("X-WP-Total"),s=a.headers&&a.headers.get("X-WP-TotalPages"),t.abrupt("return",new Promise((function(e,t){e({data:i,total:l,total_pages:s})})));case 10:case"end":return t.stop()}}),t)})))()}},oe={getPresets:J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("preset");case 2:return t=e.sent,e.abrupt("return",A(t));case 4:case"end":return e.stop()}}),e)})),getAudioPresets:J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("audio-preset");case 2:return t=e.sent,e.abrupt("return",I(t));case 4:case"end":return e.stop()}}),e)})),getReusableVideo:J().mark((function e(t){var r,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="presto-videos/".concat(t),e.next=3,H(r,{});case 3:return n=e.sent,e.abrupt("return",T((null==n?void 0:n.data)||{}));case 5:case"end":return e.stop()}}),e)}))},ae=(0,wp.data.registerStore)("presto-player/player",{reducer:d,selectors:e,actions:t,controls:ne,resolvers:oe}),ie=o(9807),le=o(917),se=wp.components,ce=se.Modal,ue=se.Button,pe=wp.data,de=pe.dispatch,fe=pe.useSelect,ye=wp.blocks,ve=ye.registerBlockType,me=ye.unregisterBlockType,he=wp.plugins,be=he.registerPlugin,ge=he.unregisterPlugin,Ze=wp.data,we=Ze.select,_e=Ze.dispatch,ke=wp.element.render,xe=function(){return null},Ce=function(e){var t=e.getContext,r=e.register,n=e.unregister,o=e.before,a=void 0===o?xe:o,i=e.after,l=void 0===i?xe:i,s={};!function(){a();var e=t(),o=[];e.keys().forEach((function(t){var a=e(t);a!==s[t]&&(s[t]&&n(s[t]),r(a),o.push(a.name),s[t]=a)})),l(o)}()},Pe=null;Ce({getContext:function(){return o(6652)},register:function(e){var t,r=e.name,n=e.options;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?ve(r,n):n.premium||ve(r,n)},unregister:function(e){var t=e.name;return me(t)},before:function(){Pe=we("core/editor").getSelectedBlockClientId(),_e("core/editor").clearSelectedBlock()},after:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];we("core/editor").getBlocks().forEach((function(t){var r=t.name,n=t.clientId;e.includes(r)&&_e("core/editor").selectBlock(n)})),Pe?_e("core/editor").selectBlock(Pe):_e("core/editor").clearSelectedBlock(),Pe=null}}),Ce({getContext:function(){return o(14)},register:function(e){var t=e.name,r=e.options;return be(t,r)},unregister:function(e){var t=e.name;return ge(t)}}),jQuery("body").append('<div id="presto-plugin-app"></div>'),ke((0,le.tZ)((function(){return fe((function(e){return e("presto-player/player").proModal()}))?(0,le.tZ)(ce,{title:"Pro Feature",onRequestClose:function(){de("presto-player/player").setProModal(!1)}},(0,le.tZ)("h2",null,"Unlock Presto Player ",(0,le.tZ)(ie.Z,null)),(0,le.tZ)("p",null,"Get this feature and more with the Pro version of Presto Player!"),(0,le.tZ)(ue,{href:"https://prestoplayer.com",target:"_blank",isPrimary:!0},"Learn More")):""}),null),document.getElementById("presto-plugin-app")),_e("presto-player/player").fetchOptions();var Oe=!1;wp.data.subscribe((function(){var e=wp.data.select("core/editor").isSavingPost(),t=wp.data.select("core/editor").isAutosavingPost();if(e&&!t){if(Oe)return;Oe=!0;var r=ae.getState().brandingReducer;_e("presto-player/player").saveOptions({branding:r}).then((function(){Oe=!1}))}}))}()}();